(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const u of r)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function o(r){const u={};return r.integrity&&(u.integrity=r.integrity),r.referrerPolicy&&(u.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?u.credentials="include":r.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(r){if(r.ep)return;r.ep=!0;const u=o(r);fetch(r.href,u)}})();var Ya=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function a0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var bu={exports:{}},Al={};var ap;function r0(){if(ap)return Al;ap=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function o(a,r,u){var f=null;if(u!==void 0&&(f=""+u),r.key!==void 0&&(f=""+r.key),"key"in r){u={};for(var h in r)h!=="key"&&(u[h]=r[h])}else u=r;return r=u.ref,{$$typeof:i,type:a,key:f,ref:r!==void 0?r:null,props:u}}return Al.Fragment=n,Al.jsx=o,Al.jsxs=o,Al}var rp;function s0(){return rp||(rp=1,bu.exports=r0()),bu.exports}var dt=s0(),wu={exports:{}},Dt={};var sp;function u0(){if(sp)return Dt;sp=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.iterator;function T(I){return I===null||typeof I!="object"?null:(I=S&&I[S]||I["@@iterator"],typeof I=="function"?I:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,R={};function M(I,L,lt){this.props=I,this.context=L,this.refs=R,this.updater=lt||b}M.prototype.isReactComponent={},M.prototype.setState=function(I,L){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,L,"setState")},M.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function x(){}x.prototype=M.prototype;function D(I,L,lt){this.props=I,this.context=L,this.refs=R,this.updater=lt||b}var G=D.prototype=new x;G.constructor=D,C(G,M.prototype),G.isPureReactComponent=!0;var U=Array.isArray;function K(){}var P={H:null,A:null,T:null,S:null},et=Object.prototype.hasOwnProperty;function q(I,L,lt){var nt=lt.ref;return{$$typeof:i,type:I,key:L,ref:nt!==void 0?nt:null,props:lt}}function at(I,L){return q(I.type,L,I.props)}function vt(I){return typeof I=="object"&&I!==null&&I.$$typeof===i}function B(I){var L={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(lt){return L[lt]})}var W=/\/+/g;function w(I,L){return typeof I=="object"&&I!==null&&I.key!=null?B(""+I.key):L.toString(36)}function it(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(K,K):(I.status="pending",I.then(function(L){I.status==="pending"&&(I.status="fulfilled",I.value=L)},function(L){I.status==="pending"&&(I.status="rejected",I.reason=L)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function J(I,L,lt,nt,st){var At=typeof I;(At==="undefined"||At==="boolean")&&(I=null);var It=!1;if(I===null)It=!0;else switch(At){case"bigint":case"string":case"number":It=!0;break;case"object":switch(I.$$typeof){case i:case n:It=!0;break;case v:return It=I._init,J(It(I._payload),L,lt,nt,st)}}if(It)return st=st(I),It=nt===""?"."+w(I,0):nt,U(st)?(lt="",It!=null&&(lt=It.replace(W,"$&/")+"/"),J(st,L,lt,"",function(ie){return ie})):st!=null&&(vt(st)&&(st=at(st,lt+(st.key==null||I&&I.key===st.key?"":(""+st.key).replace(W,"$&/")+"/")+It)),L.push(st)),1;It=0;var Nt=nt===""?".":nt+":";if(U(I))for(var wt=0;wt<I.length;wt++)nt=I[wt],At=Nt+w(nt,wt),It+=J(nt,L,lt,At,st);else if(wt=T(I),typeof wt=="function")for(I=wt.call(I),wt=0;!(nt=I.next()).done;)nt=nt.value,At=Nt+w(nt,wt++),It+=J(nt,L,lt,At,st);else if(At==="object"){if(typeof I.then=="function")return J(it(I),L,lt,nt,st);throw L=String(I),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return It}function Y(I,L,lt){if(I==null)return I;var nt=[],st=0;return J(I,nt,"","",function(At){return L.call(lt,At,st++)}),nt}function mt(I){if(I._status===-1){var L=I._result;L=L(),L.then(function(lt){(I._status===0||I._status===-1)&&(I._status=1,I._result=lt)},function(lt){(I._status===0||I._status===-1)&&(I._status=2,I._result=lt)}),I._status===-1&&(I._status=0,I._result=L)}if(I._status===1)return I._result.default;throw I._result}var rt=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},St={map:Y,forEach:function(I,L,lt){Y(I,function(){L.apply(this,arguments)},lt)},count:function(I){var L=0;return Y(I,function(){L++}),L},toArray:function(I){return Y(I,function(L){return L})||[]},only:function(I){if(!vt(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return Dt.Activity=_,Dt.Children=St,Dt.Component=M,Dt.Fragment=o,Dt.Profiler=r,Dt.PureComponent=D,Dt.StrictMode=a,Dt.Suspense=g,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return P.H.useMemoCache(I)}},Dt.cache=function(I){return function(){return I.apply(null,arguments)}},Dt.cacheSignal=function(){return null},Dt.cloneElement=function(I,L,lt){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var nt=C({},I.props),st=I.key;if(L!=null)for(At in L.key!==void 0&&(st=""+L.key),L)!et.call(L,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&L.ref===void 0||(nt[At]=L[At]);var At=arguments.length-2;if(At===1)nt.children=lt;else if(1<At){for(var It=Array(At),Nt=0;Nt<At;Nt++)It[Nt]=arguments[Nt+2];nt.children=It}return q(I.type,st,nt)},Dt.createContext=function(I){return I={$$typeof:f,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:u,_context:I},I},Dt.createElement=function(I,L,lt){var nt,st={},At=null;if(L!=null)for(nt in L.key!==void 0&&(At=""+L.key),L)et.call(L,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(st[nt]=L[nt]);var It=arguments.length-2;if(It===1)st.children=lt;else if(1<It){for(var Nt=Array(It),wt=0;wt<It;wt++)Nt[wt]=arguments[wt+2];st.children=Nt}if(I&&I.defaultProps)for(nt in It=I.defaultProps,It)st[nt]===void 0&&(st[nt]=It[nt]);return q(I,At,st)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(I){return{$$typeof:h,render:I}},Dt.isValidElement=vt,Dt.lazy=function(I){return{$$typeof:v,_payload:{_status:-1,_result:I},_init:mt}},Dt.memo=function(I,L){return{$$typeof:m,type:I,compare:L===void 0?null:L}},Dt.startTransition=function(I){var L=P.T,lt={};P.T=lt;try{var nt=I(),st=P.S;st!==null&&st(lt,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(K,rt)}catch(At){rt(At)}finally{L!==null&&lt.types!==null&&(L.types=lt.types),P.T=L}},Dt.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Dt.use=function(I){return P.H.use(I)},Dt.useActionState=function(I,L,lt){return P.H.useActionState(I,L,lt)},Dt.useCallback=function(I,L){return P.H.useCallback(I,L)},Dt.useContext=function(I){return P.H.useContext(I)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(I,L){return P.H.useDeferredValue(I,L)},Dt.useEffect=function(I,L){return P.H.useEffect(I,L)},Dt.useEffectEvent=function(I){return P.H.useEffectEvent(I)},Dt.useId=function(){return P.H.useId()},Dt.useImperativeHandle=function(I,L,lt){return P.H.useImperativeHandle(I,L,lt)},Dt.useInsertionEffect=function(I,L){return P.H.useInsertionEffect(I,L)},Dt.useLayoutEffect=function(I,L){return P.H.useLayoutEffect(I,L)},Dt.useMemo=function(I,L){return P.H.useMemo(I,L)},Dt.useOptimistic=function(I,L){return P.H.useOptimistic(I,L)},Dt.useReducer=function(I,L,lt){return P.H.useReducer(I,L,lt)},Dt.useRef=function(I){return P.H.useRef(I)},Dt.useState=function(I){return P.H.useState(I)},Dt.useSyncExternalStore=function(I,L,lt){return P.H.useSyncExternalStore(I,L,lt)},Dt.useTransition=function(){return P.H.useTransition()},Dt.version="19.2.4",Dt}var up;function $u(){return up||(up=1,wu.exports=u0()),wu.exports}var ae=$u(),Mu={exports:{}},Rl={},Nu={exports:{}},Iu={};var cp;function c0(){return cp||(cp=1,(function(i){function n(J,Y){var mt=J.length;J.push(Y);t:for(;0<mt;){var rt=mt-1>>>1,St=J[rt];if(0<r(St,Y))J[rt]=Y,J[mt]=St,mt=rt;else break t}}function o(J){return J.length===0?null:J[0]}function a(J){if(J.length===0)return null;var Y=J[0],mt=J.pop();if(mt!==Y){J[0]=mt;t:for(var rt=0,St=J.length,I=St>>>1;rt<I;){var L=2*(rt+1)-1,lt=J[L],nt=L+1,st=J[nt];if(0>r(lt,mt))nt<St&&0>r(st,lt)?(J[rt]=st,J[nt]=mt,rt=nt):(J[rt]=lt,J[L]=mt,rt=L);else if(nt<St&&0>r(st,mt))J[rt]=st,J[nt]=mt,rt=nt;else break t}}return Y}function r(J,Y){var mt=J.sortIndex-Y.sortIndex;return mt!==0?mt:J.id-Y.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();i.unstable_now=function(){return f.now()-h}}var g=[],m=[],v=1,_=null,S=3,T=!1,b=!1,C=!1,R=!1,M=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function G(J){for(var Y=o(m);Y!==null;){if(Y.callback===null)a(m);else if(Y.startTime<=J)a(m),Y.sortIndex=Y.expirationTime,n(g,Y);else break;Y=o(m)}}function U(J){if(C=!1,G(J),!b)if(o(g)!==null)b=!0,K||(K=!0,B());else{var Y=o(m);Y!==null&&it(U,Y.startTime-J)}}var K=!1,P=-1,et=5,q=-1;function at(){return R?!0:!(i.unstable_now()-q<et)}function vt(){if(R=!1,K){var J=i.unstable_now();q=J;var Y=!0;try{t:{b=!1,C&&(C=!1,x(P),P=-1),T=!0;var mt=S;try{e:{for(G(J),_=o(g);_!==null&&!(_.expirationTime>J&&at());){var rt=_.callback;if(typeof rt=="function"){_.callback=null,S=_.priorityLevel;var St=rt(_.expirationTime<=J);if(J=i.unstable_now(),typeof St=="function"){_.callback=St,G(J),Y=!0;break e}_===o(g)&&a(g),G(J)}else a(g);_=o(g)}if(_!==null)Y=!0;else{var I=o(m);I!==null&&it(U,I.startTime-J),Y=!1}}break t}finally{_=null,S=mt,T=!1}Y=void 0}}finally{Y?B():K=!1}}}var B;if(typeof D=="function")B=function(){D(vt)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,w=W.port2;W.port1.onmessage=vt,B=function(){w.postMessage(null)}}else B=function(){M(vt,0)};function it(J,Y){P=M(function(){J(i.unstable_now())},Y)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(J){J.callback=null},i.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):et=0<J?Math.floor(1e3/J):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(J){switch(S){case 1:case 2:case 3:var Y=3;break;default:Y=S}var mt=S;S=Y;try{return J()}finally{S=mt}},i.unstable_requestPaint=function(){R=!0},i.unstable_runWithPriority=function(J,Y){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var mt=S;S=J;try{return Y()}finally{S=mt}},i.unstable_scheduleCallback=function(J,Y,mt){var rt=i.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?rt+mt:rt):mt=rt,J){case 1:var St=-1;break;case 2:St=250;break;case 5:St=1073741823;break;case 4:St=1e4;break;default:St=5e3}return St=mt+St,J={id:v++,callback:Y,priorityLevel:J,startTime:mt,expirationTime:St,sortIndex:-1},mt>rt?(J.sortIndex=mt,n(m,J),o(g)===null&&J===o(m)&&(C?(x(P),P=-1):C=!0,it(U,mt-rt))):(J.sortIndex=St,n(g,J),b||T||(b=!0,K||(K=!0,B()))),J},i.unstable_shouldYield=at,i.unstable_wrapCallback=function(J){var Y=S;return function(){var mt=S;S=Y;try{return J.apply(this,arguments)}finally{S=mt}}}})(Iu)),Iu}var fp;function f0(){return fp||(fp=1,Nu.exports=c0()),Nu.exports}var xu={exports:{}},Re={};var dp;function d0(){if(dp)return Re;dp=1;var i=$u();function n(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(n(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},r=Symbol.for("react.portal");function u(g,m,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:_==null?null:""+_,children:g,containerInfo:m,implementation:v}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Re.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Re.createPortal=function(g,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(n(299));return u(g,m,null,v)},Re.flushSync=function(g){var m=f.T,v=a.p;try{if(f.T=null,a.p=2,g)return g()}finally{f.T=m,a.p=v,a.d.f()}},Re.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(g,m))},Re.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},Re.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var v=m.as,_=h(v,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,T=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?a.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:T}):v==="script"&&a.d.X(g,{crossOrigin:_,integrity:S,fetchPriority:T,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Re.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=h(m.as,m.crossOrigin);a.d.M(g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(g)},Re.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,_=h(v,m.crossOrigin);a.d.L(g,v,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Re.preloadModule=function(g,m){if(typeof g=="string")if(m){var v=h(m.as,m.crossOrigin);a.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(g)},Re.requestFormReset=function(g){a.d.r(g)},Re.unstable_batchedUpdates=function(g,m){return g(m)},Re.useFormState=function(g,m,v){return f.H.useFormState(g,m,v)},Re.useFormStatus=function(){return f.H.useHostTransitionStatus()},Re.version="19.2.4",Re}var hp;function h0(){if(hp)return xu.exports;hp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),xu.exports=d0(),xu.exports}var pp;function p0(){if(pp)return Rl;pp=1;var i=f0(),n=$u(),o=h0();function a(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)e+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var e=t,l=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(l=e.return),t=e.return;while(t)}return e.tag===3?l:null}function f(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function h(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(a(188))}function m(t){var e=t.alternate;if(!e){if(e=u(t),e===null)throw Error(a(188));return e!==t?null:t}for(var l=t,s=e;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(s=p.return,s!==null){l=s;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return g(p),t;if(y===s)return g(p),e;y=y.sibling}throw Error(a(188))}if(l.return!==s.return)l=p,s=y;else{for(var E=!1,N=p.child;N;){if(N===l){E=!0,l=p,s=y;break}if(N===s){E=!0,s=p,l=y;break}N=N.sibling}if(!E){for(N=y.child;N;){if(N===l){E=!0,l=y,s=p;break}if(N===s){E=!0,s=y,l=p;break}N=N.sibling}if(!E)throw Error(a(189))}}if(l.alternate!==s)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?t:e}function v(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=v(t),e!==null)return e;t=t.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),x=Symbol.for("react.consumer"),D=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),et=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),at=Symbol.for("react.memo_cache_sentinel"),vt=Symbol.iterator;function B(t){return t===null||typeof t!="object"?null:(t=vt&&t[vt]||t["@@iterator"],typeof t=="function"?t:null)}var W=Symbol.for("react.client.reference");function w(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===W?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case C:return"Fragment";case M:return"Profiler";case R:return"StrictMode";case U:return"Suspense";case K:return"SuspenseList";case q:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case b:return"Portal";case D:return t.displayName||"Context";case x:return(t._context.displayName||"Context")+".Consumer";case G:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case P:return e=t.displayName||null,e!==null?e:w(t.type)||"Memo";case et:e=t._payload,t=t._init;try{return w(t(e))}catch{}}return null}var it=Array.isArray,J=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},rt=[],St=-1;function I(t){return{current:t}}function L(t){0>St||(t.current=rt[St],rt[St]=null,St--)}function lt(t,e){St++,rt[St]=t.current,t.current=e}var nt=I(null),st=I(null),At=I(null),It=I(null);function Nt(t,e){switch(lt(At,e),lt(st,t),lt(nt,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Nh(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Nh(e),t=Ih(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}L(nt),lt(nt,t)}function wt(){L(nt),L(st),L(At)}function ie(t){t.memoizedState!==null&&lt(It,t);var e=nt.current,l=Ih(e,t.type);e!==l&&(lt(st,t),lt(nt,l))}function te(t){st.current===t&&(L(nt),L(st)),It.current===t&&(L(It),Sl._currentValue=mt)}var Ie,xe;function A(t){if(Ie===void 0)try{throw Error()}catch(l){var e=l.stack.trim().match(/\n( *(at )?)/);Ie=e&&e[1]||"",xe=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ie+t+xe}var ct=!1;function tt(t,e){if(!t||ct)return"";ct=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(e){var ft=function(){throw Error()};if(Object.defineProperty(ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ft,[])}catch(j){var $=j}Reflect.construct(t,[],ft)}else{try{ft.call()}catch(j){$=j}t.call(ft.prototype)}}else{try{throw Error()}catch(j){$=j}(ft=t())&&typeof ft.catch=="function"&&ft.catch(function(){})}}catch(j){if(j&&$&&typeof j.stack=="string")return[j.stack,$.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=s.DetermineComponentFrameRoot(),E=y[0],N=y[1];if(E&&N){var H=E.split(`
`),Z=N.split(`
`);for(p=s=0;s<H.length&&!H[s].includes("DetermineComponentFrameRoot");)s++;for(;p<Z.length&&!Z[p].includes("DetermineComponentFrameRoot");)p++;if(s===H.length||p===Z.length)for(s=H.length-1,p=Z.length-1;1<=s&&0<=p&&H[s]!==Z[p];)p--;for(;1<=s&&0<=p;s--,p--)if(H[s]!==Z[p]){if(s!==1||p!==1)do if(s--,p--,0>p||H[s]!==Z[p]){var ot=`
`+H[s].replace(" at new "," at ");return t.displayName&&ot.includes("<anonymous>")&&(ot=ot.replace("<anonymous>",t.displayName)),ot}while(1<=s&&0<=p);break}}}finally{ct=!1,Error.prepareStackTrace=l}return(l=t?t.displayName||t.name:"")?A(l):""}function z(t,e){switch(t.tag){case 26:case 27:case 5:return A(t.type);case 16:return A("Lazy");case 13:return t.child!==e&&e!==null?A("Suspense Fallback"):A("Suspense");case 19:return A("SuspenseList");case 0:case 15:return tt(t.type,!1);case 11:return tt(t.type.render,!1);case 1:return tt(t.type,!0);case 31:return A("Activity");default:return""}}function k(t){try{var e="",l=null;do e+=z(t,l),l=t,t=t.return;while(t);return e}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var V=Object.prototype.hasOwnProperty,ht=i.unstable_scheduleCallback,pt=i.unstable_cancelCallback,Q=i.unstable_shouldYield,gt=i.unstable_requestPaint,_t=i.unstable_now,yt=i.unstable_getCurrentPriorityLevel,Rt=i.unstable_ImmediatePriority,Jt=i.unstable_UserBlockingPriority,zt=i.unstable_NormalPriority,De=i.unstable_LowPriority,Yn=i.unstable_IdlePriority,Ze=i.log,vi=i.unstable_setDisableYieldValue,Wt=null,ge=null;function Qe(t){if(typeof Ze=="function"&&vi(t),ge&&typeof ge.setStrictMode=="function")try{ge.setStrictMode(Wt,t)}catch{}}var le=Math.clz32?Math.clz32:hr,xl=Math.log,dr=Math.LN2;function hr(t){return t>>>=0,t===0?32:31-(xl(t)/dr|0)|0}var Hi=256,_i=262144,_n=4194304;function $e(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Dl(t,e,l){var s=t.pendingLanes;if(s===0)return 0;var p=0,y=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var N=s&134217727;return N!==0?(s=N&~y,s!==0?p=$e(s):(E&=N,E!==0?p=$e(E):l||(l=N&~t,l!==0&&(p=$e(l))))):(N=s&~y,N!==0?p=$e(N):E!==0?p=$e(E):l||(l=s&~t,l!==0&&(p=$e(l)))),p===0?0:e!==0&&e!==p&&(e&y)===0&&(y=p&-p,l=e&-e,y>=l||y===32&&(l&4194048)!==0)?e:p}function Uo(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Kg(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uc(){var t=_n;return _n<<=1,(_n&62914560)===0&&(_n=4194304),t}function pr(t){for(var e=[],l=0;31>l;l++)e.push(t);return e}function ko(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Xg(t,e,l,s,p,y){var E=t.pendingLanes;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=l,t.entangledLanes&=l,t.errorRecoveryDisabledLanes&=l,t.shellSuspendCounter=0;var N=t.entanglements,H=t.expirationTimes,Z=t.hiddenUpdates;for(l=E&~l;0<l;){var ot=31-le(l),ft=1<<ot;N[ot]=0,H[ot]=-1;var $=Z[ot];if($!==null)for(Z[ot]=null,ot=0;ot<$.length;ot++){var j=$[ot];j!==null&&(j.lane&=-536870913)}l&=~ft}s!==0&&cc(t,s,0),y!==0&&p===0&&t.tag!==0&&(t.suspendedLanes|=y&~(E&~e))}function cc(t,e,l){t.pendingLanes|=e,t.suspendedLanes&=~e;var s=31-le(e);t.entangledLanes|=e,t.entanglements[s]=t.entanglements[s]|1073741824|l&261930}function fc(t,e){var l=t.entangledLanes|=e;for(t=t.entanglements;l;){var s=31-le(l),p=1<<s;p&e|t[s]&e&&(t[s]|=e),l&=~p}}function dc(t,e){var l=e&-e;return l=(l&42)!==0?1:mr(l),(l&(t.suspendedLanes|e))!==0?0:l}function mr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function gr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function hc(){var t=Y.p;return t!==0?t:(t=window.event,t===void 0?32:jh(t.type))}function pc(t,e){var l=Y.p;try{return Y.p=t,e()}finally{Y.p=l}}var Jn=Math.random().toString(36).slice(2),Se="__reactFiber$"+Jn,Ue="__reactProps$"+Jn,Oi="__reactContainer$"+Jn,yr="__reactEvents$"+Jn,Zg="__reactListeners$"+Jn,Qg="__reactHandles$"+Jn,mc="__reactResources$"+Jn,Lo="__reactMarker$"+Jn;function vr(t){delete t[Se],delete t[Ue],delete t[yr],delete t[Zg],delete t[Qg]}function Pi(t){var e=t[Se];if(e)return e;for(var l=t.parentNode;l;){if(e=l[Oi]||l[Se]){if(l=e.alternate,e.child!==null||l!==null&&l.child!==null)for(t=Gh(t);t!==null;){if(l=t[Se])return l;t=Gh(t)}return e}t=l,l=t.parentNode}return null}function qi(t){if(t=t[Se]||t[Oi]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function zo(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(a(33))}function Vi(t){var e=t[mc];return e||(e=t[mc]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function ye(t){t[Lo]=!0}var gc=new Set,yc={};function Si(t,e){Fi(t,e),Fi(t+"Capture",e)}function Fi(t,e){for(yc[t]=e,t=0;t<e.length;t++)gc.add(e[t])}var $g=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vc={},_c={};function Wg(t){return V.call(_c,t)?!0:V.call(vc,t)?!1:$g.test(t)?_c[t]=!0:(vc[t]=!0,!1)}function Ul(t,e,l){if(Wg(e))if(l===null)t.removeAttribute(e);else{switch(typeof l){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var s=e.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+l)}}function kl(t,e,l){if(l===null)t.removeAttribute(e);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+l)}}function An(t,e,l,s){if(s===null)t.removeAttribute(l);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttributeNS(e,l,""+s)}}function We(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Sc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function jg(t,e,l){var s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var p=s.get,y=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return p.call(this)},set:function(E){l=""+E,y.call(this,E)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _r(t){if(!t._valueTracker){var e=Sc(t)?"checked":"value";t._valueTracker=jg(t,e,""+t[e])}}function Tc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var l=e.getValue(),s="";return t&&(s=Sc(t)?t.checked?"true":"false":t.value),t=s,t!==l?(e.setValue(t),!0):!1}function Ll(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ty=/[\n"\\]/g;function je(t){return t.replace(ty,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Sr(t,e,l,s,p,y,E,N){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),e!=null?E==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+We(e)):t.value!==""+We(e)&&(t.value=""+We(e)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),e!=null?Tr(t,E,We(e)):l!=null?Tr(t,E,We(l)):s!=null&&t.removeAttribute("value"),p==null&&y!=null&&(t.defaultChecked=!!y),p!=null&&(t.checked=p&&typeof p!="function"&&typeof p!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?t.name=""+We(N):t.removeAttribute("name")}function Ec(t,e,l,s,p,y,E,N){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.type=y),e!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||e!=null)){_r(t);return}l=l!=null?""+We(l):"",e=e!=null?""+We(e):l,N||e===t.value||(t.value=e),t.defaultValue=e}s=s??p,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=N?t.checked:!!s,t.defaultChecked=!!s,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E),_r(t)}function Tr(t,e,l){e==="number"&&Ll(t.ownerDocument)===t||t.defaultValue===""+l||(t.defaultValue=""+l)}function Yi(t,e,l,s){if(t=t.options,e){e={};for(var p=0;p<l.length;p++)e["$"+l[p]]=!0;for(l=0;l<t.length;l++)p=e.hasOwnProperty("$"+t[l].value),t[l].selected!==p&&(t[l].selected=p),p&&s&&(t[l].defaultSelected=!0)}else{for(l=""+We(l),e=null,p=0;p<t.length;p++){if(t[p].value===l){t[p].selected=!0,s&&(t[p].defaultSelected=!0);return}e!==null||t[p].disabled||(e=t[p])}e!==null&&(e.selected=!0)}}function Cc(t,e,l){if(e!=null&&(e=""+We(e),e!==t.value&&(t.value=e),l==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=l!=null?""+We(l):""}function Ac(t,e,l,s){if(e==null){if(s!=null){if(l!=null)throw Error(a(92));if(it(s)){if(1<s.length)throw Error(a(93));s=s[0]}l=s}l==null&&(l=""),e=l}l=We(e),t.defaultValue=l,s=t.textContent,s===l&&s!==""&&s!==null&&(t.value=s),_r(t)}function Ji(t,e){if(e){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=e;return}}t.textContent=e}var ey=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rc(t,e,l){var s=e.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?s?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":s?t.setProperty(e,l):typeof l!="number"||l===0||ey.has(e)?e==="float"?t.cssFloat=l:t[e]=(""+l).trim():t[e]=l+"px"}function bc(t,e,l){if(e!=null&&typeof e!="object")throw Error(a(62));if(t=t.style,l!=null){for(var s in l)!l.hasOwnProperty(s)||e!=null&&e.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var p in e)s=e[p],e.hasOwnProperty(p)&&l[p]!==s&&Rc(t,p,s)}else for(var y in e)e.hasOwnProperty(y)&&Rc(t,y,e[y])}function Er(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ny=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),iy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zl(t){return iy.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Rn(){}var Cr=null;function Ar(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ki=null,Xi=null;function wc(t){var e=qi(t);if(e&&(t=e.stateNode)){var l=t[Ue]||null;t:switch(t=e.stateNode,e.type){case"input":if(Sr(t,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),e=l.name,l.type==="radio"&&e!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+je(""+e)+'"][type="radio"]'),e=0;e<l.length;e++){var s=l[e];if(s!==t&&s.form===t.form){var p=s[Ue]||null;if(!p)throw Error(a(90));Sr(s,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(e=0;e<l.length;e++)s=l[e],s.form===t.form&&Tc(s)}break t;case"textarea":Cc(t,l.value,l.defaultValue);break t;case"select":e=l.value,e!=null&&Yi(t,!!l.multiple,e,!1)}}}var Rr=!1;function Mc(t,e,l){if(Rr)return t(e,l);Rr=!0;try{var s=t(e);return s}finally{if(Rr=!1,(Ki!==null||Xi!==null)&&(Ca(),Ki&&(e=Ki,t=Xi,Xi=Ki=null,wc(e),t)))for(e=0;e<t.length;e++)wc(t[e])}}function Go(t,e){var l=t.stateNode;if(l===null)return null;var s=l[Ue]||null;if(s===null)return null;l=s[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break t;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(a(231,e,typeof l));return l}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),br=!1;if(bn)try{var Bo={};Object.defineProperty(Bo,"passive",{get:function(){br=!0}}),window.addEventListener("test",Bo,Bo),window.removeEventListener("test",Bo,Bo)}catch{br=!1}var Kn=null,wr=null,Gl=null;function Nc(){if(Gl)return Gl;var t,e=wr,l=e.length,s,p="value"in Kn?Kn.value:Kn.textContent,y=p.length;for(t=0;t<l&&e[t]===p[t];t++);var E=l-t;for(s=1;s<=E&&e[l-s]===p[y-s];s++);return Gl=p.slice(t,1<s?1-s:void 0)}function Bl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Hl(){return!0}function Ic(){return!1}function ke(t){function e(l,s,p,y,E){this._reactName=l,this._targetInst=p,this.type=s,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var N in t)t.hasOwnProperty(N)&&(l=t[N],this[N]=l?l(y):y[N]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Hl:Ic,this.isPropagationStopped=Ic,this}return _(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Hl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Hl)},persist:function(){},isPersistent:Hl}),e}var Ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ol=ke(Ti),Ho=_({},Ti,{view:0,detail:0}),oy=ke(Ho),Mr,Nr,Oo,Pl=_({},Ho,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oo&&(Oo&&t.type==="mousemove"?(Mr=t.screenX-Oo.screenX,Nr=t.screenY-Oo.screenY):Nr=Mr=0,Oo=t),Mr)},movementY:function(t){return"movementY"in t?t.movementY:Nr}}),xc=ke(Pl),ly=_({},Pl,{dataTransfer:0}),ay=ke(ly),ry=_({},Ho,{relatedTarget:0}),Ir=ke(ry),sy=_({},Ti,{animationName:0,elapsedTime:0,pseudoElement:0}),uy=ke(sy),cy=_({},Ti,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fy=ke(cy),dy=_({},Ti,{data:0}),Dc=ke(dy),hy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},py={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},my={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gy(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=my[t])?!!e[t]:!1}function xr(){return gy}var yy=_({},Ho,{key:function(t){if(t.key){var e=hy[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?py[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xr,charCode:function(t){return t.type==="keypress"?Bl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vy=ke(yy),_y=_({},Pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uc=ke(_y),Sy=_({},Ho,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xr}),Ty=ke(Sy),Ey=_({},Ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cy=ke(Ey),Ay=_({},Pl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ry=ke(Ay),by=_({},Ti,{newState:0,oldState:0}),wy=ke(by),My=[9,13,27,32],Dr=bn&&"CompositionEvent"in window,Po=null;bn&&"documentMode"in document&&(Po=document.documentMode);var Ny=bn&&"TextEvent"in window&&!Po,kc=bn&&(!Dr||Po&&8<Po&&11>=Po),Lc=" ",zc=!1;function Gc(t,e){switch(t){case"keyup":return My.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Zi=!1;function Iy(t,e){switch(t){case"compositionend":return Bc(e);case"keypress":return e.which!==32?null:(zc=!0,Lc);case"textInput":return t=e.data,t===Lc&&zc?null:t;default:return null}}function xy(t,e){if(Zi)return t==="compositionend"||!Dr&&Gc(t,e)?(t=Nc(),Gl=wr=Kn=null,Zi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kc&&e.locale!=="ko"?null:e.data;default:return null}}var Dy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Dy[t.type]:e==="textarea"}function Oc(t,e,l,s){Ki?Xi?Xi.push(s):Xi=[s]:Ki=s,e=Ia(e,"onChange"),0<e.length&&(l=new Ol("onChange","change",null,l,s),t.push({event:l,listeners:e}))}var qo=null,Vo=null;function Uy(t){Ch(t,0)}function ql(t){var e=zo(t);if(Tc(e))return t}function Pc(t,e){if(t==="change")return e}var qc=!1;if(bn){var Ur;if(bn){var kr="oninput"in document;if(!kr){var Vc=document.createElement("div");Vc.setAttribute("oninput","return;"),kr=typeof Vc.oninput=="function"}Ur=kr}else Ur=!1;qc=Ur&&(!document.documentMode||9<document.documentMode)}function Fc(){qo&&(qo.detachEvent("onpropertychange",Yc),Vo=qo=null)}function Yc(t){if(t.propertyName==="value"&&ql(Vo)){var e=[];Oc(e,Vo,t,Ar(t)),Mc(Uy,e)}}function ky(t,e,l){t==="focusin"?(Fc(),qo=e,Vo=l,qo.attachEvent("onpropertychange",Yc)):t==="focusout"&&Fc()}function Ly(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ql(Vo)}function zy(t,e){if(t==="click")return ql(e)}function Gy(t,e){if(t==="input"||t==="change")return ql(e)}function By(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pe=typeof Object.is=="function"?Object.is:By;function Fo(t,e){if(Pe(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var l=Object.keys(t),s=Object.keys(e);if(l.length!==s.length)return!1;for(s=0;s<l.length;s++){var p=l[s];if(!V.call(e,p)||!Pe(t[p],e[p]))return!1}return!0}function Jc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Kc(t,e){var l=Jc(t);t=0;for(var s;l;){if(l.nodeType===3){if(s=t+l.textContent.length,t<=e&&s>=e)return{node:l,offset:e-t};t=s}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Jc(l)}}function Xc(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Xc(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Zc(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Ll(t.document);e instanceof t.HTMLIFrameElement;){try{var l=typeof e.contentWindow.location.href=="string"}catch{l=!1}if(l)t=e.contentWindow;else break;e=Ll(t.document)}return e}function Lr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Hy=bn&&"documentMode"in document&&11>=document.documentMode,Qi=null,zr=null,Yo=null,Gr=!1;function Qc(t,e,l){var s=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Gr||Qi==null||Qi!==Ll(s)||(s=Qi,"selectionStart"in s&&Lr(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Yo&&Fo(Yo,s)||(Yo=s,s=Ia(zr,"onSelect"),0<s.length&&(e=new Ol("onSelect","select",null,e,l),t.push({event:e,listeners:s}),e.target=Qi)))}function Ei(t,e){var l={};return l[t.toLowerCase()]=e.toLowerCase(),l["Webkit"+t]="webkit"+e,l["Moz"+t]="moz"+e,l}var $i={animationend:Ei("Animation","AnimationEnd"),animationiteration:Ei("Animation","AnimationIteration"),animationstart:Ei("Animation","AnimationStart"),transitionrun:Ei("Transition","TransitionRun"),transitionstart:Ei("Transition","TransitionStart"),transitioncancel:Ei("Transition","TransitionCancel"),transitionend:Ei("Transition","TransitionEnd")},Br={},$c={};bn&&($c=document.createElement("div").style,"AnimationEvent"in window||(delete $i.animationend.animation,delete $i.animationiteration.animation,delete $i.animationstart.animation),"TransitionEvent"in window||delete $i.transitionend.transition);function Ci(t){if(Br[t])return Br[t];if(!$i[t])return t;var e=$i[t],l;for(l in e)if(e.hasOwnProperty(l)&&l in $c)return Br[t]=e[l];return t}var Wc=Ci("animationend"),jc=Ci("animationiteration"),tf=Ci("animationstart"),Oy=Ci("transitionrun"),Py=Ci("transitionstart"),qy=Ci("transitioncancel"),ef=Ci("transitionend"),nf=new Map,Hr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hr.push("scrollEnd");function dn(t,e){nf.set(t,e),Si(e,[t])}var Vl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},tn=[],Wi=0,Or=0;function Fl(){for(var t=Wi,e=Or=Wi=0;e<t;){var l=tn[e];tn[e++]=null;var s=tn[e];tn[e++]=null;var p=tn[e];tn[e++]=null;var y=tn[e];if(tn[e++]=null,s!==null&&p!==null){var E=s.pending;E===null?p.next=p:(p.next=E.next,E.next=p),s.pending=p}y!==0&&of(l,p,y)}}function Yl(t,e,l,s){tn[Wi++]=t,tn[Wi++]=e,tn[Wi++]=l,tn[Wi++]=s,Or|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function Pr(t,e,l,s){return Yl(t,e,l,s),Jl(t)}function Ai(t,e){return Yl(t,null,null,e),Jl(t)}function of(t,e,l){t.lanes|=l;var s=t.alternate;s!==null&&(s.lanes|=l);for(var p=!1,y=t.return;y!==null;)y.childLanes|=l,s=y.alternate,s!==null&&(s.childLanes|=l),y.tag===22&&(t=y.stateNode,t===null||t._visibility&1||(p=!0)),t=y,y=y.return;return t.tag===3?(y=t.stateNode,p&&e!==null&&(p=31-le(l),t=y.hiddenUpdates,s=t[p],s===null?t[p]=[e]:s.push(e),e.lane=l|536870912),y):null}function Jl(t){if(50<hl)throw hl=0,Qs=null,Error(a(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var ji={};function Vy(t,e,l,s){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qe(t,e,l,s){return new Vy(t,e,l,s)}function qr(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wn(t,e){var l=t.alternate;return l===null?(l=qe(t.tag,e,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=e,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&65011712,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,e=t.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l.refCleanup=t.refCleanup,l}function lf(t,e){t.flags&=65011714;var l=t.alternate;return l===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=l.childLanes,t.lanes=l.lanes,t.child=l.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=l.memoizedProps,t.memoizedState=l.memoizedState,t.updateQueue=l.updateQueue,t.type=l.type,e=l.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Kl(t,e,l,s,p,y){var E=0;if(s=t,typeof t=="function")qr(t)&&(E=1);else if(typeof t=="string")E=Xv(t,l,nt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case q:return t=qe(31,l,e,p),t.elementType=q,t.lanes=y,t;case C:return Ri(l.children,p,y,e);case R:E=8,p|=24;break;case M:return t=qe(12,l,e,p|2),t.elementType=M,t.lanes=y,t;case U:return t=qe(13,l,e,p),t.elementType=U,t.lanes=y,t;case K:return t=qe(19,l,e,p),t.elementType=K,t.lanes=y,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case D:E=10;break t;case x:E=9;break t;case G:E=11;break t;case P:E=14;break t;case et:E=16,s=null;break t}E=29,l=Error(a(130,t===null?"null":typeof t,"")),s=null}return e=qe(E,l,e,p),e.elementType=t,e.type=s,e.lanes=y,e}function Ri(t,e,l,s){return t=qe(7,t,s,e),t.lanes=l,t}function Vr(t,e,l){return t=qe(6,t,null,e),t.lanes=l,t}function af(t){var e=qe(18,null,null,0);return e.stateNode=t,e}function Fr(t,e,l){return e=qe(4,t.children!==null?t.children:[],t.key,e),e.lanes=l,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var rf=new WeakMap;function en(t,e){if(typeof t=="object"&&t!==null){var l=rf.get(t);return l!==void 0?l:(e={value:t,source:e,stack:k(e)},rf.set(t,e),e)}return{value:t,source:e,stack:k(e)}}var to=[],eo=0,Xl=null,Jo=0,nn=[],on=0,Xn=null,Sn=1,Tn="";function Mn(t,e){to[eo++]=Jo,to[eo++]=Xl,Xl=t,Jo=e}function sf(t,e,l){nn[on++]=Sn,nn[on++]=Tn,nn[on++]=Xn,Xn=t;var s=Sn;t=Tn;var p=32-le(s)-1;s&=~(1<<p),l+=1;var y=32-le(e)+p;if(30<y){var E=p-p%5;y=(s&(1<<E)-1).toString(32),s>>=E,p-=E,Sn=1<<32-le(e)+p|l<<p|s,Tn=y+t}else Sn=1<<y|l<<p|s,Tn=t}function Yr(t){t.return!==null&&(Mn(t,1),sf(t,1,0))}function Jr(t){for(;t===Xl;)Xl=to[--eo],to[eo]=null,Jo=to[--eo],to[eo]=null;for(;t===Xn;)Xn=nn[--on],nn[on]=null,Tn=nn[--on],nn[on]=null,Sn=nn[--on],nn[on]=null}function uf(t,e){nn[on++]=Sn,nn[on++]=Tn,nn[on++]=Xn,Sn=e.id,Tn=e.overflow,Xn=t}var Te=null,ee=null,Pt=!1,Zn=null,ln=!1,Kr=Error(a(519));function Qn(t){var e=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ko(en(e,t)),Kr}function cf(t){var e=t.stateNode,l=t.type,s=t.memoizedProps;switch(e[Se]=t,e[Ue]=s,l){case"dialog":Bt("cancel",e),Bt("close",e);break;case"iframe":case"object":case"embed":Bt("load",e);break;case"video":case"audio":for(l=0;l<ml.length;l++)Bt(ml[l],e);break;case"source":Bt("error",e);break;case"img":case"image":case"link":Bt("error",e),Bt("load",e);break;case"details":Bt("toggle",e);break;case"input":Bt("invalid",e),Ec(e,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Bt("invalid",e);break;case"textarea":Bt("invalid",e),Ac(e,s.value,s.defaultValue,s.children)}l=s.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||e.textContent===""+l||s.suppressHydrationWarning===!0||wh(e.textContent,l)?(s.popover!=null&&(Bt("beforetoggle",e),Bt("toggle",e)),s.onScroll!=null&&Bt("scroll",e),s.onScrollEnd!=null&&Bt("scrollend",e),s.onClick!=null&&(e.onclick=Rn),e=!0):e=!1,e||Qn(t,!0)}function ff(t){for(Te=t.return;Te;)switch(Te.tag){case 5:case 31:case 13:ln=!1;return;case 27:case 3:ln=!0;return;default:Te=Te.return}}function no(t){if(t!==Te)return!1;if(!Pt)return ff(t),Pt=!0,!1;var e=t.tag,l;if((l=e!==3&&e!==27)&&((l=e===5)&&(l=t.type,l=!(l!=="form"&&l!=="button")||fu(t.type,t.memoizedProps)),l=!l),l&&ee&&Qn(t),ff(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ee=zh(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ee=zh(t)}else e===27?(e=ee,ci(t.type)?(t=gu,gu=null,ee=t):ee=e):ee=Te?rn(t.stateNode.nextSibling):null;return!0}function bi(){ee=Te=null,Pt=!1}function Xr(){var t=Zn;return t!==null&&(Be===null?Be=t:Be.push.apply(Be,t),Zn=null),t}function Ko(t){Zn===null?Zn=[t]:Zn.push(t)}var Zr=I(null),wi=null,Nn=null;function $n(t,e,l){lt(Zr,e._currentValue),e._currentValue=l}function In(t){t._currentValue=Zr.current,L(Zr)}function Qr(t,e,l){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===l)break;t=t.return}}function $r(t,e,l,s){var p=t.child;for(p!==null&&(p.return=t);p!==null;){var y=p.dependencies;if(y!==null){var E=p.child;y=y.firstContext;t:for(;y!==null;){var N=y;y=p;for(var H=0;H<e.length;H++)if(N.context===e[H]){y.lanes|=l,N=y.alternate,N!==null&&(N.lanes|=l),Qr(y.return,l,t),s||(E=null);break t}y=N.next}}else if(p.tag===18){if(E=p.return,E===null)throw Error(a(341));E.lanes|=l,y=E.alternate,y!==null&&(y.lanes|=l),Qr(E,l,t),E=null}else E=p.child;if(E!==null)E.return=p;else for(E=p;E!==null;){if(E===t){E=null;break}if(p=E.sibling,p!==null){p.return=E.return,E=p;break}E=E.return}p=E}}function io(t,e,l,s){t=null;for(var p=e,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var E=p.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var N=p.type;Pe(p.pendingProps.value,E.value)||(t!==null?t.push(N):t=[N])}}else if(p===It.current){if(E=p.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(t!==null?t.push(Sl):t=[Sl])}p=p.return}t!==null&&$r(e,t,l,s),e.flags|=262144}function Zl(t){for(t=t.firstContext;t!==null;){if(!Pe(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Mi(t){wi=t,Nn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ee(t){return df(wi,t)}function Ql(t,e){return wi===null&&Mi(t),df(t,e)}function df(t,e){var l=e._currentValue;if(e={context:e,memoizedValue:l,next:null},Nn===null){if(t===null)throw Error(a(308));Nn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Nn=Nn.next=e;return l}var Fy=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(l,s){t.push(s)}};this.abort=function(){e.aborted=!0,t.forEach(function(l){return l()})}},Yy=i.unstable_scheduleCallback,Jy=i.unstable_NormalPriority,fe={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wr(){return{controller:new Fy,data:new Map,refCount:0}}function Xo(t){t.refCount--,t.refCount===0&&Yy(Jy,function(){t.controller.abort()})}var Zo=null,jr=0,oo=0,lo=null;function Ky(t,e){if(Zo===null){var l=Zo=[];jr=0,oo=nu(),lo={status:"pending",value:void 0,then:function(s){l.push(s)}}}return jr++,e.then(hf,hf),e}function hf(){if(--jr===0&&Zo!==null){lo!==null&&(lo.status="fulfilled");var t=Zo;Zo=null,oo=0,lo=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function Xy(t,e){var l=[],s={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return t.then(function(){s.status="fulfilled",s.value=e;for(var p=0;p<l.length;p++)(0,l[p])(e)},function(p){for(s.status="rejected",s.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),s}var pf=J.S;J.S=function(t,e){$d=_t(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&Ky(t,e),pf!==null&&pf(t,e)};var Ni=I(null);function ts(){var t=Ni.current;return t!==null?t:jt.pooledCache}function $l(t,e){e===null?lt(Ni,Ni.current):lt(Ni,e.pool)}function mf(){var t=ts();return t===null?null:{parent:fe._currentValue,pool:t}}var ao=Error(a(460)),es=Error(a(474)),Wl=Error(a(542)),jl={then:function(){}};function gf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function yf(t,e,l){switch(l=t[l],l===void 0?t.push(e):l!==e&&(e.then(Rn,Rn),e=l),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,_f(t),t;default:if(typeof e.status=="string")e.then(Rn,Rn);else{if(t=jt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=e,t.status="pending",t.then(function(s){if(e.status==="pending"){var p=e;p.status="fulfilled",p.value=s}},function(s){if(e.status==="pending"){var p=e;p.status="rejected",p.reason=s}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,_f(t),t}throw xi=e,ao}}function Ii(t){try{var e=t._init;return e(t._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(xi=l,ao):l}}var xi=null;function vf(){if(xi===null)throw Error(a(459));var t=xi;return xi=null,t}function _f(t){if(t===ao||t===Wl)throw Error(a(483))}var ro=null,Qo=0;function ta(t){var e=Qo;return Qo+=1,ro===null&&(ro=[]),yf(ro,t,e)}function $o(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function ea(t,e){throw e.$$typeof===S?Error(a(525)):(t=Object.prototype.toString.call(e),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Sf(t){function e(F,O){if(t){var X=F.deletions;X===null?(F.deletions=[O],F.flags|=16):X.push(O)}}function l(F,O){if(!t)return null;for(;O!==null;)e(F,O),O=O.sibling;return null}function s(F){for(var O=new Map;F!==null;)F.key!==null?O.set(F.key,F):O.set(F.index,F),F=F.sibling;return O}function p(F,O){return F=wn(F,O),F.index=0,F.sibling=null,F}function y(F,O,X){return F.index=X,t?(X=F.alternate,X!==null?(X=X.index,X<O?(F.flags|=67108866,O):X):(F.flags|=67108866,O)):(F.flags|=1048576,O)}function E(F){return t&&F.alternate===null&&(F.flags|=67108866),F}function N(F,O,X,ut){return O===null||O.tag!==6?(O=Vr(X,F.mode,ut),O.return=F,O):(O=p(O,X),O.return=F,O)}function H(F,O,X,ut){var bt=X.type;return bt===C?ot(F,O,X.props.children,ut,X.key):O!==null&&(O.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===et&&Ii(bt)===O.type)?(O=p(O,X.props),$o(O,X),O.return=F,O):(O=Kl(X.type,X.key,X.props,null,F.mode,ut),$o(O,X),O.return=F,O)}function Z(F,O,X,ut){return O===null||O.tag!==4||O.stateNode.containerInfo!==X.containerInfo||O.stateNode.implementation!==X.implementation?(O=Fr(X,F.mode,ut),O.return=F,O):(O=p(O,X.children||[]),O.return=F,O)}function ot(F,O,X,ut,bt){return O===null||O.tag!==7?(O=Ri(X,F.mode,ut,bt),O.return=F,O):(O=p(O,X),O.return=F,O)}function ft(F,O,X){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Vr(""+O,F.mode,X),O.return=F,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case T:return X=Kl(O.type,O.key,O.props,null,F.mode,X),$o(X,O),X.return=F,X;case b:return O=Fr(O,F.mode,X),O.return=F,O;case et:return O=Ii(O),ft(F,O,X)}if(it(O)||B(O))return O=Ri(O,F.mode,X,null),O.return=F,O;if(typeof O.then=="function")return ft(F,ta(O),X);if(O.$$typeof===D)return ft(F,Ql(F,O),X);ea(F,O)}return null}function $(F,O,X,ut){var bt=O!==null?O.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return bt!==null?null:N(F,O,""+X,ut);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case T:return X.key===bt?H(F,O,X,ut):null;case b:return X.key===bt?Z(F,O,X,ut):null;case et:return X=Ii(X),$(F,O,X,ut)}if(it(X)||B(X))return bt!==null?null:ot(F,O,X,ut,null);if(typeof X.then=="function")return $(F,O,ta(X),ut);if(X.$$typeof===D)return $(F,O,Ql(F,X),ut);ea(F,X)}return null}function j(F,O,X,ut,bt){if(typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint")return F=F.get(X)||null,N(O,F,""+ut,bt);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case T:return F=F.get(ut.key===null?X:ut.key)||null,H(O,F,ut,bt);case b:return F=F.get(ut.key===null?X:ut.key)||null,Z(O,F,ut,bt);case et:return ut=Ii(ut),j(F,O,X,ut,bt)}if(it(ut)||B(ut))return F=F.get(X)||null,ot(O,F,ut,bt,null);if(typeof ut.then=="function")return j(F,O,X,ta(ut),bt);if(ut.$$typeof===D)return j(F,O,X,Ql(O,ut),bt);ea(O,ut)}return null}function Et(F,O,X,ut){for(var bt=null,qt=null,Ct=O,kt=O=0,Ot=null;Ct!==null&&kt<X.length;kt++){Ct.index>kt?(Ot=Ct,Ct=null):Ot=Ct.sibling;var Vt=$(F,Ct,X[kt],ut);if(Vt===null){Ct===null&&(Ct=Ot);break}t&&Ct&&Vt.alternate===null&&e(F,Ct),O=y(Vt,O,kt),qt===null?bt=Vt:qt.sibling=Vt,qt=Vt,Ct=Ot}if(kt===X.length)return l(F,Ct),Pt&&Mn(F,kt),bt;if(Ct===null){for(;kt<X.length;kt++)Ct=ft(F,X[kt],ut),Ct!==null&&(O=y(Ct,O,kt),qt===null?bt=Ct:qt.sibling=Ct,qt=Ct);return Pt&&Mn(F,kt),bt}for(Ct=s(Ct);kt<X.length;kt++)Ot=j(Ct,F,kt,X[kt],ut),Ot!==null&&(t&&Ot.alternate!==null&&Ct.delete(Ot.key===null?kt:Ot.key),O=y(Ot,O,kt),qt===null?bt=Ot:qt.sibling=Ot,qt=Ot);return t&&Ct.forEach(function(mi){return e(F,mi)}),Pt&&Mn(F,kt),bt}function Mt(F,O,X,ut){if(X==null)throw Error(a(151));for(var bt=null,qt=null,Ct=O,kt=O=0,Ot=null,Vt=X.next();Ct!==null&&!Vt.done;kt++,Vt=X.next()){Ct.index>kt?(Ot=Ct,Ct=null):Ot=Ct.sibling;var mi=$(F,Ct,Vt.value,ut);if(mi===null){Ct===null&&(Ct=Ot);break}t&&Ct&&mi.alternate===null&&e(F,Ct),O=y(mi,O,kt),qt===null?bt=mi:qt.sibling=mi,qt=mi,Ct=Ot}if(Vt.done)return l(F,Ct),Pt&&Mn(F,kt),bt;if(Ct===null){for(;!Vt.done;kt++,Vt=X.next())Vt=ft(F,Vt.value,ut),Vt!==null&&(O=y(Vt,O,kt),qt===null?bt=Vt:qt.sibling=Vt,qt=Vt);return Pt&&Mn(F,kt),bt}for(Ct=s(Ct);!Vt.done;kt++,Vt=X.next())Vt=j(Ct,F,kt,Vt.value,ut),Vt!==null&&(t&&Vt.alternate!==null&&Ct.delete(Vt.key===null?kt:Vt.key),O=y(Vt,O,kt),qt===null?bt=Vt:qt.sibling=Vt,qt=Vt);return t&&Ct.forEach(function(l0){return e(F,l0)}),Pt&&Mn(F,kt),bt}function $t(F,O,X,ut){if(typeof X=="object"&&X!==null&&X.type===C&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case T:t:{for(var bt=X.key;O!==null;){if(O.key===bt){if(bt=X.type,bt===C){if(O.tag===7){l(F,O.sibling),ut=p(O,X.props.children),ut.return=F,F=ut;break t}}else if(O.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===et&&Ii(bt)===O.type){l(F,O.sibling),ut=p(O,X.props),$o(ut,X),ut.return=F,F=ut;break t}l(F,O);break}else e(F,O);O=O.sibling}X.type===C?(ut=Ri(X.props.children,F.mode,ut,X.key),ut.return=F,F=ut):(ut=Kl(X.type,X.key,X.props,null,F.mode,ut),$o(ut,X),ut.return=F,F=ut)}return E(F);case b:t:{for(bt=X.key;O!==null;){if(O.key===bt)if(O.tag===4&&O.stateNode.containerInfo===X.containerInfo&&O.stateNode.implementation===X.implementation){l(F,O.sibling),ut=p(O,X.children||[]),ut.return=F,F=ut;break t}else{l(F,O);break}else e(F,O);O=O.sibling}ut=Fr(X,F.mode,ut),ut.return=F,F=ut}return E(F);case et:return X=Ii(X),$t(F,O,X,ut)}if(it(X))return Et(F,O,X,ut);if(B(X)){if(bt=B(X),typeof bt!="function")throw Error(a(150));return X=bt.call(X),Mt(F,O,X,ut)}if(typeof X.then=="function")return $t(F,O,ta(X),ut);if(X.$$typeof===D)return $t(F,O,Ql(F,X),ut);ea(F,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,O!==null&&O.tag===6?(l(F,O.sibling),ut=p(O,X),ut.return=F,F=ut):(l(F,O),ut=Vr(X,F.mode,ut),ut.return=F,F=ut),E(F)):l(F,O)}return function(F,O,X,ut){try{Qo=0;var bt=$t(F,O,X,ut);return ro=null,bt}catch(Ct){if(Ct===ao||Ct===Wl)throw Ct;var qt=qe(29,Ct,null,F.mode);return qt.lanes=ut,qt.return=F,qt}}}var Di=Sf(!0),Tf=Sf(!1),Wn=!1;function ns(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function is(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function jn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ti(t,e,l){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,(Yt&2)!==0){var p=s.pending;return p===null?e.next=e:(e.next=p.next,p.next=e),s.pending=e,e=Jl(t),of(t,null,l),e}return Yl(t,s,e,l),Jl(t)}function Wo(t,e,l){if(e=e.updateQueue,e!==null&&(e=e.shared,(l&4194048)!==0)){var s=e.lanes;s&=t.pendingLanes,l|=s,e.lanes=l,fc(t,l)}}function os(t,e){var l=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,l===s)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?p=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?p=y=e:y=y.next=e}else p=y=e;l={baseState:s.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:s.shared,callbacks:s.callbacks},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=e:t.next=e,l.lastBaseUpdate=e}var ls=!1;function jo(){if(ls){var t=lo;if(t!==null)throw t}}function tl(t,e,l,s){ls=!1;var p=t.updateQueue;Wn=!1;var y=p.firstBaseUpdate,E=p.lastBaseUpdate,N=p.shared.pending;if(N!==null){p.shared.pending=null;var H=N,Z=H.next;H.next=null,E===null?y=Z:E.next=Z,E=H;var ot=t.alternate;ot!==null&&(ot=ot.updateQueue,N=ot.lastBaseUpdate,N!==E&&(N===null?ot.firstBaseUpdate=Z:N.next=Z,ot.lastBaseUpdate=H))}if(y!==null){var ft=p.baseState;E=0,ot=Z=H=null,N=y;do{var $=N.lane&-536870913,j=$!==N.lane;if(j?(Ht&$)===$:(s&$)===$){$!==0&&$===oo&&(ls=!0),ot!==null&&(ot=ot.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});t:{var Et=t,Mt=N;$=e;var $t=l;switch(Mt.tag){case 1:if(Et=Mt.payload,typeof Et=="function"){ft=Et.call($t,ft,$);break t}ft=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=Mt.payload,$=typeof Et=="function"?Et.call($t,ft,$):Et,$==null)break t;ft=_({},ft,$);break t;case 2:Wn=!0}}$=N.callback,$!==null&&(t.flags|=64,j&&(t.flags|=8192),j=p.callbacks,j===null?p.callbacks=[$]:j.push($))}else j={lane:$,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ot===null?(Z=ot=j,H=ft):ot=ot.next=j,E|=$;if(N=N.next,N===null){if(N=p.shared.pending,N===null)break;j=N,N=j.next,j.next=null,p.lastBaseUpdate=j,p.shared.pending=null}}while(!0);ot===null&&(H=ft),p.baseState=H,p.firstBaseUpdate=Z,p.lastBaseUpdate=ot,y===null&&(p.shared.lanes=0),li|=E,t.lanes=E,t.memoizedState=ft}}function Ef(t,e){if(typeof t!="function")throw Error(a(191,t));t.call(e)}function Cf(t,e){var l=t.callbacks;if(l!==null)for(t.callbacks=null,t=0;t<l.length;t++)Ef(l[t],e)}var so=I(null),na=I(0);function Af(t,e){t=Hn,lt(na,t),lt(so,e),Hn=t|e.baseLanes}function as(){lt(na,Hn),lt(so,so.current)}function rs(){Hn=na.current,L(so),L(na)}var Ve=I(null),an=null;function ei(t){var e=t.alternate;lt(ue,ue.current&1),lt(Ve,t),an===null&&(e===null||so.current!==null||e.memoizedState!==null)&&(an=t)}function ss(t){lt(ue,ue.current),lt(Ve,t),an===null&&(an=t)}function Rf(t){t.tag===22?(lt(ue,ue.current),lt(Ve,t),an===null&&(an=t)):ni()}function ni(){lt(ue,ue.current),lt(Ve,Ve.current)}function Fe(t){L(Ve),an===t&&(an=null),L(ue)}var ue=I(0);function ia(t){for(var e=t;e!==null;){if(e.tag===13){var l=e.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||pu(l)||mu(l)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xn=0,Ut=null,Zt=null,de=null,oa=!1,uo=!1,Ui=!1,la=0,el=0,co=null,Zy=0;function re(){throw Error(a(321))}function us(t,e){if(e===null)return!1;for(var l=0;l<e.length&&l<t.length;l++)if(!Pe(t[l],e[l]))return!1;return!0}function cs(t,e,l,s,p,y){return xn=y,Ut=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,J.H=t===null||t.memoizedState===null?sd:Rs,Ui=!1,y=l(s,p),Ui=!1,uo&&(y=wf(e,l,s,p)),bf(t),y}function bf(t){J.H=ol;var e=Zt!==null&&Zt.next!==null;if(xn=0,de=Zt=Ut=null,oa=!1,el=0,co=null,e)throw Error(a(300));t===null||he||(t=t.dependencies,t!==null&&Zl(t)&&(he=!0))}function wf(t,e,l,s){Ut=t;var p=0;do{if(uo&&(co=null),el=0,uo=!1,25<=p)throw Error(a(301));if(p+=1,de=Zt=null,t.updateQueue!=null){var y=t.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}J.H=ud,y=e(l,s)}while(uo);return y}function Qy(){var t=J.H,e=t.useState()[0];return e=typeof e.then=="function"?nl(e):e,t=t.useState()[0],(Zt!==null?Zt.memoizedState:null)!==t&&(Ut.flags|=1024),e}function fs(){var t=la!==0;return la=0,t}function ds(t,e,l){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~l}function hs(t){if(oa){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}oa=!1}xn=0,de=Zt=Ut=null,uo=!1,el=la=0,co=null}function we(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?Ut.memoizedState=de=t:de=de.next=t,de}function ce(){if(Zt===null){var t=Ut.alternate;t=t!==null?t.memoizedState:null}else t=Zt.next;var e=de===null?Ut.memoizedState:de.next;if(e!==null)de=e,Zt=t;else{if(t===null)throw Ut.alternate===null?Error(a(467)):Error(a(310));Zt=t,t={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},de===null?Ut.memoizedState=de=t:de=de.next=t}return de}function aa(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(t){var e=el;return el+=1,co===null&&(co=[]),t=yf(co,t,e),e=Ut,(de===null?e.memoizedState:de.next)===null&&(e=e.alternate,J.H=e===null||e.memoizedState===null?sd:Rs),t}function ra(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return nl(t);if(t.$$typeof===D)return Ee(t)}throw Error(a(438,String(t)))}function ps(t){var e=null,l=Ut.updateQueue;if(l!==null&&(e=l.memoCache),e==null){var s=Ut.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(e={data:s.data.map(function(p){return p.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),l===null&&(l=aa(),Ut.updateQueue=l),l.memoCache=e,l=e.data[e.index],l===void 0)for(l=e.data[e.index]=Array(t),s=0;s<t;s++)l[s]=at;return e.index++,l}function Dn(t,e){return typeof e=="function"?e(t):e}function sa(t){var e=ce();return ms(e,Zt,t)}function ms(t,e,l){var s=t.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=l;var p=t.baseQueue,y=s.pending;if(y!==null){if(p!==null){var E=p.next;p.next=y.next,y.next=E}e.baseQueue=p=y,s.pending=null}if(y=t.baseState,p===null)t.memoizedState=y;else{e=p.next;var N=E=null,H=null,Z=e,ot=!1;do{var ft=Z.lane&-536870913;if(ft!==Z.lane?(Ht&ft)===ft:(xn&ft)===ft){var $=Z.revertLane;if($===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ft===oo&&(ot=!0);else if((xn&$)===$){Z=Z.next,$===oo&&(ot=!0);continue}else ft={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},H===null?(N=H=ft,E=y):H=H.next=ft,Ut.lanes|=$,li|=$;ft=Z.action,Ui&&l(y,ft),y=Z.hasEagerState?Z.eagerState:l(y,ft)}else $={lane:ft,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},H===null?(N=H=$,E=y):H=H.next=$,Ut.lanes|=ft,li|=ft;Z=Z.next}while(Z!==null&&Z!==e);if(H===null?E=y:H.next=N,!Pe(y,t.memoizedState)&&(he=!0,ot&&(l=lo,l!==null)))throw l;t.memoizedState=y,t.baseState=E,t.baseQueue=H,s.lastRenderedState=y}return p===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function gs(t){var e=ce(),l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=t;var s=l.dispatch,p=l.pending,y=e.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do y=t(y,E.action),E=E.next;while(E!==p);Pe(y,e.memoizedState)||(he=!0),e.memoizedState=y,e.baseQueue===null&&(e.baseState=y),l.lastRenderedState=y}return[y,s]}function Mf(t,e,l){var s=Ut,p=ce(),y=Pt;if(y){if(l===void 0)throw Error(a(407));l=l()}else l=e();var E=!Pe((Zt||p).memoizedState,l);if(E&&(p.memoizedState=l,he=!0),p=p.queue,_s(xf.bind(null,s,p,t),[t]),p.getSnapshot!==e||E||de!==null&&de.memoizedState.tag&1){if(s.flags|=2048,fo(9,{destroy:void 0},If.bind(null,s,p,l,e),null),jt===null)throw Error(a(349));y||(xn&127)!==0||Nf(s,e,l)}return l}function Nf(t,e,l){t.flags|=16384,t={getSnapshot:e,value:l},e=Ut.updateQueue,e===null?(e=aa(),Ut.updateQueue=e,e.stores=[t]):(l=e.stores,l===null?e.stores=[t]:l.push(t))}function If(t,e,l,s){e.value=l,e.getSnapshot=s,Df(e)&&Uf(t)}function xf(t,e,l){return l(function(){Df(e)&&Uf(t)})}function Df(t){var e=t.getSnapshot;t=t.value;try{var l=e();return!Pe(t,l)}catch{return!0}}function Uf(t){var e=Ai(t,2);e!==null&&He(e,t,2)}function ys(t){var e=we();if(typeof t=="function"){var l=t;if(t=l(),Ui){Qe(!0);try{l()}finally{Qe(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:t},e}function kf(t,e,l,s){return t.baseState=l,ms(t,Zt,typeof s=="function"?s:Dn)}function $y(t,e,l,s,p){if(fa(t))throw Error(a(485));if(t=e.action,t!==null){var y={payload:p,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};J.T!==null?l(!0):y.isTransition=!1,s(y),l=e.pending,l===null?(y.next=e.pending=y,Lf(e,y)):(y.next=l.next,e.pending=l.next=y)}}function Lf(t,e){var l=e.action,s=e.payload,p=t.state;if(e.isTransition){var y=J.T,E={};J.T=E;try{var N=l(p,s),H=J.S;H!==null&&H(E,N),zf(t,e,N)}catch(Z){vs(t,e,Z)}finally{y!==null&&E.types!==null&&(y.types=E.types),J.T=y}}else try{y=l(p,s),zf(t,e,y)}catch(Z){vs(t,e,Z)}}function zf(t,e,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(s){Gf(t,e,s)},function(s){return vs(t,e,s)}):Gf(t,e,l)}function Gf(t,e,l){e.status="fulfilled",e.value=l,Bf(e),t.state=l,e=t.pending,e!==null&&(l=e.next,l===e?t.pending=null:(l=l.next,e.next=l,Lf(t,l)))}function vs(t,e,l){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do e.status="rejected",e.reason=l,Bf(e),e=e.next;while(e!==s)}t.action=null}function Bf(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Hf(t,e){return e}function Of(t,e){if(Pt){var l=jt.formState;if(l!==null){t:{var s=Ut;if(Pt){if(ee){e:{for(var p=ee,y=ln;p.nodeType!==8;){if(!y){p=null;break e}if(p=rn(p.nextSibling),p===null){p=null;break e}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){ee=rn(p.nextSibling),s=p.data==="F!";break t}}Qn(s)}s=!1}s&&(e=l[0])}}return l=we(),l.memoizedState=l.baseState=e,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hf,lastRenderedState:e},l.queue=s,l=ld.bind(null,Ut,s),s.dispatch=l,s=ys(!1),y=As.bind(null,Ut,!1,s.queue),s=we(),p={state:e,dispatch:null,action:t,pending:null},s.queue=p,l=$y.bind(null,Ut,p,y,l),p.dispatch=l,s.memoizedState=t,[e,l,!1]}function Pf(t){var e=ce();return qf(e,Zt,t)}function qf(t,e,l){if(e=ms(t,e,Hf)[0],t=sa(Dn)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var s=nl(e)}catch(E){throw E===ao?Wl:E}else s=e;e=ce();var p=e.queue,y=p.dispatch;return l!==e.memoizedState&&(Ut.flags|=2048,fo(9,{destroy:void 0},Wy.bind(null,p,l),null)),[s,y,t]}function Wy(t,e){t.action=e}function Vf(t){var e=ce(),l=Zt;if(l!==null)return qf(e,l,t);ce(),e=e.memoizedState,l=ce();var s=l.queue.dispatch;return l.memoizedState=t,[e,s,!1]}function fo(t,e,l,s){return t={tag:t,create:l,deps:s,inst:e,next:null},e=Ut.updateQueue,e===null&&(e=aa(),Ut.updateQueue=e),l=e.lastEffect,l===null?e.lastEffect=t.next=t:(s=l.next,l.next=t,t.next=s,e.lastEffect=t),t}function Ff(){return ce().memoizedState}function ua(t,e,l,s){var p=we();Ut.flags|=t,p.memoizedState=fo(1|e,{destroy:void 0},l,s===void 0?null:s)}function ca(t,e,l,s){var p=ce();s=s===void 0?null:s;var y=p.memoizedState.inst;Zt!==null&&s!==null&&us(s,Zt.memoizedState.deps)?p.memoizedState=fo(e,y,l,s):(Ut.flags|=t,p.memoizedState=fo(1|e,y,l,s))}function Yf(t,e){ua(8390656,8,t,e)}function _s(t,e){ca(2048,8,t,e)}function jy(t){Ut.flags|=4;var e=Ut.updateQueue;if(e===null)e=aa(),Ut.updateQueue=e,e.events=[t];else{var l=e.events;l===null?e.events=[t]:l.push(t)}}function Jf(t){var e=ce().memoizedState;return jy({ref:e,nextImpl:t}),function(){if((Yt&2)!==0)throw Error(a(440));return e.impl.apply(void 0,arguments)}}function Kf(t,e){return ca(4,2,t,e)}function Xf(t,e){return ca(4,4,t,e)}function Zf(t,e){if(typeof e=="function"){t=t();var l=e(t);return function(){typeof l=="function"?l():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Qf(t,e,l){l=l!=null?l.concat([t]):null,ca(4,4,Zf.bind(null,e,t),l)}function Ss(){}function $f(t,e){var l=ce();e=e===void 0?null:e;var s=l.memoizedState;return e!==null&&us(e,s[1])?s[0]:(l.memoizedState=[t,e],t)}function Wf(t,e){var l=ce();e=e===void 0?null:e;var s=l.memoizedState;if(e!==null&&us(e,s[1]))return s[0];if(s=t(),Ui){Qe(!0);try{t()}finally{Qe(!1)}}return l.memoizedState=[s,e],s}function Ts(t,e,l){return l===void 0||(xn&1073741824)!==0&&(Ht&261930)===0?t.memoizedState=e:(t.memoizedState=l,t=jd(),Ut.lanes|=t,li|=t,l)}function jf(t,e,l,s){return Pe(l,e)?l:so.current!==null?(t=Ts(t,l,s),Pe(t,e)||(he=!0),t):(xn&42)===0||(xn&1073741824)!==0&&(Ht&261930)===0?(he=!0,t.memoizedState=l):(t=jd(),Ut.lanes|=t,li|=t,e)}function td(t,e,l,s,p){var y=Y.p;Y.p=y!==0&&8>y?y:8;var E=J.T,N={};J.T=N,As(t,!1,e,l);try{var H=p(),Z=J.S;if(Z!==null&&Z(N,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ot=Xy(H,s);il(t,e,ot,Ke(t))}else il(t,e,s,Ke(t))}catch(ft){il(t,e,{then:function(){},status:"rejected",reason:ft},Ke())}finally{Y.p=y,E!==null&&N.types!==null&&(E.types=N.types),J.T=E}}function tv(){}function Es(t,e,l,s){if(t.tag!==5)throw Error(a(476));var p=ed(t).queue;td(t,p,e,mt,l===null?tv:function(){return nd(t),l(s)})}function ed(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:mt},next:null};var l={};return e.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:l},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function nd(t){var e=ed(t);e.next===null&&(e=t.alternate.memoizedState),il(t,e.next.queue,{},Ke())}function Cs(){return Ee(Sl)}function id(){return ce().memoizedState}function od(){return ce().memoizedState}function ev(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var l=Ke();t=jn(l);var s=ti(e,t,l);s!==null&&(He(s,e,l),Wo(s,e,l)),e={cache:Wr()},t.payload=e;return}e=e.return}}function nv(t,e,l){var s=Ke();l={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},fa(t)?ad(e,l):(l=Pr(t,e,l,s),l!==null&&(He(l,t,s),rd(l,e,s)))}function ld(t,e,l){var s=Ke();il(t,e,l,s)}function il(t,e,l,s){var p={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(fa(t))ad(e,p);else{var y=t.alternate;if(t.lanes===0&&(y===null||y.lanes===0)&&(y=e.lastRenderedReducer,y!==null))try{var E=e.lastRenderedState,N=y(E,l);if(p.hasEagerState=!0,p.eagerState=N,Pe(N,E))return Yl(t,e,p,0),jt===null&&Fl(),!1}catch{}if(l=Pr(t,e,p,s),l!==null)return He(l,t,s),rd(l,e,s),!0}return!1}function As(t,e,l,s){if(s={lane:2,revertLane:nu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},fa(t)){if(e)throw Error(a(479))}else e=Pr(t,l,s,2),e!==null&&He(e,t,2)}function fa(t){var e=t.alternate;return t===Ut||e!==null&&e===Ut}function ad(t,e){uo=oa=!0;var l=t.pending;l===null?e.next=e:(e.next=l.next,l.next=e),t.pending=e}function rd(t,e,l){if((l&4194048)!==0){var s=e.lanes;s&=t.pendingLanes,l|=s,e.lanes=l,fc(t,l)}}var ol={readContext:Ee,use:ra,useCallback:re,useContext:re,useEffect:re,useImperativeHandle:re,useLayoutEffect:re,useInsertionEffect:re,useMemo:re,useReducer:re,useRef:re,useState:re,useDebugValue:re,useDeferredValue:re,useTransition:re,useSyncExternalStore:re,useId:re,useHostTransitionStatus:re,useFormState:re,useActionState:re,useOptimistic:re,useMemoCache:re,useCacheRefresh:re};ol.useEffectEvent=re;var sd={readContext:Ee,use:ra,useCallback:function(t,e){return we().memoizedState=[t,e===void 0?null:e],t},useContext:Ee,useEffect:Yf,useImperativeHandle:function(t,e,l){l=l!=null?l.concat([t]):null,ua(4194308,4,Zf.bind(null,e,t),l)},useLayoutEffect:function(t,e){return ua(4194308,4,t,e)},useInsertionEffect:function(t,e){ua(4,2,t,e)},useMemo:function(t,e){var l=we();e=e===void 0?null:e;var s=t();if(Ui){Qe(!0);try{t()}finally{Qe(!1)}}return l.memoizedState=[s,e],s},useReducer:function(t,e,l){var s=we();if(l!==void 0){var p=l(e);if(Ui){Qe(!0);try{l(e)}finally{Qe(!1)}}}else p=e;return s.memoizedState=s.baseState=p,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:p},s.queue=t,t=t.dispatch=nv.bind(null,Ut,t),[s.memoizedState,t]},useRef:function(t){var e=we();return t={current:t},e.memoizedState=t},useState:function(t){t=ys(t);var e=t.queue,l=ld.bind(null,Ut,e);return e.dispatch=l,[t.memoizedState,l]},useDebugValue:Ss,useDeferredValue:function(t,e){var l=we();return Ts(l,t,e)},useTransition:function(){var t=ys(!1);return t=td.bind(null,Ut,t.queue,!0,!1),we().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,l){var s=Ut,p=we();if(Pt){if(l===void 0)throw Error(a(407));l=l()}else{if(l=e(),jt===null)throw Error(a(349));(Ht&127)!==0||Nf(s,e,l)}p.memoizedState=l;var y={value:l,getSnapshot:e};return p.queue=y,Yf(xf.bind(null,s,y,t),[t]),s.flags|=2048,fo(9,{destroy:void 0},If.bind(null,s,y,l,e),null),l},useId:function(){var t=we(),e=jt.identifierPrefix;if(Pt){var l=Tn,s=Sn;l=(s&~(1<<32-le(s)-1)).toString(32)+l,e="_"+e+"R_"+l,l=la++,0<l&&(e+="H"+l.toString(32)),e+="_"}else l=Zy++,e="_"+e+"r_"+l.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Cs,useFormState:Of,useActionState:Of,useOptimistic:function(t){var e=we();e.memoizedState=e.baseState=t;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=l,e=As.bind(null,Ut,!0,l),l.dispatch=e,[t,e]},useMemoCache:ps,useCacheRefresh:function(){return we().memoizedState=ev.bind(null,Ut)},useEffectEvent:function(t){var e=we(),l={impl:t};return e.memoizedState=l,function(){if((Yt&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}},Rs={readContext:Ee,use:ra,useCallback:$f,useContext:Ee,useEffect:_s,useImperativeHandle:Qf,useInsertionEffect:Kf,useLayoutEffect:Xf,useMemo:Wf,useReducer:sa,useRef:Ff,useState:function(){return sa(Dn)},useDebugValue:Ss,useDeferredValue:function(t,e){var l=ce();return jf(l,Zt.memoizedState,t,e)},useTransition:function(){var t=sa(Dn)[0],e=ce().memoizedState;return[typeof t=="boolean"?t:nl(t),e]},useSyncExternalStore:Mf,useId:id,useHostTransitionStatus:Cs,useFormState:Pf,useActionState:Pf,useOptimistic:function(t,e){var l=ce();return kf(l,Zt,t,e)},useMemoCache:ps,useCacheRefresh:od};Rs.useEffectEvent=Jf;var ud={readContext:Ee,use:ra,useCallback:$f,useContext:Ee,useEffect:_s,useImperativeHandle:Qf,useInsertionEffect:Kf,useLayoutEffect:Xf,useMemo:Wf,useReducer:gs,useRef:Ff,useState:function(){return gs(Dn)},useDebugValue:Ss,useDeferredValue:function(t,e){var l=ce();return Zt===null?Ts(l,t,e):jf(l,Zt.memoizedState,t,e)},useTransition:function(){var t=gs(Dn)[0],e=ce().memoizedState;return[typeof t=="boolean"?t:nl(t),e]},useSyncExternalStore:Mf,useId:id,useHostTransitionStatus:Cs,useFormState:Vf,useActionState:Vf,useOptimistic:function(t,e){var l=ce();return Zt!==null?kf(l,Zt,t,e):(l.baseState=t,[t,l.queue.dispatch])},useMemoCache:ps,useCacheRefresh:od};ud.useEffectEvent=Jf;function bs(t,e,l,s){e=t.memoizedState,l=l(s,e),l=l==null?e:_({},e,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var ws={enqueueSetState:function(t,e,l){t=t._reactInternals;var s=Ke(),p=jn(s);p.payload=e,l!=null&&(p.callback=l),e=ti(t,p,s),e!==null&&(He(e,t,s),Wo(e,t,s))},enqueueReplaceState:function(t,e,l){t=t._reactInternals;var s=Ke(),p=jn(s);p.tag=1,p.payload=e,l!=null&&(p.callback=l),e=ti(t,p,s),e!==null&&(He(e,t,s),Wo(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var l=Ke(),s=jn(l);s.tag=2,e!=null&&(s.callback=e),e=ti(t,s,l),e!==null&&(He(e,t,l),Wo(e,t,l))}};function cd(t,e,l,s,p,y,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,y,E):e.prototype&&e.prototype.isPureReactComponent?!Fo(l,s)||!Fo(p,y):!0}function fd(t,e,l,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(l,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(l,s),e.state!==t&&ws.enqueueReplaceState(e,e.state,null)}function ki(t,e){var l=e;if("ref"in e){l={};for(var s in e)s!=="ref"&&(l[s]=e[s])}if(t=t.defaultProps){l===e&&(l=_({},l));for(var p in t)l[p]===void 0&&(l[p]=t[p])}return l}function dd(t){Vl(t)}function hd(t){console.error(t)}function pd(t){Vl(t)}function da(t,e){try{var l=t.onUncaughtError;l(e.value,{componentStack:e.stack})}catch(s){setTimeout(function(){throw s})}}function md(t,e,l){try{var s=t.onCaughtError;s(l.value,{componentStack:l.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Ms(t,e,l){return l=jn(l),l.tag=3,l.payload={element:null},l.callback=function(){da(t,e)},l}function gd(t){return t=jn(t),t.tag=3,t}function yd(t,e,l,s){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var y=s.value;t.payload=function(){return p(y)},t.callback=function(){md(e,l,s)}}var E=l.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){md(e,l,s),typeof p!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var N=s.stack;this.componentDidCatch(s.value,{componentStack:N!==null?N:""})})}function iv(t,e,l,s,p){if(l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(e=l.alternate,e!==null&&io(e,l,p,!0),l=Ve.current,l!==null){switch(l.tag){case 31:case 13:return an===null?Aa():l.alternate===null&&se===0&&(se=3),l.flags&=-257,l.flags|=65536,l.lanes=p,s===jl?l.flags|=16384:(e=l.updateQueue,e===null?l.updateQueue=new Set([s]):e.add(s),js(t,s,p)),!1;case 22:return l.flags|=65536,s===jl?l.flags|=16384:(e=l.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([s])},l.updateQueue=e):(l=e.retryQueue,l===null?e.retryQueue=new Set([s]):l.add(s)),js(t,s,p)),!1}throw Error(a(435,l.tag))}return js(t,s,p),Aa(),!1}if(Pt)return e=Ve.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=p,s!==Kr&&(t=Error(a(422),{cause:s}),Ko(en(t,l)))):(s!==Kr&&(e=Error(a(423),{cause:s}),Ko(en(e,l))),t=t.current.alternate,t.flags|=65536,p&=-p,t.lanes|=p,s=en(s,l),p=Ms(t.stateNode,s,p),os(t,p),se!==4&&(se=2)),!1;var y=Error(a(520),{cause:s});if(y=en(y,l),dl===null?dl=[y]:dl.push(y),se!==4&&(se=2),e===null)return!0;s=en(s,l),l=e;do{switch(l.tag){case 3:return l.flags|=65536,t=p&-p,l.lanes|=t,t=Ms(l.stateNode,s,t),os(l,t),!1;case 1:if(e=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ai===null||!ai.has(y))))return l.flags|=65536,p&=-p,l.lanes|=p,p=gd(p),yd(p,t,l,s),os(l,p),!1}l=l.return}while(l!==null);return!1}var Ns=Error(a(461)),he=!1;function Ce(t,e,l,s){e.child=t===null?Tf(e,null,l,s):Di(e,t.child,l,s)}function vd(t,e,l,s,p){l=l.render;var y=e.ref;if("ref"in s){var E={};for(var N in s)N!=="ref"&&(E[N]=s[N])}else E=s;return Mi(e),s=cs(t,e,l,E,y,p),N=fs(),t!==null&&!he?(ds(t,e,p),Un(t,e,p)):(Pt&&N&&Yr(e),e.flags|=1,Ce(t,e,s,p),e.child)}function _d(t,e,l,s,p){if(t===null){var y=l.type;return typeof y=="function"&&!qr(y)&&y.defaultProps===void 0&&l.compare===null?(e.tag=15,e.type=y,Sd(t,e,y,s,p)):(t=Kl(l.type,null,s,e,e.mode,p),t.ref=e.ref,t.return=e,e.child=t)}if(y=t.child,!Gs(t,p)){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:Fo,l(E,s)&&t.ref===e.ref)return Un(t,e,p)}return e.flags|=1,t=wn(y,s),t.ref=e.ref,t.return=e,e.child=t}function Sd(t,e,l,s,p){if(t!==null){var y=t.memoizedProps;if(Fo(y,s)&&t.ref===e.ref)if(he=!1,e.pendingProps=s=y,Gs(t,p))(t.flags&131072)!==0&&(he=!0);else return e.lanes=t.lanes,Un(t,e,p)}return Is(t,e,l,s,p)}function Td(t,e,l,s){var p=s.children,y=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((e.flags&128)!==0){if(y=y!==null?y.baseLanes|l:l,t!==null){for(s=e.child=t.child,p=0;s!==null;)p=p|s.lanes|s.childLanes,s=s.sibling;s=p&~y}else s=0,e.child=null;return Ed(t,e,y,l,s)}if((l&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&$l(e,y!==null?y.cachePool:null),y!==null?Af(e,y):as(),Rf(e);else return s=e.lanes=536870912,Ed(t,e,y!==null?y.baseLanes|l:l,l,s)}else y!==null?($l(e,y.cachePool),Af(e,y),ni(),e.memoizedState=null):(t!==null&&$l(e,null),as(),ni());return Ce(t,e,p,l),e.child}function ll(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Ed(t,e,l,s,p){var y=ts();return y=y===null?null:{parent:fe._currentValue,pool:y},e.memoizedState={baseLanes:l,cachePool:y},t!==null&&$l(e,null),as(),Rf(e),t!==null&&io(t,e,s,!0),e.childLanes=p,null}function ha(t,e){return e=ma({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Cd(t,e,l){return Di(e,t.child,null,l),t=ha(e,e.pendingProps),t.flags|=2,Fe(e),e.memoizedState=null,t}function ov(t,e,l){var s=e.pendingProps,p=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Pt){if(s.mode==="hidden")return t=ha(e,s),e.lanes=536870912,ll(null,t);if(ss(e),(t=ee)?(t=Lh(t,ln),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Xn!==null?{id:Sn,overflow:Tn}:null,retryLane:536870912,hydrationErrors:null},l=af(t),l.return=e,e.child=l,Te=e,ee=null)):t=null,t===null)throw Qn(e);return e.lanes=536870912,null}return ha(e,s)}var y=t.memoizedState;if(y!==null){var E=y.dehydrated;if(ss(e),p)if(e.flags&256)e.flags&=-257,e=Cd(t,e,l);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(a(558));else if(he||io(t,e,l,!1),p=(l&t.childLanes)!==0,he||p){if(s=jt,s!==null&&(E=dc(s,l),E!==0&&E!==y.retryLane))throw y.retryLane=E,Ai(t,E),He(s,t,E),Ns;Aa(),e=Cd(t,e,l)}else t=y.treeContext,ee=rn(E.nextSibling),Te=e,Pt=!0,Zn=null,ln=!1,t!==null&&uf(e,t),e=ha(e,s),e.flags|=4096;return e}return t=wn(t.child,{mode:s.mode,children:s.children}),t.ref=e.ref,e.child=t,t.return=e,t}function pa(t,e){var l=e.ref;if(l===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(t===null||t.ref!==l)&&(e.flags|=4194816)}}function Is(t,e,l,s,p){return Mi(e),l=cs(t,e,l,s,void 0,p),s=fs(),t!==null&&!he?(ds(t,e,p),Un(t,e,p)):(Pt&&s&&Yr(e),e.flags|=1,Ce(t,e,l,p),e.child)}function Ad(t,e,l,s,p,y){return Mi(e),e.updateQueue=null,l=wf(e,s,l,p),bf(t),s=fs(),t!==null&&!he?(ds(t,e,y),Un(t,e,y)):(Pt&&s&&Yr(e),e.flags|=1,Ce(t,e,l,y),e.child)}function Rd(t,e,l,s,p){if(Mi(e),e.stateNode===null){var y=ji,E=l.contextType;typeof E=="object"&&E!==null&&(y=Ee(E)),y=new l(s,y),e.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=ws,e.stateNode=y,y._reactInternals=e,y=e.stateNode,y.props=s,y.state=e.memoizedState,y.refs={},ns(e),E=l.contextType,y.context=typeof E=="object"&&E!==null?Ee(E):ji,y.state=e.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(bs(e,l,E,s),y.state=e.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&ws.enqueueReplaceState(y,y.state,null),tl(e,s,y,p),jo(),y.state=e.memoizedState),typeof y.componentDidMount=="function"&&(e.flags|=4194308),s=!0}else if(t===null){y=e.stateNode;var N=e.memoizedProps,H=ki(l,N);y.props=H;var Z=y.context,ot=l.contextType;E=ji,typeof ot=="object"&&ot!==null&&(E=Ee(ot));var ft=l.getDerivedStateFromProps;ot=typeof ft=="function"||typeof y.getSnapshotBeforeUpdate=="function",N=e.pendingProps!==N,ot||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(N||Z!==E)&&fd(e,y,s,E),Wn=!1;var $=e.memoizedState;y.state=$,tl(e,s,y,p),jo(),Z=e.memoizedState,N||$!==Z||Wn?(typeof ft=="function"&&(bs(e,l,ft,s),Z=e.memoizedState),(H=Wn||cd(e,l,H,s,$,Z,E))?(ot||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(e.flags|=4194308)):(typeof y.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=Z),y.props=s,y.state=Z,y.context=E,s=H):(typeof y.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{y=e.stateNode,is(t,e),E=e.memoizedProps,ot=ki(l,E),y.props=ot,ft=e.pendingProps,$=y.context,Z=l.contextType,H=ji,typeof Z=="object"&&Z!==null&&(H=Ee(Z)),N=l.getDerivedStateFromProps,(Z=typeof N=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==ft||$!==H)&&fd(e,y,s,H),Wn=!1,$=e.memoizedState,y.state=$,tl(e,s,y,p),jo();var j=e.memoizedState;E!==ft||$!==j||Wn||t!==null&&t.dependencies!==null&&Zl(t.dependencies)?(typeof N=="function"&&(bs(e,l,N,s),j=e.memoizedState),(ot=Wn||cd(e,l,ot,s,$,j,H)||t!==null&&t.dependencies!==null&&Zl(t.dependencies))?(Z||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(s,j,H),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(s,j,H)),typeof y.componentDidUpdate=="function"&&(e.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===t.memoizedProps&&$===t.memoizedState||(e.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&$===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=j),y.props=s,y.state=j,y.context=H,s=ot):(typeof y.componentDidUpdate!="function"||E===t.memoizedProps&&$===t.memoizedState||(e.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&$===t.memoizedState||(e.flags|=1024),s=!1)}return y=s,pa(t,e),s=(e.flags&128)!==0,y||s?(y=e.stateNode,l=s&&typeof l.getDerivedStateFromError!="function"?null:y.render(),e.flags|=1,t!==null&&s?(e.child=Di(e,t.child,null,p),e.child=Di(e,null,l,p)):Ce(t,e,l,p),e.memoizedState=y.state,t=e.child):t=Un(t,e,p),t}function bd(t,e,l,s){return bi(),e.flags|=256,Ce(t,e,l,s),e.child}var xs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ds(t){return{baseLanes:t,cachePool:mf()}}function Us(t,e,l){return t=t!==null?t.childLanes&~l:0,e&&(t|=Je),t}function wd(t,e,l){var s=e.pendingProps,p=!1,y=(e.flags&128)!==0,E;if((E=y)||(E=t!==null&&t.memoizedState===null?!1:(ue.current&2)!==0),E&&(p=!0,e.flags&=-129),E=(e.flags&32)!==0,e.flags&=-33,t===null){if(Pt){if(p?ei(e):ni(),(t=ee)?(t=Lh(t,ln),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Xn!==null?{id:Sn,overflow:Tn}:null,retryLane:536870912,hydrationErrors:null},l=af(t),l.return=e,e.child=l,Te=e,ee=null)):t=null,t===null)throw Qn(e);return mu(t)?e.lanes=32:e.lanes=536870912,null}var N=s.children;return s=s.fallback,p?(ni(),p=e.mode,N=ma({mode:"hidden",children:N},p),s=Ri(s,p,l,null),N.return=e,s.return=e,N.sibling=s,e.child=N,s=e.child,s.memoizedState=Ds(l),s.childLanes=Us(t,E,l),e.memoizedState=xs,ll(null,s)):(ei(e),ks(e,N))}var H=t.memoizedState;if(H!==null&&(N=H.dehydrated,N!==null)){if(y)e.flags&256?(ei(e),e.flags&=-257,e=Ls(t,e,l)):e.memoizedState!==null?(ni(),e.child=t.child,e.flags|=128,e=null):(ni(),N=s.fallback,p=e.mode,s=ma({mode:"visible",children:s.children},p),N=Ri(N,p,l,null),N.flags|=2,s.return=e,N.return=e,s.sibling=N,e.child=s,Di(e,t.child,null,l),s=e.child,s.memoizedState=Ds(l),s.childLanes=Us(t,E,l),e.memoizedState=xs,e=ll(null,s));else if(ei(e),mu(N)){if(E=N.nextSibling&&N.nextSibling.dataset,E)var Z=E.dgst;E=Z,s=Error(a(419)),s.stack="",s.digest=E,Ko({value:s,source:null,stack:null}),e=Ls(t,e,l)}else if(he||io(t,e,l,!1),E=(l&t.childLanes)!==0,he||E){if(E=jt,E!==null&&(s=dc(E,l),s!==0&&s!==H.retryLane))throw H.retryLane=s,Ai(t,s),He(E,t,s),Ns;pu(N)||Aa(),e=Ls(t,e,l)}else pu(N)?(e.flags|=192,e.child=t.child,e=null):(t=H.treeContext,ee=rn(N.nextSibling),Te=e,Pt=!0,Zn=null,ln=!1,t!==null&&uf(e,t),e=ks(e,s.children),e.flags|=4096);return e}return p?(ni(),N=s.fallback,p=e.mode,H=t.child,Z=H.sibling,s=wn(H,{mode:"hidden",children:s.children}),s.subtreeFlags=H.subtreeFlags&65011712,Z!==null?N=wn(Z,N):(N=Ri(N,p,l,null),N.flags|=2),N.return=e,s.return=e,s.sibling=N,e.child=s,ll(null,s),s=e.child,N=t.child.memoizedState,N===null?N=Ds(l):(p=N.cachePool,p!==null?(H=fe._currentValue,p=p.parent!==H?{parent:H,pool:H}:p):p=mf(),N={baseLanes:N.baseLanes|l,cachePool:p}),s.memoizedState=N,s.childLanes=Us(t,E,l),e.memoizedState=xs,ll(t.child,s)):(ei(e),l=t.child,t=l.sibling,l=wn(l,{mode:"visible",children:s.children}),l.return=e,l.sibling=null,t!==null&&(E=e.deletions,E===null?(e.deletions=[t],e.flags|=16):E.push(t)),e.child=l,e.memoizedState=null,l)}function ks(t,e){return e=ma({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function ma(t,e){return t=qe(22,t,null,e),t.lanes=0,t}function Ls(t,e,l){return Di(e,t.child,null,l),t=ks(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Md(t,e,l){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),Qr(t.return,e,l)}function zs(t,e,l,s,p,y){var E=t.memoizedState;E===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:l,tailMode:p,treeForkCount:y}:(E.isBackwards=e,E.rendering=null,E.renderingStartTime=0,E.last=s,E.tail=l,E.tailMode=p,E.treeForkCount=y)}function Nd(t,e,l){var s=e.pendingProps,p=s.revealOrder,y=s.tail;s=s.children;var E=ue.current,N=(E&2)!==0;if(N?(E=E&1|2,e.flags|=128):E&=1,lt(ue,E),Ce(t,e,s,l),s=Pt?Jo:0,!N&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Md(t,l,e);else if(t.tag===19)Md(t,l,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(p){case"forwards":for(l=e.child,p=null;l!==null;)t=l.alternate,t!==null&&ia(t)===null&&(p=l),l=l.sibling;l=p,l===null?(p=e.child,e.child=null):(p=l.sibling,l.sibling=null),zs(e,!1,p,l,y,s);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=e.child,e.child=null;p!==null;){if(t=p.alternate,t!==null&&ia(t)===null){e.child=p;break}t=p.sibling,p.sibling=l,l=p,p=t}zs(e,!0,l,null,y,s);break;case"together":zs(e,!1,null,null,void 0,s);break;default:e.memoizedState=null}return e.child}function Un(t,e,l){if(t!==null&&(e.dependencies=t.dependencies),li|=e.lanes,(l&e.childLanes)===0)if(t!==null){if(io(t,e,l,!1),(l&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(a(153));if(e.child!==null){for(t=e.child,l=wn(t,t.pendingProps),e.child=l,l.return=e;t.sibling!==null;)t=t.sibling,l=l.sibling=wn(t,t.pendingProps),l.return=e;l.sibling=null}return e.child}function Gs(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Zl(t)))}function lv(t,e,l){switch(e.tag){case 3:Nt(e,e.stateNode.containerInfo),$n(e,fe,t.memoizedState.cache),bi();break;case 27:case 5:ie(e);break;case 4:Nt(e,e.stateNode.containerInfo);break;case 10:$n(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,ss(e),null;break;case 13:var s=e.memoizedState;if(s!==null)return s.dehydrated!==null?(ei(e),e.flags|=128,null):(l&e.child.childLanes)!==0?wd(t,e,l):(ei(e),t=Un(t,e,l),t!==null?t.sibling:null);ei(e);break;case 19:var p=(t.flags&128)!==0;if(s=(l&e.childLanes)!==0,s||(io(t,e,l,!1),s=(l&e.childLanes)!==0),p){if(s)return Nd(t,e,l);e.flags|=128}if(p=e.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),lt(ue,ue.current),s)break;return null;case 22:return e.lanes=0,Td(t,e,l,e.pendingProps);case 24:$n(e,fe,t.memoizedState.cache)}return Un(t,e,l)}function Id(t,e,l){if(t!==null)if(t.memoizedProps!==e.pendingProps)he=!0;else{if(!Gs(t,l)&&(e.flags&128)===0)return he=!1,lv(t,e,l);he=(t.flags&131072)!==0}else he=!1,Pt&&(e.flags&1048576)!==0&&sf(e,Jo,e.index);switch(e.lanes=0,e.tag){case 16:t:{var s=e.pendingProps;if(t=Ii(e.elementType),e.type=t,typeof t=="function")qr(t)?(s=ki(t,s),e.tag=1,e=Rd(null,e,t,s,l)):(e.tag=0,e=Is(null,e,t,s,l));else{if(t!=null){var p=t.$$typeof;if(p===G){e.tag=11,e=vd(null,e,t,s,l);break t}else if(p===P){e.tag=14,e=_d(null,e,t,s,l);break t}}throw e=w(t)||t,Error(a(306,e,""))}}return e;case 0:return Is(t,e,e.type,e.pendingProps,l);case 1:return s=e.type,p=ki(s,e.pendingProps),Rd(t,e,s,p,l);case 3:t:{if(Nt(e,e.stateNode.containerInfo),t===null)throw Error(a(387));s=e.pendingProps;var y=e.memoizedState;p=y.element,is(t,e),tl(e,s,null,l);var E=e.memoizedState;if(s=E.cache,$n(e,fe,s),s!==y.cache&&$r(e,[fe],l,!0),jo(),s=E.element,y.isDehydrated)if(y={element:s,isDehydrated:!1,cache:E.cache},e.updateQueue.baseState=y,e.memoizedState=y,e.flags&256){e=bd(t,e,s,l);break t}else if(s!==p){p=en(Error(a(424)),e),Ko(p),e=bd(t,e,s,l);break t}else for(t=e.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ee=rn(t.firstChild),Te=e,Pt=!0,Zn=null,ln=!0,l=Tf(e,null,s,l),e.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(bi(),s===p){e=Un(t,e,l);break t}Ce(t,e,s,l)}e=e.child}return e;case 26:return pa(t,e),t===null?(l=Ph(e.type,null,e.pendingProps,null))?e.memoizedState=l:Pt||(l=e.type,t=e.pendingProps,s=xa(At.current).createElement(l),s[Se]=e,s[Ue]=t,Ae(s,l,t),ye(s),e.stateNode=s):e.memoizedState=Ph(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return ie(e),t===null&&Pt&&(s=e.stateNode=Bh(e.type,e.pendingProps,At.current),Te=e,ln=!0,p=ee,ci(e.type)?(gu=p,ee=rn(s.firstChild)):ee=p),Ce(t,e,e.pendingProps.children,l),pa(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Pt&&((p=s=ee)&&(s=Lv(s,e.type,e.pendingProps,ln),s!==null?(e.stateNode=s,Te=e,ee=rn(s.firstChild),ln=!1,p=!0):p=!1),p||Qn(e)),ie(e),p=e.type,y=e.pendingProps,E=t!==null?t.memoizedProps:null,s=y.children,fu(p,y)?s=null:E!==null&&fu(p,E)&&(e.flags|=32),e.memoizedState!==null&&(p=cs(t,e,Qy,null,null,l),Sl._currentValue=p),pa(t,e),Ce(t,e,s,l),e.child;case 6:return t===null&&Pt&&((t=l=ee)&&(l=zv(l,e.pendingProps,ln),l!==null?(e.stateNode=l,Te=e,ee=null,t=!0):t=!1),t||Qn(e)),null;case 13:return wd(t,e,l);case 4:return Nt(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=Di(e,null,s,l):Ce(t,e,s,l),e.child;case 11:return vd(t,e,e.type,e.pendingProps,l);case 7:return Ce(t,e,e.pendingProps,l),e.child;case 8:return Ce(t,e,e.pendingProps.children,l),e.child;case 12:return Ce(t,e,e.pendingProps.children,l),e.child;case 10:return s=e.pendingProps,$n(e,e.type,s.value),Ce(t,e,s.children,l),e.child;case 9:return p=e.type._context,s=e.pendingProps.children,Mi(e),p=Ee(p),s=s(p),e.flags|=1,Ce(t,e,s,l),e.child;case 14:return _d(t,e,e.type,e.pendingProps,l);case 15:return Sd(t,e,e.type,e.pendingProps,l);case 19:return Nd(t,e,l);case 31:return ov(t,e,l);case 22:return Td(t,e,l,e.pendingProps);case 24:return Mi(e),s=Ee(fe),t===null?(p=ts(),p===null&&(p=jt,y=Wr(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=l),p=y),e.memoizedState={parent:s,cache:p},ns(e),$n(e,fe,p)):((t.lanes&l)!==0&&(is(t,e),tl(e,null,null,l),jo()),p=t.memoizedState,y=e.memoizedState,p.parent!==s?(p={parent:s,cache:s},e.memoizedState=p,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=p),$n(e,fe,s)):(s=y.cache,$n(e,fe,s),s!==p.cache&&$r(e,[fe],l,!0))),Ce(t,e,e.pendingProps.children,l),e.child;case 29:throw e.pendingProps}throw Error(a(156,e.tag))}function kn(t){t.flags|=4}function Bs(t,e,l,s,p){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(p&335544128)===p)if(t.stateNode.complete)t.flags|=8192;else if(ih())t.flags|=8192;else throw xi=jl,es}else t.flags&=-16777217}function xd(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Jh(e))if(ih())t.flags|=8192;else throw xi=jl,es}function ga(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?uc():536870912,t.lanes|=e,go|=e)}function al(t,e){if(!Pt)switch(t.tailMode){case"hidden":e=t.tail;for(var l=null;e!==null;)e.alternate!==null&&(l=e),e=e.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var s=null;l!==null;)l.alternate!==null&&(s=l),l=l.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function ne(t){var e=t.alternate!==null&&t.alternate.child===t.child,l=0,s=0;if(e)for(var p=t.child;p!==null;)l|=p.lanes|p.childLanes,s|=p.subtreeFlags&65011712,s|=p.flags&65011712,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)l|=p.lanes|p.childLanes,s|=p.subtreeFlags,s|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=s,t.childLanes=l,e}function av(t,e,l){var s=e.pendingProps;switch(Jr(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(e),null;case 1:return ne(e),null;case 3:return l=e.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),e.memoizedState.cache!==s&&(e.flags|=2048),In(fe),wt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(no(e)?kn(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Xr())),ne(e),null;case 26:var p=e.type,y=e.memoizedState;return t===null?(kn(e),y!==null?(ne(e),xd(e,y)):(ne(e),Bs(e,p,null,s,l))):y?y!==t.memoizedState?(kn(e),ne(e),xd(e,y)):(ne(e),e.flags&=-16777217):(t=t.memoizedProps,t!==s&&kn(e),ne(e),Bs(e,p,t,s,l)),null;case 27:if(te(e),l=At.current,p=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&kn(e);else{if(!s){if(e.stateNode===null)throw Error(a(166));return ne(e),null}t=nt.current,no(e)?cf(e):(t=Bh(p,s,l),e.stateNode=t,kn(e))}return ne(e),null;case 5:if(te(e),p=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&kn(e);else{if(!s){if(e.stateNode===null)throw Error(a(166));return ne(e),null}if(y=nt.current,no(e))cf(e);else{var E=xa(At.current);switch(y){case 1:y=E.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=E.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=E.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof s.is=="string"?E.createElement("select",{is:s.is}):E.createElement("select"),s.multiple?y.multiple=!0:s.size&&(y.size=s.size);break;default:y=typeof s.is=="string"?E.createElement(p,{is:s.is}):E.createElement(p)}}y[Se]=e,y[Ue]=s;t:for(E=e.child;E!==null;){if(E.tag===5||E.tag===6)y.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===e)break t;for(;E.sibling===null;){if(E.return===null||E.return===e)break t;E=E.return}E.sibling.return=E.return,E=E.sibling}e.stateNode=y;t:switch(Ae(y,p,s),p){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&kn(e)}}return ne(e),Bs(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,l),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==s&&kn(e);else{if(typeof s!="string"&&e.stateNode===null)throw Error(a(166));if(t=At.current,no(e)){if(t=e.stateNode,l=e.memoizedProps,s=null,p=Te,p!==null)switch(p.tag){case 27:case 5:s=p.memoizedProps}t[Se]=e,t=!!(t.nodeValue===l||s!==null&&s.suppressHydrationWarning===!0||wh(t.nodeValue,l)),t||Qn(e,!0)}else t=xa(t).createTextNode(s),t[Se]=e,e.stateNode=t}return ne(e),null;case 31:if(l=e.memoizedState,t===null||t.memoizedState!==null){if(s=no(e),l!==null){if(t===null){if(!s)throw Error(a(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Se]=e}else bi(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;ne(e),t=!1}else l=Xr(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),t=!0;if(!t)return e.flags&256?(Fe(e),e):(Fe(e),null);if((e.flags&128)!==0)throw Error(a(558))}return ne(e),null;case 13:if(s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(p=no(e),s!==null&&s.dehydrated!==null){if(t===null){if(!p)throw Error(a(318));if(p=e.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));p[Se]=e}else bi(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;ne(e),p=!1}else p=Xr(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=p),p=!0;if(!p)return e.flags&256?(Fe(e),e):(Fe(e),null)}return Fe(e),(e.flags&128)!==0?(e.lanes=l,e):(l=s!==null,t=t!==null&&t.memoizedState!==null,l&&(s=e.child,p=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(p=s.alternate.memoizedState.cachePool.pool),y=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(y=s.memoizedState.cachePool.pool),y!==p&&(s.flags|=2048)),l!==t&&l&&(e.child.flags|=8192),ga(e,e.updateQueue),ne(e),null);case 4:return wt(),t===null&&au(e.stateNode.containerInfo),ne(e),null;case 10:return In(e.type),ne(e),null;case 19:if(L(ue),s=e.memoizedState,s===null)return ne(e),null;if(p=(e.flags&128)!==0,y=s.rendering,y===null)if(p)al(s,!1);else{if(se!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(y=ia(t),y!==null){for(e.flags|=128,al(s,!1),t=y.updateQueue,e.updateQueue=t,ga(e,t),e.subtreeFlags=0,t=l,l=e.child;l!==null;)lf(l,t),l=l.sibling;return lt(ue,ue.current&1|2),Pt&&Mn(e,s.treeForkCount),e.child}t=t.sibling}s.tail!==null&&_t()>Ta&&(e.flags|=128,p=!0,al(s,!1),e.lanes=4194304)}else{if(!p)if(t=ia(y),t!==null){if(e.flags|=128,p=!0,t=t.updateQueue,e.updateQueue=t,ga(e,t),al(s,!0),s.tail===null&&s.tailMode==="hidden"&&!y.alternate&&!Pt)return ne(e),null}else 2*_t()-s.renderingStartTime>Ta&&l!==536870912&&(e.flags|=128,p=!0,al(s,!1),e.lanes=4194304);s.isBackwards?(y.sibling=e.child,e.child=y):(t=s.last,t!==null?t.sibling=y:e.child=y,s.last=y)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=_t(),t.sibling=null,l=ue.current,lt(ue,p?l&1|2:l&1),Pt&&Mn(e,s.treeForkCount),t):(ne(e),null);case 22:case 23:return Fe(e),rs(),s=e.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(e.flags|=8192):s&&(e.flags|=8192),s?(l&536870912)!==0&&(e.flags&128)===0&&(ne(e),e.subtreeFlags&6&&(e.flags|=8192)):ne(e),l=e.updateQueue,l!==null&&ga(e,l.retryQueue),l=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),s=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),s!==l&&(e.flags|=2048),t!==null&&L(Ni),null;case 24:return l=null,t!==null&&(l=t.memoizedState.cache),e.memoizedState.cache!==l&&(e.flags|=2048),In(fe),ne(e),null;case 25:return null;case 30:return null}throw Error(a(156,e.tag))}function rv(t,e){switch(Jr(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return In(fe),wt(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return te(e),null;case 31:if(e.memoizedState!==null){if(Fe(e),e.alternate===null)throw Error(a(340));bi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Fe(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(a(340));bi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return L(ue),null;case 4:return wt(),null;case 10:return In(e.type),null;case 22:case 23:return Fe(e),rs(),t!==null&&L(Ni),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return In(fe),null;case 25:return null;default:return null}}function Dd(t,e){switch(Jr(e),e.tag){case 3:In(fe),wt();break;case 26:case 27:case 5:te(e);break;case 4:wt();break;case 31:e.memoizedState!==null&&Fe(e);break;case 13:Fe(e);break;case 19:L(ue);break;case 10:In(e.type);break;case 22:case 23:Fe(e),rs(),t!==null&&L(Ni);break;case 24:In(fe)}}function rl(t,e){try{var l=e.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var p=s.next;l=p;do{if((l.tag&t)===t){s=void 0;var y=l.create,E=l.inst;s=y(),E.destroy=s}l=l.next}while(l!==p)}}catch(N){Xt(e,e.return,N)}}function ii(t,e,l){try{var s=e.updateQueue,p=s!==null?s.lastEffect:null;if(p!==null){var y=p.next;s=y;do{if((s.tag&t)===t){var E=s.inst,N=E.destroy;if(N!==void 0){E.destroy=void 0,p=e;var H=l,Z=N;try{Z()}catch(ot){Xt(p,H,ot)}}}s=s.next}while(s!==y)}}catch(ot){Xt(e,e.return,ot)}}function Ud(t){var e=t.updateQueue;if(e!==null){var l=t.stateNode;try{Cf(e,l)}catch(s){Xt(t,t.return,s)}}}function kd(t,e,l){l.props=ki(t.type,t.memoizedProps),l.state=t.memoizedState;try{l.componentWillUnmount()}catch(s){Xt(t,e,s)}}function sl(t,e){try{var l=t.ref;if(l!==null){switch(t.tag){case 26:case 27:case 5:var s=t.stateNode;break;case 30:s=t.stateNode;break;default:s=t.stateNode}typeof l=="function"?t.refCleanup=l(s):l.current=s}}catch(p){Xt(t,e,p)}}function En(t,e){var l=t.ref,s=t.refCleanup;if(l!==null)if(typeof s=="function")try{s()}catch(p){Xt(t,e,p)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){Xt(t,e,p)}else l.current=null}function Ld(t){var e=t.type,l=t.memoizedProps,s=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":l.autoFocus&&s.focus();break t;case"img":l.src?s.src=l.src:l.srcSet&&(s.srcset=l.srcSet)}}catch(p){Xt(t,t.return,p)}}function Hs(t,e,l){try{var s=t.stateNode;Nv(s,t.type,l,e),s[Ue]=e}catch(p){Xt(t,t.return,p)}}function zd(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ci(t.type)||t.tag===4}function Os(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||zd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ci(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ps(t,e,l){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(t,e):(e=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,e.appendChild(t),l=l._reactRootContainer,l!=null||e.onclick!==null||(e.onclick=Rn));else if(s!==4&&(s===27&&ci(t.type)&&(l=t.stateNode,e=null),t=t.child,t!==null))for(Ps(t,e,l),t=t.sibling;t!==null;)Ps(t,e,l),t=t.sibling}function ya(t,e,l){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?l.insertBefore(t,e):l.appendChild(t);else if(s!==4&&(s===27&&ci(t.type)&&(l=t.stateNode),t=t.child,t!==null))for(ya(t,e,l),t=t.sibling;t!==null;)ya(t,e,l),t=t.sibling}function Gd(t){var e=t.stateNode,l=t.memoizedProps;try{for(var s=t.type,p=e.attributes;p.length;)e.removeAttributeNode(p[0]);Ae(e,s,l),e[Se]=t,e[Ue]=l}catch(y){Xt(t,t.return,y)}}var Ln=!1,pe=!1,qs=!1,Bd=typeof WeakSet=="function"?WeakSet:Set,ve=null;function sv(t,e){if(t=t.containerInfo,uu=Ba,t=Zc(t),Lr(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else t:{l=(l=t.ownerDocument)&&l.defaultView||window;var s=l.getSelection&&l.getSelection();if(s&&s.rangeCount!==0){l=s.anchorNode;var p=s.anchorOffset,y=s.focusNode;s=s.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break t}var E=0,N=-1,H=-1,Z=0,ot=0,ft=t,$=null;e:for(;;){for(var j;ft!==l||p!==0&&ft.nodeType!==3||(N=E+p),ft!==y||s!==0&&ft.nodeType!==3||(H=E+s),ft.nodeType===3&&(E+=ft.nodeValue.length),(j=ft.firstChild)!==null;)$=ft,ft=j;for(;;){if(ft===t)break e;if($===l&&++Z===p&&(N=E),$===y&&++ot===s&&(H=E),(j=ft.nextSibling)!==null)break;ft=$,$=ft.parentNode}ft=j}l=N===-1||H===-1?null:{start:N,end:H}}else l=null}l=l||{start:0,end:0}}else l=null;for(cu={focusedElem:t,selectionRange:l},Ba=!1,ve=e;ve!==null;)if(e=ve,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ve=t;else for(;ve!==null;){switch(e=ve,y=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(l=0;l<t.length;l++)p=t[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&y!==null){t=void 0,l=e,p=y.memoizedProps,y=y.memoizedState,s=l.stateNode;try{var Et=ki(l.type,p);t=s.getSnapshotBeforeUpdate(Et,y),s.__reactInternalSnapshotBeforeUpdate=t}catch(Mt){Xt(l,l.return,Mt)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,l=t.nodeType,l===9)hu(t);else if(l===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":hu(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=e.sibling,t!==null){t.return=e.return,ve=t;break}ve=e.return}}function Hd(t,e,l){var s=l.flags;switch(l.tag){case 0:case 11:case 15:Gn(t,l),s&4&&rl(5,l);break;case 1:if(Gn(t,l),s&4)if(t=l.stateNode,e===null)try{t.componentDidMount()}catch(E){Xt(l,l.return,E)}else{var p=ki(l.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(p,e,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Xt(l,l.return,E)}}s&64&&Ud(l),s&512&&sl(l,l.return);break;case 3:if(Gn(t,l),s&64&&(t=l.updateQueue,t!==null)){if(e=null,l.child!==null)switch(l.child.tag){case 27:case 5:e=l.child.stateNode;break;case 1:e=l.child.stateNode}try{Cf(t,e)}catch(E){Xt(l,l.return,E)}}break;case 27:e===null&&s&4&&Gd(l);case 26:case 5:Gn(t,l),e===null&&s&4&&Ld(l),s&512&&sl(l,l.return);break;case 12:Gn(t,l);break;case 31:Gn(t,l),s&4&&qd(t,l);break;case 13:Gn(t,l),s&4&&Vd(t,l),s&64&&(t=l.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(l=yv.bind(null,l),Gv(t,l))));break;case 22:if(s=l.memoizedState!==null||Ln,!s){e=e!==null&&e.memoizedState!==null||pe,p=Ln;var y=pe;Ln=s,(pe=e)&&!y?Bn(t,l,(l.subtreeFlags&8772)!==0):Gn(t,l),Ln=p,pe=y}break;case 30:break;default:Gn(t,l)}}function Od(t){var e=t.alternate;e!==null&&(t.alternate=null,Od(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&vr(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var oe=null,Le=!1;function zn(t,e,l){for(l=l.child;l!==null;)Pd(t,e,l),l=l.sibling}function Pd(t,e,l){if(ge&&typeof ge.onCommitFiberUnmount=="function")try{ge.onCommitFiberUnmount(Wt,l)}catch{}switch(l.tag){case 26:pe||En(l,e),zn(t,e,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:pe||En(l,e);var s=oe,p=Le;ci(l.type)&&(oe=l.stateNode,Le=!1),zn(t,e,l),yl(l.stateNode),oe=s,Le=p;break;case 5:pe||En(l,e);case 6:if(s=oe,p=Le,oe=null,zn(t,e,l),oe=s,Le=p,oe!==null)if(Le)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(l.stateNode)}catch(y){Xt(l,e,y)}else try{oe.removeChild(l.stateNode)}catch(y){Xt(l,e,y)}break;case 18:oe!==null&&(Le?(t=oe,Uh(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,l.stateNode),Ao(t)):Uh(oe,l.stateNode));break;case 4:s=oe,p=Le,oe=l.stateNode.containerInfo,Le=!0,zn(t,e,l),oe=s,Le=p;break;case 0:case 11:case 14:case 15:ii(2,l,e),pe||ii(4,l,e),zn(t,e,l);break;case 1:pe||(En(l,e),s=l.stateNode,typeof s.componentWillUnmount=="function"&&kd(l,e,s)),zn(t,e,l);break;case 21:zn(t,e,l);break;case 22:pe=(s=pe)||l.memoizedState!==null,zn(t,e,l),pe=s;break;default:zn(t,e,l)}}function qd(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ao(t)}catch(l){Xt(e,e.return,l)}}}function Vd(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ao(t)}catch(l){Xt(e,e.return,l)}}function uv(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Bd),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Bd),e;default:throw Error(a(435,t.tag))}}function va(t,e){var l=uv(t);e.forEach(function(s){if(!l.has(s)){l.add(s);var p=vv.bind(null,t,s);s.then(p,p)}})}function ze(t,e){var l=e.deletions;if(l!==null)for(var s=0;s<l.length;s++){var p=l[s],y=t,E=e,N=E;t:for(;N!==null;){switch(N.tag){case 27:if(ci(N.type)){oe=N.stateNode,Le=!1;break t}break;case 5:oe=N.stateNode,Le=!1;break t;case 3:case 4:oe=N.stateNode.containerInfo,Le=!0;break t}N=N.return}if(oe===null)throw Error(a(160));Pd(y,E,p),oe=null,Le=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)Fd(e,t),e=e.sibling}var hn=null;function Fd(t,e){var l=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ze(e,t),Ge(t),s&4&&(ii(3,t,t.return),rl(3,t),ii(5,t,t.return));break;case 1:ze(e,t),Ge(t),s&512&&(pe||l===null||En(l,l.return)),s&64&&Ln&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(l=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=l===null?s:l.concat(s))));break;case 26:var p=hn;if(ze(e,t),Ge(t),s&512&&(pe||l===null||En(l,l.return)),s&4){var y=l!==null?l.memoizedState:null;if(s=t.memoizedState,l===null)if(s===null)if(t.stateNode===null){t:{s=t.type,l=t.memoizedProps,p=p.ownerDocument||p;e:switch(s){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Lo]||y[Se]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(s),p.head.insertBefore(y,p.querySelector("head > title"))),Ae(y,s,l),y[Se]=t,ye(y),s=y;break t;case"link":var E=Fh("link","href",p).get(s+(l.href||""));if(E){for(var N=0;N<E.length;N++)if(y=E[N],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){E.splice(N,1);break e}}y=p.createElement(s),Ae(y,s,l),p.head.appendChild(y);break;case"meta":if(E=Fh("meta","content",p).get(s+(l.content||""))){for(N=0;N<E.length;N++)if(y=E[N],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){E.splice(N,1);break e}}y=p.createElement(s),Ae(y,s,l),p.head.appendChild(y);break;default:throw Error(a(468,s))}y[Se]=t,ye(y),s=y}t.stateNode=s}else Yh(p,t.type,t.stateNode);else t.stateNode=Vh(p,s,t.memoizedProps);else y!==s?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,s===null?Yh(p,t.type,t.stateNode):Vh(p,s,t.memoizedProps)):s===null&&t.stateNode!==null&&Hs(t,t.memoizedProps,l.memoizedProps)}break;case 27:ze(e,t),Ge(t),s&512&&(pe||l===null||En(l,l.return)),l!==null&&s&4&&Hs(t,t.memoizedProps,l.memoizedProps);break;case 5:if(ze(e,t),Ge(t),s&512&&(pe||l===null||En(l,l.return)),t.flags&32){p=t.stateNode;try{Ji(p,"")}catch(Et){Xt(t,t.return,Et)}}s&4&&t.stateNode!=null&&(p=t.memoizedProps,Hs(t,p,l!==null?l.memoizedProps:p)),s&1024&&(qs=!0);break;case 6:if(ze(e,t),Ge(t),s&4){if(t.stateNode===null)throw Error(a(162));s=t.memoizedProps,l=t.stateNode;try{l.nodeValue=s}catch(Et){Xt(t,t.return,Et)}}break;case 3:if(ka=null,p=hn,hn=Da(e.containerInfo),ze(e,t),hn=p,Ge(t),s&4&&l!==null&&l.memoizedState.isDehydrated)try{Ao(e.containerInfo)}catch(Et){Xt(t,t.return,Et)}qs&&(qs=!1,Yd(t));break;case 4:s=hn,hn=Da(t.stateNode.containerInfo),ze(e,t),Ge(t),hn=s;break;case 12:ze(e,t),Ge(t);break;case 31:ze(e,t),Ge(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,va(t,s)));break;case 13:ze(e,t),Ge(t),t.child.flags&8192&&t.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Sa=_t()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,va(t,s)));break;case 22:p=t.memoizedState!==null;var H=l!==null&&l.memoizedState!==null,Z=Ln,ot=pe;if(Ln=Z||p,pe=ot||H,ze(e,t),pe=ot,Ln=Z,Ge(t),s&8192)t:for(e=t.stateNode,e._visibility=p?e._visibility&-2:e._visibility|1,p&&(l===null||H||Ln||pe||Li(t)),l=null,e=t;;){if(e.tag===5||e.tag===26){if(l===null){H=l=e;try{if(y=H.stateNode,p)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{N=H.stateNode;var ft=H.memoizedProps.style,$=ft!=null&&ft.hasOwnProperty("display")?ft.display:null;N.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(Et){Xt(H,H.return,Et)}}}else if(e.tag===6){if(l===null){H=e;try{H.stateNode.nodeValue=p?"":H.memoizedProps}catch(Et){Xt(H,H.return,Et)}}}else if(e.tag===18){if(l===null){H=e;try{var j=H.stateNode;p?kh(j,!0):kh(H.stateNode,!1)}catch(Et){Xt(H,H.return,Et)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;l===e&&(l=null),e=e.return}l===e&&(l=null),e.sibling.return=e.return,e=e.sibling}s&4&&(s=t.updateQueue,s!==null&&(l=s.retryQueue,l!==null&&(s.retryQueue=null,va(t,l))));break;case 19:ze(e,t),Ge(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,va(t,s)));break;case 30:break;case 21:break;default:ze(e,t),Ge(t)}}function Ge(t){var e=t.flags;if(e&2){try{for(var l,s=t.return;s!==null;){if(zd(s)){l=s;break}s=s.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var p=l.stateNode,y=Os(t);ya(t,y,p);break;case 5:var E=l.stateNode;l.flags&32&&(Ji(E,""),l.flags&=-33);var N=Os(t);ya(t,N,E);break;case 3:case 4:var H=l.stateNode.containerInfo,Z=Os(t);Ps(t,Z,H);break;default:throw Error(a(161))}}catch(ot){Xt(t,t.return,ot)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Yd(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Yd(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Gn(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Hd(t,e.alternate,e),e=e.sibling}function Li(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ii(4,e,e.return),Li(e);break;case 1:En(e,e.return);var l=e.stateNode;typeof l.componentWillUnmount=="function"&&kd(e,e.return,l),Li(e);break;case 27:yl(e.stateNode);case 26:case 5:En(e,e.return),Li(e);break;case 22:e.memoizedState===null&&Li(e);break;case 30:Li(e);break;default:Li(e)}t=t.sibling}}function Bn(t,e,l){for(l=l&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var s=e.alternate,p=t,y=e,E=y.flags;switch(y.tag){case 0:case 11:case 15:Bn(p,y,l),rl(4,y);break;case 1:if(Bn(p,y,l),s=y,p=s.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Z){Xt(s,s.return,Z)}if(s=y,p=s.updateQueue,p!==null){var N=s.stateNode;try{var H=p.shared.hiddenCallbacks;if(H!==null)for(p.shared.hiddenCallbacks=null,p=0;p<H.length;p++)Ef(H[p],N)}catch(Z){Xt(s,s.return,Z)}}l&&E&64&&Ud(y),sl(y,y.return);break;case 27:Gd(y);case 26:case 5:Bn(p,y,l),l&&s===null&&E&4&&Ld(y),sl(y,y.return);break;case 12:Bn(p,y,l);break;case 31:Bn(p,y,l),l&&E&4&&qd(p,y);break;case 13:Bn(p,y,l),l&&E&4&&Vd(p,y);break;case 22:y.memoizedState===null&&Bn(p,y,l),sl(y,y.return);break;case 30:break;default:Bn(p,y,l)}e=e.sibling}}function Vs(t,e){var l=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==l&&(t!=null&&t.refCount++,l!=null&&Xo(l))}function Fs(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Xo(t))}function pn(t,e,l,s){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Jd(t,e,l,s),e=e.sibling}function Jd(t,e,l,s){var p=e.flags;switch(e.tag){case 0:case 11:case 15:pn(t,e,l,s),p&2048&&rl(9,e);break;case 1:pn(t,e,l,s);break;case 3:pn(t,e,l,s),p&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Xo(t)));break;case 12:if(p&2048){pn(t,e,l,s),t=e.stateNode;try{var y=e.memoizedProps,E=y.id,N=y.onPostCommit;typeof N=="function"&&N(E,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(H){Xt(e,e.return,H)}}else pn(t,e,l,s);break;case 31:pn(t,e,l,s);break;case 13:pn(t,e,l,s);break;case 23:break;case 22:y=e.stateNode,E=e.alternate,e.memoizedState!==null?y._visibility&2?pn(t,e,l,s):ul(t,e):y._visibility&2?pn(t,e,l,s):(y._visibility|=2,ho(t,e,l,s,(e.subtreeFlags&10256)!==0||!1)),p&2048&&Vs(E,e);break;case 24:pn(t,e,l,s),p&2048&&Fs(e.alternate,e);break;default:pn(t,e,l,s)}}function ho(t,e,l,s,p){for(p=p&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var y=t,E=e,N=l,H=s,Z=E.flags;switch(E.tag){case 0:case 11:case 15:ho(y,E,N,H,p),rl(8,E);break;case 23:break;case 22:var ot=E.stateNode;E.memoizedState!==null?ot._visibility&2?ho(y,E,N,H,p):ul(y,E):(ot._visibility|=2,ho(y,E,N,H,p)),p&&Z&2048&&Vs(E.alternate,E);break;case 24:ho(y,E,N,H,p),p&&Z&2048&&Fs(E.alternate,E);break;default:ho(y,E,N,H,p)}e=e.sibling}}function ul(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var l=t,s=e,p=s.flags;switch(s.tag){case 22:ul(l,s),p&2048&&Vs(s.alternate,s);break;case 24:ul(l,s),p&2048&&Fs(s.alternate,s);break;default:ul(l,s)}e=e.sibling}}var cl=8192;function po(t,e,l){if(t.subtreeFlags&cl)for(t=t.child;t!==null;)Kd(t,e,l),t=t.sibling}function Kd(t,e,l){switch(t.tag){case 26:po(t,e,l),t.flags&cl&&t.memoizedState!==null&&Zv(l,hn,t.memoizedState,t.memoizedProps);break;case 5:po(t,e,l);break;case 3:case 4:var s=hn;hn=Da(t.stateNode.containerInfo),po(t,e,l),hn=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=cl,cl=16777216,po(t,e,l),cl=s):po(t,e,l));break;default:po(t,e,l)}}function Xd(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function fl(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var l=0;l<e.length;l++){var s=e[l];ve=s,Qd(s,t)}Xd(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Zd(t),t=t.sibling}function Zd(t){switch(t.tag){case 0:case 11:case 15:fl(t),t.flags&2048&&ii(9,t,t.return);break;case 3:fl(t);break;case 12:fl(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,_a(t)):fl(t);break;default:fl(t)}}function _a(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var l=0;l<e.length;l++){var s=e[l];ve=s,Qd(s,t)}Xd(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:ii(8,e,e.return),_a(e);break;case 22:l=e.stateNode,l._visibility&2&&(l._visibility&=-3,_a(e));break;default:_a(e)}t=t.sibling}}function Qd(t,e){for(;ve!==null;){var l=ve;switch(l.tag){case 0:case 11:case 15:ii(8,l,e);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var s=l.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Xo(l.memoizedState.cache)}if(s=l.child,s!==null)s.return=l,ve=s;else t:for(l=t;ve!==null;){s=ve;var p=s.sibling,y=s.return;if(Od(s),s===l){ve=null;break t}if(p!==null){p.return=y,ve=p;break t}ve=y}}}var cv={getCacheForType:function(t){var e=Ee(fe),l=e.data.get(t);return l===void 0&&(l=t(),e.data.set(t,l)),l},cacheSignal:function(){return Ee(fe).controller.signal}},fv=typeof WeakMap=="function"?WeakMap:Map,Yt=0,jt=null,Gt=null,Ht=0,Kt=0,Ye=null,oi=!1,mo=!1,Ys=!1,Hn=0,se=0,li=0,zi=0,Js=0,Je=0,go=0,dl=null,Be=null,Ks=!1,Sa=0,$d=0,Ta=1/0,Ea=null,ai=null,me=0,ri=null,yo=null,On=0,Xs=0,Zs=null,Wd=null,hl=0,Qs=null;function Ke(){return(Yt&2)!==0&&Ht!==0?Ht&-Ht:J.T!==null?nu():hc()}function jd(){if(Je===0)if((Ht&536870912)===0||Pt){var t=_i;_i<<=1,(_i&3932160)===0&&(_i=262144),Je=t}else Je=536870912;return t=Ve.current,t!==null&&(t.flags|=32),Je}function He(t,e,l){(t===jt&&(Kt===2||Kt===9)||t.cancelPendingCommit!==null)&&(vo(t,0),si(t,Ht,Je,!1)),ko(t,l),((Yt&2)===0||t!==jt)&&(t===jt&&((Yt&2)===0&&(zi|=l),se===4&&si(t,Ht,Je,!1)),Cn(t))}function th(t,e,l){if((Yt&6)!==0)throw Error(a(327));var s=!l&&(e&127)===0&&(e&t.expiredLanes)===0||Uo(t,e),p=s?pv(t,e):Ws(t,e,!0),y=s;do{if(p===0){mo&&!s&&si(t,e,0,!1);break}else{if(l=t.current.alternate,y&&!dv(l)){p=Ws(t,e,!1),y=!1;continue}if(p===2){if(y=e,t.errorRecoveryDisabledLanes&y)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){e=E;t:{var N=t;p=dl;var H=N.current.memoizedState.isDehydrated;if(H&&(vo(N,E).flags|=256),E=Ws(N,E,!1),E!==2){if(Ys&&!H){N.errorRecoveryDisabledLanes|=y,zi|=y,p=4;break t}y=Be,Be=p,y!==null&&(Be===null?Be=y:Be.push.apply(Be,y))}p=E}if(y=!1,p!==2)continue}}if(p===1){vo(t,0),si(t,e,0,!0);break}t:{switch(s=t,y=p,y){case 0:case 1:throw Error(a(345));case 4:if((e&4194048)!==e)break;case 6:si(s,e,Je,!oi);break t;case 2:Be=null;break;case 3:case 5:break;default:throw Error(a(329))}if((e&62914560)===e&&(p=Sa+300-_t(),10<p)){if(si(s,e,Je,!oi),Dl(s,0,!0)!==0)break t;On=e,s.timeoutHandle=xh(eh.bind(null,s,l,Be,Ea,Ks,e,Je,zi,go,oi,y,"Throttled",-0,0),p);break t}eh(s,l,Be,Ea,Ks,e,Je,zi,go,oi,y,null,-0,0)}}break}while(!0);Cn(t)}function eh(t,e,l,s,p,y,E,N,H,Z,ot,ft,$,j){if(t.timeoutHandle=-1,ft=e.subtreeFlags,ft&8192||(ft&16785408)===16785408){ft={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rn},Kd(e,y,ft);var Et=(y&62914560)===y?Sa-_t():(y&4194048)===y?$d-_t():0;if(Et=Qv(ft,Et),Et!==null){On=y,t.cancelPendingCommit=Et(uh.bind(null,t,e,y,l,s,p,E,N,H,ot,ft,null,$,j)),si(t,y,E,!Z);return}}uh(t,e,y,l,s,p,E,N,H)}function dv(t){for(var e=t;;){var l=e.tag;if((l===0||l===11||l===15)&&e.flags&16384&&(l=e.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var s=0;s<l.length;s++){var p=l[s],y=p.getSnapshot;p=p.value;try{if(!Pe(y(),p))return!1}catch{return!1}}if(l=e.child,e.subtreeFlags&16384&&l!==null)l.return=e,e=l;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function si(t,e,l,s){e&=~Js,e&=~zi,t.suspendedLanes|=e,t.pingedLanes&=~e,s&&(t.warmLanes|=e),s=t.expirationTimes;for(var p=e;0<p;){var y=31-le(p),E=1<<y;s[y]=-1,p&=~E}l!==0&&cc(t,l,e)}function Ca(){return(Yt&6)===0?(pl(0),!1):!0}function $s(){if(Gt!==null){if(Kt===0)var t=Gt.return;else t=Gt,Nn=wi=null,hs(t),ro=null,Qo=0,t=Gt;for(;t!==null;)Dd(t.alternate,t),t=t.return;Gt=null}}function vo(t,e){var l=t.timeoutHandle;l!==-1&&(t.timeoutHandle=-1,Dv(l)),l=t.cancelPendingCommit,l!==null&&(t.cancelPendingCommit=null,l()),On=0,$s(),jt=t,Gt=l=wn(t.current,null),Ht=e,Kt=0,Ye=null,oi=!1,mo=Uo(t,e),Ys=!1,go=Je=Js=zi=li=se=0,Be=dl=null,Ks=!1,(e&8)!==0&&(e|=e&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=e;0<s;){var p=31-le(s),y=1<<p;e|=t[p],s&=~y}return Hn=e,Fl(),l}function nh(t,e){Ut=null,J.H=ol,e===ao||e===Wl?(e=vf(),Kt=3):e===es?(e=vf(),Kt=4):Kt=e===Ns?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Ye=e,Gt===null&&(se=1,da(t,en(e,t.current)))}function ih(){var t=Ve.current;return t===null?!0:(Ht&4194048)===Ht?an===null:(Ht&62914560)===Ht||(Ht&536870912)!==0?t===an:!1}function oh(){var t=J.H;return J.H=ol,t===null?ol:t}function lh(){var t=J.A;return J.A=cv,t}function Aa(){se=4,oi||(Ht&4194048)!==Ht&&Ve.current!==null||(mo=!0),(li&134217727)===0&&(zi&134217727)===0||jt===null||si(jt,Ht,Je,!1)}function Ws(t,e,l){var s=Yt;Yt|=2;var p=oh(),y=lh();(jt!==t||Ht!==e)&&(Ea=null,vo(t,e)),e=!1;var E=se;t:do try{if(Kt!==0&&Gt!==null){var N=Gt,H=Ye;switch(Kt){case 8:$s(),E=6;break t;case 3:case 2:case 9:case 6:Ve.current===null&&(e=!0);var Z=Kt;if(Kt=0,Ye=null,_o(t,N,H,Z),l&&mo){E=0;break t}break;default:Z=Kt,Kt=0,Ye=null,_o(t,N,H,Z)}}hv(),E=se;break}catch(ot){nh(t,ot)}while(!0);return e&&t.shellSuspendCounter++,Nn=wi=null,Yt=s,J.H=p,J.A=y,Gt===null&&(jt=null,Ht=0,Fl()),E}function hv(){for(;Gt!==null;)ah(Gt)}function pv(t,e){var l=Yt;Yt|=2;var s=oh(),p=lh();jt!==t||Ht!==e?(Ea=null,Ta=_t()+500,vo(t,e)):mo=Uo(t,e);t:do try{if(Kt!==0&&Gt!==null){e=Gt;var y=Ye;e:switch(Kt){case 1:Kt=0,Ye=null,_o(t,e,y,1);break;case 2:case 9:if(gf(y)){Kt=0,Ye=null,rh(e);break}e=function(){Kt!==2&&Kt!==9||jt!==t||(Kt=7),Cn(t)},y.then(e,e);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:gf(y)?(Kt=0,Ye=null,rh(e)):(Kt=0,Ye=null,_o(t,e,y,7));break;case 5:var E=null;switch(Gt.tag){case 26:E=Gt.memoizedState;case 5:case 27:var N=Gt;if(E?Jh(E):N.stateNode.complete){Kt=0,Ye=null;var H=N.sibling;if(H!==null)Gt=H;else{var Z=N.return;Z!==null?(Gt=Z,Ra(Z)):Gt=null}break e}}Kt=0,Ye=null,_o(t,e,y,5);break;case 6:Kt=0,Ye=null,_o(t,e,y,6);break;case 8:$s(),se=6;break t;default:throw Error(a(462))}}mv();break}catch(ot){nh(t,ot)}while(!0);return Nn=wi=null,J.H=s,J.A=p,Yt=l,Gt!==null?0:(jt=null,Ht=0,Fl(),se)}function mv(){for(;Gt!==null&&!Q();)ah(Gt)}function ah(t){var e=Id(t.alternate,t,Hn);t.memoizedProps=t.pendingProps,e===null?Ra(t):Gt=e}function rh(t){var e=t,l=e.alternate;switch(e.tag){case 15:case 0:e=Ad(l,e,e.pendingProps,e.type,void 0,Ht);break;case 11:e=Ad(l,e,e.pendingProps,e.type.render,e.ref,Ht);break;case 5:hs(e);default:Dd(l,e),e=Gt=lf(e,Hn),e=Id(l,e,Hn)}t.memoizedProps=t.pendingProps,e===null?Ra(t):Gt=e}function _o(t,e,l,s){Nn=wi=null,hs(e),ro=null,Qo=0;var p=e.return;try{if(iv(t,p,e,l,Ht)){se=1,da(t,en(l,t.current)),Gt=null;return}}catch(y){if(p!==null)throw Gt=p,y;se=1,da(t,en(l,t.current)),Gt=null;return}e.flags&32768?(Pt||s===1?t=!0:mo||(Ht&536870912)!==0?t=!1:(oi=t=!0,(s===2||s===9||s===3||s===6)&&(s=Ve.current,s!==null&&s.tag===13&&(s.flags|=16384))),sh(e,t)):Ra(e)}function Ra(t){var e=t;do{if((e.flags&32768)!==0){sh(e,oi);return}t=e.return;var l=av(e.alternate,e,Hn);if(l!==null){Gt=l;return}if(e=e.sibling,e!==null){Gt=e;return}Gt=e=t}while(e!==null);se===0&&(se=5)}function sh(t,e){do{var l=rv(t.alternate,t);if(l!==null){l.flags&=32767,Gt=l;return}if(l=t.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!e&&(t=t.sibling,t!==null)){Gt=t;return}Gt=t=l}while(t!==null);se=6,Gt=null}function uh(t,e,l,s,p,y,E,N,H){t.cancelPendingCommit=null;do ba();while(me!==0);if((Yt&6)!==0)throw Error(a(327));if(e!==null){if(e===t.current)throw Error(a(177));if(y=e.lanes|e.childLanes,y|=Or,Xg(t,l,y,E,N,H),t===jt&&(Gt=jt=null,Ht=0),yo=e,ri=t,On=l,Xs=y,Zs=p,Wd=s,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,_v(zt,function(){return ph(),null})):(t.callbackNode=null,t.callbackPriority=0),s=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||s){s=J.T,J.T=null,p=Y.p,Y.p=2,E=Yt,Yt|=4;try{sv(t,e,l)}finally{Yt=E,Y.p=p,J.T=s}}me=1,ch(),fh(),dh()}}function ch(){if(me===1){me=0;var t=ri,e=yo,l=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||l){l=J.T,J.T=null;var s=Y.p;Y.p=2;var p=Yt;Yt|=4;try{Fd(e,t);var y=cu,E=Zc(t.containerInfo),N=y.focusedElem,H=y.selectionRange;if(E!==N&&N&&N.ownerDocument&&Xc(N.ownerDocument.documentElement,N)){if(H!==null&&Lr(N)){var Z=H.start,ot=H.end;if(ot===void 0&&(ot=Z),"selectionStart"in N)N.selectionStart=Z,N.selectionEnd=Math.min(ot,N.value.length);else{var ft=N.ownerDocument||document,$=ft&&ft.defaultView||window;if($.getSelection){var j=$.getSelection(),Et=N.textContent.length,Mt=Math.min(H.start,Et),$t=H.end===void 0?Mt:Math.min(H.end,Et);!j.extend&&Mt>$t&&(E=$t,$t=Mt,Mt=E);var F=Kc(N,Mt),O=Kc(N,$t);if(F&&O&&(j.rangeCount!==1||j.anchorNode!==F.node||j.anchorOffset!==F.offset||j.focusNode!==O.node||j.focusOffset!==O.offset)){var X=ft.createRange();X.setStart(F.node,F.offset),j.removeAllRanges(),Mt>$t?(j.addRange(X),j.extend(O.node,O.offset)):(X.setEnd(O.node,O.offset),j.addRange(X))}}}}for(ft=[],j=N;j=j.parentNode;)j.nodeType===1&&ft.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<ft.length;N++){var ut=ft[N];ut.element.scrollLeft=ut.left,ut.element.scrollTop=ut.top}}Ba=!!uu,cu=uu=null}finally{Yt=p,Y.p=s,J.T=l}}t.current=e,me=2}}function fh(){if(me===2){me=0;var t=ri,e=yo,l=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||l){l=J.T,J.T=null;var s=Y.p;Y.p=2;var p=Yt;Yt|=4;try{Hd(t,e.alternate,e)}finally{Yt=p,Y.p=s,J.T=l}}me=3}}function dh(){if(me===4||me===3){me=0,gt();var t=ri,e=yo,l=On,s=Wd;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?me=5:(me=0,yo=ri=null,hh(t,t.pendingLanes));var p=t.pendingLanes;if(p===0&&(ai=null),gr(l),e=e.stateNode,ge&&typeof ge.onCommitFiberRoot=="function")try{ge.onCommitFiberRoot(Wt,e,void 0,(e.current.flags&128)===128)}catch{}if(s!==null){e=J.T,p=Y.p,Y.p=2,J.T=null;try{for(var y=t.onRecoverableError,E=0;E<s.length;E++){var N=s[E];y(N.value,{componentStack:N.stack})}}finally{J.T=e,Y.p=p}}(On&3)!==0&&ba(),Cn(t),p=t.pendingLanes,(l&261930)!==0&&(p&42)!==0?t===Qs?hl++:(hl=0,Qs=t):hl=0,pl(0)}}function hh(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Xo(e)))}function ba(){return ch(),fh(),dh(),ph()}function ph(){if(me!==5)return!1;var t=ri,e=Xs;Xs=0;var l=gr(On),s=J.T,p=Y.p;try{Y.p=32>l?32:l,J.T=null,l=Zs,Zs=null;var y=ri,E=On;if(me=0,yo=ri=null,On=0,(Yt&6)!==0)throw Error(a(331));var N=Yt;if(Yt|=4,Zd(y.current),Jd(y,y.current,E,l),Yt=N,pl(0,!1),ge&&typeof ge.onPostCommitFiberRoot=="function")try{ge.onPostCommitFiberRoot(Wt,y)}catch{}return!0}finally{Y.p=p,J.T=s,hh(t,e)}}function mh(t,e,l){e=en(l,e),e=Ms(t.stateNode,e,2),t=ti(t,e,2),t!==null&&(ko(t,2),Cn(t))}function Xt(t,e,l){if(t.tag===3)mh(t,t,l);else for(;e!==null;){if(e.tag===3){mh(e,t,l);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ai===null||!ai.has(s))){t=en(l,t),l=gd(2),s=ti(e,l,2),s!==null&&(yd(l,s,e,t),ko(s,2),Cn(s));break}}e=e.return}}function js(t,e,l){var s=t.pingCache;if(s===null){s=t.pingCache=new fv;var p=new Set;s.set(e,p)}else p=s.get(e),p===void 0&&(p=new Set,s.set(e,p));p.has(l)||(Ys=!0,p.add(l),t=gv.bind(null,t,e,l),e.then(t,t))}function gv(t,e,l){var s=t.pingCache;s!==null&&s.delete(e),t.pingedLanes|=t.suspendedLanes&l,t.warmLanes&=~l,jt===t&&(Ht&l)===l&&(se===4||se===3&&(Ht&62914560)===Ht&&300>_t()-Sa?(Yt&2)===0&&vo(t,0):Js|=l,go===Ht&&(go=0)),Cn(t)}function gh(t,e){e===0&&(e=uc()),t=Ai(t,e),t!==null&&(ko(t,e),Cn(t))}function yv(t){var e=t.memoizedState,l=0;e!==null&&(l=e.retryLane),gh(t,l)}function vv(t,e){var l=0;switch(t.tag){case 31:case 13:var s=t.stateNode,p=t.memoizedState;p!==null&&(l=p.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(e),gh(t,l)}function _v(t,e){return ht(t,e)}var wa=null,So=null,tu=!1,Ma=!1,eu=!1,ui=0;function Cn(t){t!==So&&t.next===null&&(So===null?wa=So=t:So=So.next=t),Ma=!0,tu||(tu=!0,Tv())}function pl(t,e){if(!eu&&Ma){eu=!0;do for(var l=!1,s=wa;s!==null;){if(t!==0){var p=s.pendingLanes;if(p===0)var y=0;else{var E=s.suspendedLanes,N=s.pingedLanes;y=(1<<31-le(42|t)+1)-1,y&=p&~(E&~N),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,Sh(s,y))}else y=Ht,y=Dl(s,s===jt?y:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(y&3)===0||Uo(s,y)||(l=!0,Sh(s,y));s=s.next}while(l);eu=!1}}function Sv(){yh()}function yh(){Ma=tu=!1;var t=0;ui!==0&&xv()&&(t=ui);for(var e=_t(),l=null,s=wa;s!==null;){var p=s.next,y=vh(s,e);y===0?(s.next=null,l===null?wa=p:l.next=p,p===null&&(So=l)):(l=s,(t!==0||(y&3)!==0)&&(Ma=!0)),s=p}me!==0&&me!==5||pl(t),ui!==0&&(ui=0)}function vh(t,e){for(var l=t.suspendedLanes,s=t.pingedLanes,p=t.expirationTimes,y=t.pendingLanes&-62914561;0<y;){var E=31-le(y),N=1<<E,H=p[E];H===-1?((N&l)===0||(N&s)!==0)&&(p[E]=Kg(N,e)):H<=e&&(t.expiredLanes|=N),y&=~N}if(e=jt,l=Ht,l=Dl(t,t===e?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s=t.callbackNode,l===0||t===e&&(Kt===2||Kt===9)||t.cancelPendingCommit!==null)return s!==null&&s!==null&&pt(s),t.callbackNode=null,t.callbackPriority=0;if((l&3)===0||Uo(t,l)){if(e=l&-l,e===t.callbackPriority)return e;switch(s!==null&&pt(s),gr(l)){case 2:case 8:l=Jt;break;case 32:l=zt;break;case 268435456:l=Yn;break;default:l=zt}return s=_h.bind(null,t),l=ht(l,s),t.callbackPriority=e,t.callbackNode=l,e}return s!==null&&s!==null&&pt(s),t.callbackPriority=2,t.callbackNode=null,2}function _h(t,e){if(me!==0&&me!==5)return t.callbackNode=null,t.callbackPriority=0,null;var l=t.callbackNode;if(ba()&&t.callbackNode!==l)return null;var s=Ht;return s=Dl(t,t===jt?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s===0?null:(th(t,s,e),vh(t,_t()),t.callbackNode!=null&&t.callbackNode===l?_h.bind(null,t):null)}function Sh(t,e){if(ba())return null;th(t,e,!0)}function Tv(){Uv(function(){(Yt&6)!==0?ht(Rt,Sv):yh()})}function nu(){if(ui===0){var t=oo;t===0&&(t=Hi,Hi<<=1,(Hi&261888)===0&&(Hi=256)),ui=t}return ui}function Th(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:zl(""+t)}function Eh(t,e){var l=e.ownerDocument.createElement("input");return l.name=e.name,l.value=e.value,t.id&&l.setAttribute("form",t.id),e.parentNode.insertBefore(l,e),t=new FormData(t),l.parentNode.removeChild(l),t}function Ev(t,e,l,s,p){if(e==="submit"&&l&&l.stateNode===p){var y=Th((p[Ue]||null).action),E=s.submitter;E&&(e=(e=E[Ue]||null)?Th(e.formAction):E.getAttribute("formAction"),e!==null&&(y=e,E=null));var N=new Ol("action","action",null,s,p);t.push({event:N,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(ui!==0){var H=E?Eh(p,E):new FormData(p);Es(l,{pending:!0,data:H,method:p.method,action:y},null,H)}}else typeof y=="function"&&(N.preventDefault(),H=E?Eh(p,E):new FormData(p),Es(l,{pending:!0,data:H,method:p.method,action:y},y,H))},currentTarget:p}]})}}for(var iu=0;iu<Hr.length;iu++){var ou=Hr[iu],Cv=ou.toLowerCase(),Av=ou[0].toUpperCase()+ou.slice(1);dn(Cv,"on"+Av)}dn(Wc,"onAnimationEnd"),dn(jc,"onAnimationIteration"),dn(tf,"onAnimationStart"),dn("dblclick","onDoubleClick"),dn("focusin","onFocus"),dn("focusout","onBlur"),dn(Oy,"onTransitionRun"),dn(Py,"onTransitionStart"),dn(qy,"onTransitionCancel"),dn(ef,"onTransitionEnd"),Fi("onMouseEnter",["mouseout","mouseover"]),Fi("onMouseLeave",["mouseout","mouseover"]),Fi("onPointerEnter",["pointerout","pointerover"]),Fi("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ml));function Ch(t,e){e=(e&4)!==0;for(var l=0;l<t.length;l++){var s=t[l],p=s.event;s=s.listeners;t:{var y=void 0;if(e)for(var E=s.length-1;0<=E;E--){var N=s[E],H=N.instance,Z=N.currentTarget;if(N=N.listener,H!==y&&p.isPropagationStopped())break t;y=N,p.currentTarget=Z;try{y(p)}catch(ot){Vl(ot)}p.currentTarget=null,y=H}else for(E=0;E<s.length;E++){if(N=s[E],H=N.instance,Z=N.currentTarget,N=N.listener,H!==y&&p.isPropagationStopped())break t;y=N,p.currentTarget=Z;try{y(p)}catch(ot){Vl(ot)}p.currentTarget=null,y=H}}}}function Bt(t,e){var l=e[yr];l===void 0&&(l=e[yr]=new Set);var s=t+"__bubble";l.has(s)||(Ah(e,t,2,!1),l.add(s))}function lu(t,e,l){var s=0;e&&(s|=4),Ah(l,t,s,e)}var Na="_reactListening"+Math.random().toString(36).slice(2);function au(t){if(!t[Na]){t[Na]=!0,gc.forEach(function(l){l!=="selectionchange"&&(Rv.has(l)||lu(l,!1,t),lu(l,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Na]||(e[Na]=!0,lu("selectionchange",!1,e))}}function Ah(t,e,l,s){switch(jh(e)){case 2:var p=jv;break;case 8:p=t0;break;default:p=Tu}l=p.bind(null,e,l,t),p=void 0,!br||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(p=!0),s?p!==void 0?t.addEventListener(e,l,{capture:!0,passive:p}):t.addEventListener(e,l,!0):p!==void 0?t.addEventListener(e,l,{passive:p}):t.addEventListener(e,l,!1)}function ru(t,e,l,s,p){var y=s;if((e&1)===0&&(e&2)===0&&s!==null)t:for(;;){if(s===null)return;var E=s.tag;if(E===3||E===4){var N=s.stateNode.containerInfo;if(N===p)break;if(E===4)for(E=s.return;E!==null;){var H=E.tag;if((H===3||H===4)&&E.stateNode.containerInfo===p)return;E=E.return}for(;N!==null;){if(E=Pi(N),E===null)return;if(H=E.tag,H===5||H===6||H===26||H===27){s=y=E;continue t}N=N.parentNode}}s=s.return}Mc(function(){var Z=y,ot=Ar(l),ft=[];t:{var $=nf.get(t);if($!==void 0){var j=Ol,Et=t;switch(t){case"keypress":if(Bl(l)===0)break t;case"keydown":case"keyup":j=vy;break;case"focusin":Et="focus",j=Ir;break;case"focusout":Et="blur",j=Ir;break;case"beforeblur":case"afterblur":j=Ir;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=xc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=ay;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=Ty;break;case Wc:case jc:case tf:j=uy;break;case ef:j=Cy;break;case"scroll":case"scrollend":j=oy;break;case"wheel":j=Ry;break;case"copy":case"cut":case"paste":j=fy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Uc;break;case"toggle":case"beforetoggle":j=wy}var Mt=(e&4)!==0,$t=!Mt&&(t==="scroll"||t==="scrollend"),F=Mt?$!==null?$+"Capture":null:$;Mt=[];for(var O=Z,X;O!==null;){var ut=O;if(X=ut.stateNode,ut=ut.tag,ut!==5&&ut!==26&&ut!==27||X===null||F===null||(ut=Go(O,F),ut!=null&&Mt.push(gl(O,ut,X))),$t)break;O=O.return}0<Mt.length&&($=new j($,Et,null,l,ot),ft.push({event:$,listeners:Mt}))}}if((e&7)===0){t:{if($=t==="mouseover"||t==="pointerover",j=t==="mouseout"||t==="pointerout",$&&l!==Cr&&(Et=l.relatedTarget||l.fromElement)&&(Pi(Et)||Et[Oi]))break t;if((j||$)&&($=ot.window===ot?ot:($=ot.ownerDocument)?$.defaultView||$.parentWindow:window,j?(Et=l.relatedTarget||l.toElement,j=Z,Et=Et?Pi(Et):null,Et!==null&&($t=u(Et),Mt=Et.tag,Et!==$t||Mt!==5&&Mt!==27&&Mt!==6)&&(Et=null)):(j=null,Et=Z),j!==Et)){if(Mt=xc,ut="onMouseLeave",F="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(Mt=Uc,ut="onPointerLeave",F="onPointerEnter",O="pointer"),$t=j==null?$:zo(j),X=Et==null?$:zo(Et),$=new Mt(ut,O+"leave",j,l,ot),$.target=$t,$.relatedTarget=X,ut=null,Pi(ot)===Z&&(Mt=new Mt(F,O+"enter",Et,l,ot),Mt.target=X,Mt.relatedTarget=$t,ut=Mt),$t=ut,j&&Et)e:{for(Mt=bv,F=j,O=Et,X=0,ut=F;ut;ut=Mt(ut))X++;ut=0;for(var bt=O;bt;bt=Mt(bt))ut++;for(;0<X-ut;)F=Mt(F),X--;for(;0<ut-X;)O=Mt(O),ut--;for(;X--;){if(F===O||O!==null&&F===O.alternate){Mt=F;break e}F=Mt(F),O=Mt(O)}Mt=null}else Mt=null;j!==null&&Rh(ft,$,j,Mt,!1),Et!==null&&$t!==null&&Rh(ft,$t,Et,Mt,!0)}}t:{if($=Z?zo(Z):window,j=$.nodeName&&$.nodeName.toLowerCase(),j==="select"||j==="input"&&$.type==="file")var qt=Pc;else if(Hc($))if(qc)qt=Gy;else{qt=Ly;var Ct=ky}else j=$.nodeName,!j||j.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?Z&&Er(Z.elementType)&&(qt=Pc):qt=zy;if(qt&&(qt=qt(t,Z))){Oc(ft,qt,l,ot);break t}Ct&&Ct(t,$,Z),t==="focusout"&&Z&&$.type==="number"&&Z.memoizedProps.value!=null&&Tr($,"number",$.value)}switch(Ct=Z?zo(Z):window,t){case"focusin":(Hc(Ct)||Ct.contentEditable==="true")&&(Qi=Ct,zr=Z,Yo=null);break;case"focusout":Yo=zr=Qi=null;break;case"mousedown":Gr=!0;break;case"contextmenu":case"mouseup":case"dragend":Gr=!1,Qc(ft,l,ot);break;case"selectionchange":if(Hy)break;case"keydown":case"keyup":Qc(ft,l,ot)}var kt;if(Dr)t:{switch(t){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else Zi?Gc(t,l)&&(Ot="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(Ot="onCompositionStart");Ot&&(kc&&l.locale!=="ko"&&(Zi||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&Zi&&(kt=Nc()):(Kn=ot,wr="value"in Kn?Kn.value:Kn.textContent,Zi=!0)),Ct=Ia(Z,Ot),0<Ct.length&&(Ot=new Dc(Ot,t,null,l,ot),ft.push({event:Ot,listeners:Ct}),kt?Ot.data=kt:(kt=Bc(l),kt!==null&&(Ot.data=kt)))),(kt=Ny?Iy(t,l):xy(t,l))&&(Ot=Ia(Z,"onBeforeInput"),0<Ot.length&&(Ct=new Dc("onBeforeInput","beforeinput",null,l,ot),ft.push({event:Ct,listeners:Ot}),Ct.data=kt)),Ev(ft,t,Z,l,ot)}Ch(ft,e)})}function gl(t,e,l){return{instance:t,listener:e,currentTarget:l}}function Ia(t,e){for(var l=e+"Capture",s=[];t!==null;){var p=t,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Go(t,l),p!=null&&s.unshift(gl(t,p,y)),p=Go(t,e),p!=null&&s.push(gl(t,p,y))),t.tag===3)return s;t=t.return}return[]}function bv(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Rh(t,e,l,s,p){for(var y=e._reactName,E=[];l!==null&&l!==s;){var N=l,H=N.alternate,Z=N.stateNode;if(N=N.tag,H!==null&&H===s)break;N!==5&&N!==26&&N!==27||Z===null||(H=Z,p?(Z=Go(l,y),Z!=null&&E.unshift(gl(l,Z,H))):p||(Z=Go(l,y),Z!=null&&E.push(gl(l,Z,H)))),l=l.return}E.length!==0&&t.push({event:e,listeners:E})}var wv=/\r\n?/g,Mv=/\u0000|\uFFFD/g;function bh(t){return(typeof t=="string"?t:""+t).replace(wv,`
`).replace(Mv,"")}function wh(t,e){return e=bh(e),bh(t)===e}function Qt(t,e,l,s,p,y){switch(l){case"children":typeof s=="string"?e==="body"||e==="textarea"&&s===""||Ji(t,s):(typeof s=="number"||typeof s=="bigint")&&e!=="body"&&Ji(t,""+s);break;case"className":kl(t,"class",s);break;case"tabIndex":kl(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":kl(t,l,s);break;case"style":bc(t,s,y);break;case"data":if(e!=="object"){kl(t,"data",s);break}case"src":case"href":if(s===""&&(e!=="a"||l!=="href")){t.removeAttribute(l);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(l);break}s=zl(""+s),t.setAttribute(l,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(e!=="input"&&Qt(t,e,"name",p.name,p,null),Qt(t,e,"formEncType",p.formEncType,p,null),Qt(t,e,"formMethod",p.formMethod,p,null),Qt(t,e,"formTarget",p.formTarget,p,null)):(Qt(t,e,"encType",p.encType,p,null),Qt(t,e,"method",p.method,p,null),Qt(t,e,"target",p.target,p,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(l);break}s=zl(""+s),t.setAttribute(l,s);break;case"onClick":s!=null&&(t.onclick=Rn);break;case"onScroll":s!=null&&Bt("scroll",t);break;case"onScrollEnd":s!=null&&Bt("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(p.children!=null)throw Error(a(60));t.innerHTML=l}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}l=zl(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(l,""+s):t.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(l,""):t.removeAttribute(l);break;case"capture":case"download":s===!0?t.setAttribute(l,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(l,s):t.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(l,s):t.removeAttribute(l);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(l):t.setAttribute(l,s);break;case"popover":Bt("beforetoggle",t),Bt("toggle",t),Ul(t,"popover",s);break;case"xlinkActuate":An(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":An(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":An(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":An(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":An(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":An(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":An(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":An(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":An(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Ul(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ny.get(l)||l,Ul(t,l,s))}}function su(t,e,l,s,p,y){switch(l){case"style":bc(t,s,y);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(p.children!=null)throw Error(a(60));t.innerHTML=l}}break;case"children":typeof s=="string"?Ji(t,s):(typeof s=="number"||typeof s=="bigint")&&Ji(t,""+s);break;case"onScroll":s!=null&&Bt("scroll",t);break;case"onScrollEnd":s!=null&&Bt("scrollend",t);break;case"onClick":s!=null&&(t.onclick=Rn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yc.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),e=l.slice(2,p?l.length-7:void 0),y=t[Ue]||null,y=y!=null?y[l]:null,typeof y=="function"&&t.removeEventListener(e,y,p),typeof s=="function")){typeof y!="function"&&y!==null&&(l in t?t[l]=null:t.hasAttribute(l)&&t.removeAttribute(l)),t.addEventListener(e,s,p);break t}l in t?t[l]=s:s===!0?t.setAttribute(l,""):Ul(t,l,s)}}}function Ae(t,e,l){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bt("error",t),Bt("load",t);var s=!1,p=!1,y;for(y in l)if(l.hasOwnProperty(y)){var E=l[y];if(E!=null)switch(y){case"src":s=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,e));default:Qt(t,e,y,E,l,null)}}p&&Qt(t,e,"srcSet",l.srcSet,l,null),s&&Qt(t,e,"src",l.src,l,null);return;case"input":Bt("invalid",t);var N=y=E=p=null,H=null,Z=null;for(s in l)if(l.hasOwnProperty(s)){var ot=l[s];if(ot!=null)switch(s){case"name":p=ot;break;case"type":E=ot;break;case"checked":H=ot;break;case"defaultChecked":Z=ot;break;case"value":y=ot;break;case"defaultValue":N=ot;break;case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(a(137,e));break;default:Qt(t,e,s,ot,l,null)}}Ec(t,y,N,H,Z,E,p,!1);return;case"select":Bt("invalid",t),s=E=y=null;for(p in l)if(l.hasOwnProperty(p)&&(N=l[p],N!=null))switch(p){case"value":y=N;break;case"defaultValue":E=N;break;case"multiple":s=N;default:Qt(t,e,p,N,l,null)}e=y,l=E,t.multiple=!!s,e!=null?Yi(t,!!s,e,!1):l!=null&&Yi(t,!!s,l,!0);return;case"textarea":Bt("invalid",t),y=p=s=null;for(E in l)if(l.hasOwnProperty(E)&&(N=l[E],N!=null))switch(E){case"value":s=N;break;case"defaultValue":p=N;break;case"children":y=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(a(91));break;default:Qt(t,e,E,N,l,null)}Ac(t,s,p,y);return;case"option":for(H in l)l.hasOwnProperty(H)&&(s=l[H],s!=null)&&(H==="selected"?t.selected=s&&typeof s!="function"&&typeof s!="symbol":Qt(t,e,H,s,l,null));return;case"dialog":Bt("beforetoggle",t),Bt("toggle",t),Bt("cancel",t),Bt("close",t);break;case"iframe":case"object":Bt("load",t);break;case"video":case"audio":for(s=0;s<ml.length;s++)Bt(ml[s],t);break;case"image":Bt("error",t),Bt("load",t);break;case"details":Bt("toggle",t);break;case"embed":case"source":case"link":Bt("error",t),Bt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in l)if(l.hasOwnProperty(Z)&&(s=l[Z],s!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,e));default:Qt(t,e,Z,s,l,null)}return;default:if(Er(e)){for(ot in l)l.hasOwnProperty(ot)&&(s=l[ot],s!==void 0&&su(t,e,ot,s,l,void 0));return}}for(N in l)l.hasOwnProperty(N)&&(s=l[N],s!=null&&Qt(t,e,N,s,l,null))}function Nv(t,e,l,s){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,E=null,N=null,H=null,Z=null,ot=null;for(j in l){var ft=l[j];if(l.hasOwnProperty(j)&&ft!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":H=ft;default:s.hasOwnProperty(j)||Qt(t,e,j,null,s,ft)}}for(var $ in s){var j=s[$];if(ft=l[$],s.hasOwnProperty($)&&(j!=null||ft!=null))switch($){case"type":y=j;break;case"name":p=j;break;case"checked":Z=j;break;case"defaultChecked":ot=j;break;case"value":E=j;break;case"defaultValue":N=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,e));break;default:j!==ft&&Qt(t,e,$,j,s,ft)}}Sr(t,E,N,H,Z,ot,y,p);return;case"select":j=E=N=$=null;for(y in l)if(H=l[y],l.hasOwnProperty(y)&&H!=null)switch(y){case"value":break;case"multiple":j=H;default:s.hasOwnProperty(y)||Qt(t,e,y,null,s,H)}for(p in s)if(y=s[p],H=l[p],s.hasOwnProperty(p)&&(y!=null||H!=null))switch(p){case"value":$=y;break;case"defaultValue":N=y;break;case"multiple":E=y;default:y!==H&&Qt(t,e,p,y,s,H)}e=N,l=E,s=j,$!=null?Yi(t,!!l,$,!1):!!s!=!!l&&(e!=null?Yi(t,!!l,e,!0):Yi(t,!!l,l?[]:"",!1));return;case"textarea":j=$=null;for(N in l)if(p=l[N],l.hasOwnProperty(N)&&p!=null&&!s.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Qt(t,e,N,null,s,p)}for(E in s)if(p=s[E],y=l[E],s.hasOwnProperty(E)&&(p!=null||y!=null))switch(E){case"value":$=p;break;case"defaultValue":j=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(a(91));break;default:p!==y&&Qt(t,e,E,p,s,y)}Cc(t,$,j);return;case"option":for(var Et in l)$=l[Et],l.hasOwnProperty(Et)&&$!=null&&!s.hasOwnProperty(Et)&&(Et==="selected"?t.selected=!1:Qt(t,e,Et,null,s,$));for(H in s)$=s[H],j=l[H],s.hasOwnProperty(H)&&$!==j&&($!=null||j!=null)&&(H==="selected"?t.selected=$&&typeof $!="function"&&typeof $!="symbol":Qt(t,e,H,$,s,j));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Mt in l)$=l[Mt],l.hasOwnProperty(Mt)&&$!=null&&!s.hasOwnProperty(Mt)&&Qt(t,e,Mt,null,s,$);for(Z in s)if($=s[Z],j=l[Z],s.hasOwnProperty(Z)&&$!==j&&($!=null||j!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,e));break;default:Qt(t,e,Z,$,s,j)}return;default:if(Er(e)){for(var $t in l)$=l[$t],l.hasOwnProperty($t)&&$!==void 0&&!s.hasOwnProperty($t)&&su(t,e,$t,void 0,s,$);for(ot in s)$=s[ot],j=l[ot],!s.hasOwnProperty(ot)||$===j||$===void 0&&j===void 0||su(t,e,ot,$,s,j);return}}for(var F in l)$=l[F],l.hasOwnProperty(F)&&$!=null&&!s.hasOwnProperty(F)&&Qt(t,e,F,null,s,$);for(ft in s)$=s[ft],j=l[ft],!s.hasOwnProperty(ft)||$===j||$==null&&j==null||Qt(t,e,ft,$,s,j)}function Mh(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Iv(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,l=performance.getEntriesByType("resource"),s=0;s<l.length;s++){var p=l[s],y=p.transferSize,E=p.initiatorType,N=p.duration;if(y&&N&&Mh(E)){for(E=0,N=p.responseEnd,s+=1;s<l.length;s++){var H=l[s],Z=H.startTime;if(Z>N)break;var ot=H.transferSize,ft=H.initiatorType;ot&&Mh(ft)&&(H=H.responseEnd,E+=ot*(H<N?1:(N-Z)/(H-Z)))}if(--s,e+=8*(y+E)/(p.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var uu=null,cu=null;function xa(t){return t.nodeType===9?t:t.ownerDocument}function Nh(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ih(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function fu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var du=null;function xv(){var t=window.event;return t&&t.type==="popstate"?t===du?!1:(du=t,!0):(du=null,!1)}var xh=typeof setTimeout=="function"?setTimeout:void 0,Dv=typeof clearTimeout=="function"?clearTimeout:void 0,Dh=typeof Promise=="function"?Promise:void 0,Uv=typeof queueMicrotask=="function"?queueMicrotask:typeof Dh<"u"?function(t){return Dh.resolve(null).then(t).catch(kv)}:xh;function kv(t){setTimeout(function(){throw t})}function ci(t){return t==="head"}function Uh(t,e){var l=e,s=0;do{var p=l.nextSibling;if(t.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(s===0){t.removeChild(p),Ao(e);return}s--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")s++;else if(l==="html")yl(t.ownerDocument.documentElement);else if(l==="head"){l=t.ownerDocument.head,yl(l);for(var y=l.firstChild;y;){var E=y.nextSibling,N=y.nodeName;y[Lo]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=E}}else l==="body"&&yl(t.ownerDocument.body);l=p}while(l);Ao(e)}function kh(t,e){var l=t;t=0;do{var s=l.nextSibling;if(l.nodeType===1?e?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(e?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),s&&s.nodeType===8)if(l=s.data,l==="/$"){if(t===0)break;t--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||t++;l=s}while(l)}function hu(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var l=e;switch(e=e.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":hu(l),vr(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}t.removeChild(l)}}function Lv(t,e,l,s){for(;t.nodeType===1;){var p=l;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[Lo])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(y=t.getAttribute("rel"),y==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(y!==p.rel||t.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||t.getAttribute("title")!==(p.title==null?null:p.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(y=t.getAttribute("src"),(y!==(p.src==null?null:p.src)||t.getAttribute("type")!==(p.type==null?null:p.type)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&t.getAttribute("name")===y)return t}else return t;if(t=rn(t.nextSibling),t===null)break}return null}function zv(t,e,l){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=rn(t.nextSibling),t===null))return null;return t}function Lh(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=rn(t.nextSibling),t===null))return null;return t}function pu(t){return t.data==="$?"||t.data==="$~"}function mu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Gv(t,e){var l=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||l.readyState!=="loading")e();else{var s=function(){e(),l.removeEventListener("DOMContentLoaded",s)};l.addEventListener("DOMContentLoaded",s),t._reactRetry=s}}function rn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var gu=null;function zh(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var l=t.data;if(l==="/$"||l==="/&"){if(e===0)return rn(t.nextSibling);e--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||e++}t=t.nextSibling}return null}function Gh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(e===0)return t;e--}else l!=="/$"&&l!=="/&"||e++}t=t.previousSibling}return null}function Bh(t,e,l){switch(e=xa(l),t){case"html":if(t=e.documentElement,!t)throw Error(a(452));return t;case"head":if(t=e.head,!t)throw Error(a(453));return t;case"body":if(t=e.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function yl(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);vr(t)}var sn=new Map,Hh=new Set;function Da(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Pn=Y.d;Y.d={f:Bv,r:Hv,D:Ov,C:Pv,L:qv,m:Vv,X:Yv,S:Fv,M:Jv};function Bv(){var t=Pn.f(),e=Ca();return t||e}function Hv(t){var e=qi(t);e!==null&&e.tag===5&&e.type==="form"?nd(e):Pn.r(t)}var To=typeof document>"u"?null:document;function Oh(t,e,l){var s=To;if(s&&typeof e=="string"&&e){var p=je(e);p='link[rel="'+t+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),Hh.has(p)||(Hh.add(p),t={rel:t,crossOrigin:l,href:e},s.querySelector(p)===null&&(e=s.createElement("link"),Ae(e,"link",t),ye(e),s.head.appendChild(e)))}}function Ov(t){Pn.D(t),Oh("dns-prefetch",t,null)}function Pv(t,e){Pn.C(t,e),Oh("preconnect",t,e)}function qv(t,e,l){Pn.L(t,e,l);var s=To;if(s&&t&&e){var p='link[rel="preload"][as="'+je(e)+'"]';e==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+je(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+je(l.imageSizes)+'"]')):p+='[href="'+je(t)+'"]';var y=p;switch(e){case"style":y=Eo(t);break;case"script":y=Co(t)}sn.has(y)||(t=_({rel:"preload",href:e==="image"&&l&&l.imageSrcSet?void 0:t,as:e},l),sn.set(y,t),s.querySelector(p)!==null||e==="style"&&s.querySelector(vl(y))||e==="script"&&s.querySelector(_l(y))||(e=s.createElement("link"),Ae(e,"link",t),ye(e),s.head.appendChild(e)))}}function Vv(t,e){Pn.m(t,e);var l=To;if(l&&t){var s=e&&typeof e.as=="string"?e.as:"script",p='link[rel="modulepreload"][as="'+je(s)+'"][href="'+je(t)+'"]',y=p;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Co(t)}if(!sn.has(y)&&(t=_({rel:"modulepreload",href:t},e),sn.set(y,t),l.querySelector(p)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(_l(y)))return}s=l.createElement("link"),Ae(s,"link",t),ye(s),l.head.appendChild(s)}}}function Fv(t,e,l){Pn.S(t,e,l);var s=To;if(s&&t){var p=Vi(s).hoistableStyles,y=Eo(t);e=e||"default";var E=p.get(y);if(!E){var N={loading:0,preload:null};if(E=s.querySelector(vl(y)))N.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":e},l),(l=sn.get(y))&&yu(t,l);var H=E=s.createElement("link");ye(H),Ae(H,"link",t),H._p=new Promise(function(Z,ot){H.onload=Z,H.onerror=ot}),H.addEventListener("load",function(){N.loading|=1}),H.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Ua(E,e,s)}E={type:"stylesheet",instance:E,count:1,state:N},p.set(y,E)}}}function Yv(t,e){Pn.X(t,e);var l=To;if(l&&t){var s=Vi(l).hoistableScripts,p=Co(t),y=s.get(p);y||(y=l.querySelector(_l(p)),y||(t=_({src:t,async:!0},e),(e=sn.get(p))&&vu(t,e),y=l.createElement("script"),ye(y),Ae(y,"link",t),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},s.set(p,y))}}function Jv(t,e){Pn.M(t,e);var l=To;if(l&&t){var s=Vi(l).hoistableScripts,p=Co(t),y=s.get(p);y||(y=l.querySelector(_l(p)),y||(t=_({src:t,async:!0,type:"module"},e),(e=sn.get(p))&&vu(t,e),y=l.createElement("script"),ye(y),Ae(y,"link",t),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},s.set(p,y))}}function Ph(t,e,l,s){var p=(p=At.current)?Da(p):null;if(!p)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(e=Eo(l.href),l=Vi(p).hoistableStyles,s=l.get(e),s||(s={type:"style",instance:null,count:0,state:null},l.set(e,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){t=Eo(l.href);var y=Vi(p).hoistableStyles,E=y.get(t);if(E||(p=p.ownerDocument||p,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(t,E),(y=p.querySelector(vl(t)))&&!y._p&&(E.instance=y,E.state.loading=5),sn.has(t)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},sn.set(t,l),y||Kv(p,t,l,E.state))),e&&s===null)throw Error(a(528,""));return E}if(e&&s!==null)throw Error(a(529,""));return null;case"script":return e=l.async,l=l.src,typeof l=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Co(l),l=Vi(p).hoistableScripts,s=l.get(e),s||(s={type:"script",instance:null,count:0,state:null},l.set(e,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Eo(t){return'href="'+je(t)+'"'}function vl(t){return'link[rel="stylesheet"]['+t+"]"}function qh(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function Kv(t,e,l,s){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?s.loading=1:(e=t.createElement("link"),s.preload=e,e.addEventListener("load",function(){return s.loading|=1}),e.addEventListener("error",function(){return s.loading|=2}),Ae(e,"link",l),ye(e),t.head.appendChild(e))}function Co(t){return'[src="'+je(t)+'"]'}function _l(t){return"script[async]"+t}function Vh(t,e,l){if(e.count++,e.instance===null)switch(e.type){case"style":var s=t.querySelector('style[data-href~="'+je(l.href)+'"]');if(s)return e.instance=s,ye(s),s;var p=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),ye(s),Ae(s,"style",p),Ua(s,l.precedence,t),e.instance=s;case"stylesheet":p=Eo(l.href);var y=t.querySelector(vl(p));if(y)return e.state.loading|=4,e.instance=y,ye(y),y;s=qh(l),(p=sn.get(p))&&yu(s,p),y=(t.ownerDocument||t).createElement("link"),ye(y);var E=y;return E._p=new Promise(function(N,H){E.onload=N,E.onerror=H}),Ae(y,"link",s),e.state.loading|=4,Ua(y,l.precedence,t),e.instance=y;case"script":return y=Co(l.src),(p=t.querySelector(_l(y)))?(e.instance=p,ye(p),p):(s=l,(p=sn.get(y))&&(s=_({},l),vu(s,p)),t=t.ownerDocument||t,p=t.createElement("script"),ye(p),Ae(p,"link",s),t.head.appendChild(p),e.instance=p);case"void":return null;default:throw Error(a(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(s=e.instance,e.state.loading|=4,Ua(s,l.precedence,t));return e.instance}function Ua(t,e,l){for(var s=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=s.length?s[s.length-1]:null,y=p,E=0;E<s.length;E++){var N=s[E];if(N.dataset.precedence===e)y=N;else if(y!==p)break}y?y.parentNode.insertBefore(t,y.nextSibling):(e=l.nodeType===9?l.head:l,e.insertBefore(t,e.firstChild))}function yu(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function vu(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var ka=null;function Fh(t,e,l){if(ka===null){var s=new Map,p=ka=new Map;p.set(l,s)}else p=ka,s=p.get(l),s||(s=new Map,p.set(l,s));if(s.has(t))return s;for(s.set(t,null),l=l.getElementsByTagName(t),p=0;p<l.length;p++){var y=l[p];if(!(y[Lo]||y[Se]||t==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(e)||"";E=t+E;var N=s.get(E);N?N.push(y):s.set(E,[y])}}return s}function Yh(t,e,l){t=t.ownerDocument||t,t.head.insertBefore(l,e==="title"?t.querySelector("head > title"):null)}function Xv(t,e,l){if(l===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;return e.rel==="stylesheet"?(t=e.disabled,typeof e.precedence=="string"&&t==null):!0;case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Jh(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Zv(t,e,l,s){if(l.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=Eo(s.href),y=e.querySelector(vl(p));if(y){e=y._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=La.bind(t),e.then(t,t)),l.state.loading|=4,l.instance=y,ye(y);return}y=e.ownerDocument||e,s=qh(s),(p=sn.get(p))&&yu(s,p),y=y.createElement("link"),ye(y);var E=y;E._p=new Promise(function(N,H){E.onload=N,E.onerror=H}),Ae(y,"link",s),l.instance=y}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(l,e),(e=l.state.preload)&&(l.state.loading&3)===0&&(t.count++,l=La.bind(t),e.addEventListener("load",l),e.addEventListener("error",l))}}var _u=0;function Qv(t,e){return t.stylesheets&&t.count===0&&Ga(t,t.stylesheets),0<t.count||0<t.imgCount?function(l){var s=setTimeout(function(){if(t.stylesheets&&Ga(t,t.stylesheets),t.unsuspend){var y=t.unsuspend;t.unsuspend=null,y()}},6e4+e);0<t.imgBytes&&_u===0&&(_u=62500*Iv());var p=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ga(t,t.stylesheets),t.unsuspend)){var y=t.unsuspend;t.unsuspend=null,y()}},(t.imgBytes>_u?50:800)+e);return t.unsuspend=l,function(){t.unsuspend=null,clearTimeout(s),clearTimeout(p)}}:null}function La(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ga(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var za=null;function Ga(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,za=new Map,e.forEach($v,t),za=null,La.call(t))}function $v(t,e){if(!(e.state.loading&4)){var l=za.get(t);if(l)var s=l.get(null);else{l=new Map,za.set(t,l);for(var p=t.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var E=p[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(l.set(E.dataset.precedence,E),s=E)}s&&l.set(null,s)}p=e.instance,E=p.getAttribute("data-precedence"),y=l.get(E)||s,y===s&&l.set(null,p),l.set(E,p),this.count++,s=La.bind(this),p.addEventListener("load",s),p.addEventListener("error",s),y?y.parentNode.insertBefore(p,y.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(p,t.firstChild)),e.state.loading|=4}}var Sl={$$typeof:D,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function Wv(t,e,l,s,p,y,E,N,H){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pr(0),this.hiddenUpdates=pr(null),this.identifierPrefix=s,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function Kh(t,e,l,s,p,y,E,N,H,Z,ot,ft){return t=new Wv(t,e,l,E,H,Z,ot,ft,N),e=1,y===!0&&(e|=24),y=qe(3,null,null,e),t.current=y,y.stateNode=t,e=Wr(),e.refCount++,t.pooledCache=e,e.refCount++,y.memoizedState={element:s,isDehydrated:l,cache:e},ns(y),t}function Xh(t){return t?(t=ji,t):ji}function Zh(t,e,l,s,p,y){p=Xh(p),s.context===null?s.context=p:s.pendingContext=p,s=jn(e),s.payload={element:l},y=y===void 0?null:y,y!==null&&(s.callback=y),l=ti(t,s,e),l!==null&&(He(l,t,e),Wo(l,t,e))}function Qh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<e?l:e}}function Su(t,e){Qh(t,e),(t=t.alternate)&&Qh(t,e)}function $h(t){if(t.tag===13||t.tag===31){var e=Ai(t,67108864);e!==null&&He(e,t,67108864),Su(t,67108864)}}function Wh(t){if(t.tag===13||t.tag===31){var e=Ke();e=mr(e);var l=Ai(t,e);l!==null&&He(l,t,e),Su(t,e)}}var Ba=!0;function jv(t,e,l,s){var p=J.T;J.T=null;var y=Y.p;try{Y.p=2,Tu(t,e,l,s)}finally{Y.p=y,J.T=p}}function t0(t,e,l,s){var p=J.T;J.T=null;var y=Y.p;try{Y.p=8,Tu(t,e,l,s)}finally{Y.p=y,J.T=p}}function Tu(t,e,l,s){if(Ba){var p=Eu(s);if(p===null)ru(t,e,s,Ha,l),tp(t,s);else if(n0(p,t,e,l,s))s.stopPropagation();else if(tp(t,s),e&4&&-1<e0.indexOf(t)){for(;p!==null;){var y=qi(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=$e(y.pendingLanes);if(E!==0){var N=y;for(N.pendingLanes|=2,N.entangledLanes|=2;E;){var H=1<<31-le(E);N.entanglements[1]|=H,E&=~H}Cn(y),(Yt&6)===0&&(Ta=_t()+500,pl(0))}}break;case 31:case 13:N=Ai(y,2),N!==null&&He(N,y,2),Ca(),Su(y,2)}if(y=Eu(s),y===null&&ru(t,e,s,Ha,l),y===p)break;p=y}p!==null&&s.stopPropagation()}else ru(t,e,s,null,l)}}function Eu(t){return t=Ar(t),Cu(t)}var Ha=null;function Cu(t){if(Ha=null,t=Pi(t),t!==null){var e=u(t);if(e===null)t=null;else{var l=e.tag;if(l===13){if(t=f(e),t!==null)return t;t=null}else if(l===31){if(t=h(e),t!==null)return t;t=null}else if(l===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Ha=t,null}function jh(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yt()){case Rt:return 2;case Jt:return 8;case zt:case De:return 32;case Yn:return 268435456;default:return 32}default:return 32}}var Au=!1,fi=null,di=null,hi=null,Tl=new Map,El=new Map,pi=[],e0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tp(t,e){switch(t){case"focusin":case"focusout":fi=null;break;case"dragenter":case"dragleave":di=null;break;case"mouseover":case"mouseout":hi=null;break;case"pointerover":case"pointerout":Tl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(e.pointerId)}}function Cl(t,e,l,s,p,y){return t===null||t.nativeEvent!==y?(t={blockedOn:e,domEventName:l,eventSystemFlags:s,nativeEvent:y,targetContainers:[p]},e!==null&&(e=qi(e),e!==null&&$h(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,p!==null&&e.indexOf(p)===-1&&e.push(p),t)}function n0(t,e,l,s,p){switch(e){case"focusin":return fi=Cl(fi,t,e,l,s,p),!0;case"dragenter":return di=Cl(di,t,e,l,s,p),!0;case"mouseover":return hi=Cl(hi,t,e,l,s,p),!0;case"pointerover":var y=p.pointerId;return Tl.set(y,Cl(Tl.get(y)||null,t,e,l,s,p)),!0;case"gotpointercapture":return y=p.pointerId,El.set(y,Cl(El.get(y)||null,t,e,l,s,p)),!0}return!1}function ep(t){var e=Pi(t.target);if(e!==null){var l=u(e);if(l!==null){if(e=l.tag,e===13){if(e=f(l),e!==null){t.blockedOn=e,pc(t.priority,function(){Wh(l)});return}}else if(e===31){if(e=h(l),e!==null){t.blockedOn=e,pc(t.priority,function(){Wh(l)});return}}else if(e===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oa(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var l=Eu(t.nativeEvent);if(l===null){l=t.nativeEvent;var s=new l.constructor(l.type,l);Cr=s,l.target.dispatchEvent(s),Cr=null}else return e=qi(l),e!==null&&$h(e),t.blockedOn=l,!1;e.shift()}return!0}function np(t,e,l){Oa(t)&&l.delete(e)}function i0(){Au=!1,fi!==null&&Oa(fi)&&(fi=null),di!==null&&Oa(di)&&(di=null),hi!==null&&Oa(hi)&&(hi=null),Tl.forEach(np),El.forEach(np)}function Pa(t,e){t.blockedOn===e&&(t.blockedOn=null,Au||(Au=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,i0)))}var qa=null;function ip(t){qa!==t&&(qa=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){qa===t&&(qa=null);for(var e=0;e<t.length;e+=3){var l=t[e],s=t[e+1],p=t[e+2];if(typeof s!="function"){if(Cu(s||l)===null)continue;break}var y=qi(l);y!==null&&(t.splice(e,3),e-=3,Es(y,{pending:!0,data:p,method:l.method,action:s},s,p))}}))}function Ao(t){function e(H){return Pa(H,t)}fi!==null&&Pa(fi,t),di!==null&&Pa(di,t),hi!==null&&Pa(hi,t),Tl.forEach(e),El.forEach(e);for(var l=0;l<pi.length;l++){var s=pi[l];s.blockedOn===t&&(s.blockedOn=null)}for(;0<pi.length&&(l=pi[0],l.blockedOn===null);)ep(l),l.blockedOn===null&&pi.shift();if(l=(t.ownerDocument||t).$$reactFormReplay,l!=null)for(s=0;s<l.length;s+=3){var p=l[s],y=l[s+1],E=p[Ue]||null;if(typeof y=="function")E||ip(l);else if(E){var N=null;if(y&&y.hasAttribute("formAction")){if(p=y,E=y[Ue]||null)N=E.formAction;else if(Cu(p)!==null)continue}else N=E.action;typeof N=="function"?l[s+1]=N:(l.splice(s,3),s-=3),ip(l)}}}function op(){function t(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(E){return p=E})},focusReset:"manual",scroll:"manual"})}function e(){p!==null&&(p(),p=null),s||setTimeout(l,20)}function l(){if(!s&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,p=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(l,100),function(){s=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),p!==null&&(p(),p=null)}}}function Ru(t){this._internalRoot=t}Va.prototype.render=Ru.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(a(409));var l=e.current,s=Ke();Zh(l,s,t,e,null,null)},Va.prototype.unmount=Ru.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zh(t.current,2,null,t,null,null),Ca(),e[Oi]=null}};function Va(t){this._internalRoot=t}Va.prototype.unstable_scheduleHydration=function(t){if(t){var e=hc();t={blockedOn:null,target:t,priority:e};for(var l=0;l<pi.length&&e!==0&&e<pi[l].priority;l++);pi.splice(l,0,t),l===0&&ep(t)}};var lp=n.version;if(lp!=="19.2.4")throw Error(a(527,lp,"19.2.4"));Y.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=m(e),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var o0={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fa.isDisabled&&Fa.supportsFiber)try{Wt=Fa.inject(o0),ge=Fa}catch{}}return Rl.createRoot=function(t,e){if(!r(t))throw Error(a(299));var l=!1,s="",p=dd,y=hd,E=pd;return e!=null&&(e.unstable_strictMode===!0&&(l=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onUncaughtError!==void 0&&(p=e.onUncaughtError),e.onCaughtError!==void 0&&(y=e.onCaughtError),e.onRecoverableError!==void 0&&(E=e.onRecoverableError)),e=Kh(t,1,!1,null,null,l,s,null,p,y,E,op),t[Oi]=e.current,au(t),new Ru(e)},Rl.hydrateRoot=function(t,e,l){if(!r(t))throw Error(a(299));var s=!1,p="",y=dd,E=hd,N=pd,H=null;return l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(N=l.onRecoverableError),l.formState!==void 0&&(H=l.formState)),e=Kh(t,1,!0,e,l??null,s,p,H,y,E,N,op),e.context=Xh(null),l=e.current,s=Ke(),s=mr(s),p=jn(s),p.callback=null,ti(l,p,s),l=s,e.current.lanes=l,ko(e,l),Cn(e),t[Oi]=e.current,au(t),new Va(e)},Rl.version="19.2.4",Rl}var mp;function m0(){if(mp)return Mu.exports;mp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Mu.exports=p0(),Mu.exports}var g0=m0();const Wm=(...i)=>i.filter((n,o,a)=>!!n&&n.trim()!==""&&a.indexOf(n)===o).join(" ").trim();const y0=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const v0=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,o,a)=>a?a.toUpperCase():o.toLowerCase());const gp=i=>{const n=v0(i);return n.charAt(0).toUpperCase()+n.slice(1)};var _0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const S0=i=>{for(const n in i)if(n.startsWith("aria-")||n==="role"||n==="title")return!0;return!1};const T0=ae.forwardRef(({color:i="currentColor",size:n=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:r="",children:u,iconNode:f,...h},g)=>ae.createElement("svg",{ref:g,..._0,width:n,height:n,stroke:i,strokeWidth:a?Number(o)*24/Number(n):o,className:Wm("lucide",r),...!u&&!S0(h)&&{"aria-hidden":"true"},...h},[...f.map(([m,v])=>ae.createElement(m,v)),...Array.isArray(u)?u:[u]]));const fn=(i,n)=>{const o=ae.forwardRef(({className:a,...r},u)=>ae.createElement(T0,{ref:u,iconNode:n,className:Wm(`lucide-${y0(gp(i))}`,`lucide-${i}`,a),...r}));return o.displayName=gp(i),o};const E0=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],C0=fn("chevron-left",E0);const A0=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],R0=fn("chevron-right",A0);const b0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],w0=fn("circle-alert",b0);const M0=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],N0=fn("download",M0);const I0=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],x0=fn("image",I0);const D0=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],U0=fn("key",D0);const k0=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],L0=fn("package",k0);const z0=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],G0=fn("plus",z0);const B0=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],H0=fn("refresh-cw",B0);const O0=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Nl=fn("sparkles",O0);const P0=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],q0=fn("upload",P0);const V0=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],jm=fn("x",V0),F0="_container_yqdv7_1",Y0="_label_yqdv7_15",J0="_tagList_yqdv7_27",K0="_tag_yqdv7_27",X0="_selected_yqdv7_75",Z0="_custom_yqdv7_91",Q0="_check_yqdv7_99",$0="_removeIcon_yqdv7_109",W0="_inputGroup_yqdv7_117",j0="_input_yqdv7_117",t_="_addButton_yqdv7_163",Xe={container:F0,label:Y0,tagList:J0,tag:K0,selected:X0,custom:Z0,check:Q0,removeIcon:$0,inputGroup:W0,input:j0,addButton:t_},yp=({label:i,tags:n,selectedTags:o,onChange:a,allowCustom:r=!0})=>{const[u,f]=ae.useState(""),h=v=>{o.includes(v)?a(o.filter(_=>_!==v)):a([...o,v])},g=()=>{u.trim()&&!o.includes(u.trim())&&(a([...o,u.trim()]),f(""))},m=v=>{v.key==="Enter"&&(v.preventDefault(),g())};return dt.jsxs("div",{className:Xe.container,children:[dt.jsx("label",{className:Xe.label,children:i}),dt.jsxs("div",{className:Xe.tagList,children:[n.map(v=>dt.jsxs("button",{type:"button",className:`${Xe.tag} ${o.includes(v)?Xe.selected:""}`,onClick:()=>h(v),children:[v,o.includes(v)&&dt.jsx("span",{className:Xe.check,children:""})]},v)),o.filter(v=>!n.includes(v)).map(v=>dt.jsxs("button",{type:"button",className:`${Xe.tag} ${Xe.selected} ${Xe.custom}`,onClick:()=>h(v),children:[v,dt.jsx(jm,{size:14,className:Xe.removeIcon})]},v))]}),r&&dt.jsxs("div",{className:Xe.inputGroup,children:[dt.jsx("input",{type:"text",className:Xe.input,placeholder:"...",value:u,onChange:v=>f(v.target.value),onKeyDown:m}),dt.jsx("button",{type:"button",className:Xe.addButton,onClick:g,children:dt.jsx(G0,{size:16})})]})]})},e_="_container_101k8_1",n_="_label_101k8_15",i_="_uploadArea_101k8_27",o_="_active_101k8_57",l_="_hasImage_101k8_67",a_="_input_101k8_77",r_="_placeholder_101k8_85",s_="_previewContainer_101k8_103",u_="_preview_101k8_103",c_="_clearButton_101k8_127",mn={container:e_,label:n_,uploadArea:i_,active:o_,hasImage:l_,input:a_,placeholder:r_,previewContainer:s_,preview:u_,clearButton:c_},vp=({label:i,image:n,onChange:o})=>{const a=ae.useRef(null),[r,u]=ae.useState(!1),f=_=>{if(_&&_.type.startsWith("image/")){const S=new FileReader;S.onload=T=>{o(T.target?.result)},S.readAsDataURL(_)}},h=_=>{_.target.files?.[0]&&f(_.target.files[0])},g=_=>{_.preventDefault(),_.stopPropagation(),u(!1),_.dataTransfer.files?.[0]&&f(_.dataTransfer.files[0])},m=_=>{_.preventDefault(),_.stopPropagation(),_.type==="dragenter"||_.type==="dragover"?u(!0):_.type==="dragleave"&&u(!1)},v=_=>{_.stopPropagation(),o(void 0),a.current&&(a.current.value="")};return dt.jsxs("div",{className:mn.container,children:[dt.jsx("label",{className:mn.label,children:i}),dt.jsxs("div",{className:`${mn.uploadArea} ${r?mn.active:""} ${n?mn.hasImage:""}`,onDragEnter:m,onDragLeave:m,onDragOver:m,onDrop:g,onClick:()=>a.current?.click(),children:[dt.jsx("input",{type:"file",ref:a,className:mn.input,accept:"image/*",onChange:h}),n?dt.jsxs("div",{className:mn.previewContainer,children:[dt.jsx("img",{src:n,alt:"Preview",className:mn.preview}),dt.jsx("button",{type:"button",className:mn.clearButton,onClick:v,children:dt.jsx(jm,{size:16})})]}):dt.jsxs("div",{className:mn.placeholder,children:[dt.jsx(q0,{size:24,className:mn.icon}),dt.jsx("span",{children:"Click or Drag Image"})]})]})]})},f_="_form_esctz_1",d_="_title_esctz_21",h_="_titleIcon_esctz_43",p_="_section_esctz_51",m_="_label_esctz_63",g_="_required_esctz_79",y_="_input_esctz_87",v_="_help_esctz_121",__="_row_esctz_141",S_="_submitButton_esctz_151",Oe={form:f_,title:d_,titleIcon:h_,section:p_,label:m_,required:g_,input:y_,help:v_,row:__,submitButton:S_},T_=["","","","","","","",""],E_=["","","","","","","",""],C_=({onSubmit:i,initialApiKey:n=""})=>{const[o,a]=ae.useState(n),[r,u]=ae.useState(""),[f,h]=ae.useState([]),[g,m]=ae.useState([]),[v,_]=ae.useState(void 0),[S,T]=ae.useState(void 0);ae.useEffect(()=>{const C=localStorage.getItem("gemini_api_key");C&&!n&&a(C)},[n]);const b=C=>{if(C.preventDefault(),!o||!r||f.length===0){alert("API");return}localStorage.setItem("gemini_api_key",o),i({name:r,strengths:f,features:g,staffImage:v,salonImage:S},o)};return dt.jsxs("form",{className:`${Oe.form} glass-card`,onSubmit:b,children:[dt.jsxs("h2",{className:Oe.title,children:[dt.jsx(Nl,{className:Oe.titleIcon}),""]}),dt.jsxs("div",{className:Oe.section,children:[dt.jsxs("label",{className:Oe.label,children:[dt.jsx(U0,{size:16})," Google API Key",dt.jsx("span",{className:Oe.required,children:"*"})]}),dt.jsx("input",{type:"password",className:Oe.input,placeholder:"Gemini API",value:o,onChange:C=>a(C.target.value)}),dt.jsxs("p",{className:Oe.help,children:["",dt.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noreferrer",children:"Google AI Studio"})," "]})]}),dt.jsxs("div",{className:Oe.section,children:[dt.jsxs("label",{className:Oe.label,children:["",dt.jsx("span",{className:Oe.required,children:"*"})]}),dt.jsx("input",{type:"text",className:Oe.input,placeholder:": Hair Salon MIYABI",value:r,onChange:C=>u(C.target.value)})]}),dt.jsxs("div",{className:Oe.row,children:[dt.jsx(vp,{label:" ()",image:v,onChange:_}),dt.jsx(vp,{label:" ()",image:S,onChange:T})]}),dt.jsx(yp,{label:" (1)",tags:T_,selectedTags:f,onChange:h}),dt.jsx(yp,{label:"",tags:E_,selectedTags:g,onChange:m}),dt.jsxs("button",{type:"submit",className:Oe.submitButton,children:[dt.jsx(Nl,{size:18}),""]})]})};function Ja(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Du={exports:{}};var _p;function A_(){return _p||(_p=1,(function(i,n){(function(o){i.exports=o()})(function(){return(function o(a,r,u){function f(m,v){if(!r[m]){if(!a[m]){var _=typeof Ja=="function"&&Ja;if(!v&&_)return _(m,!0);if(h)return h(m,!0);var S=new Error("Cannot find module '"+m+"'");throw S.code="MODULE_NOT_FOUND",S}var T=r[m]={exports:{}};a[m][0].call(T.exports,function(b){var C=a[m][1][b];return f(C||b)},T,T.exports,o,a,r,u)}return r[m].exports}for(var h=typeof Ja=="function"&&Ja,g=0;g<u.length;g++)f(u[g]);return f})({1:[function(o,a,r){var u=o("./utils"),f=o("./support"),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(g){for(var m,v,_,S,T,b,C,R=[],M=0,x=g.length,D=x,G=u.getTypeOf(g)!=="string";M<g.length;)D=x-M,_=G?(m=g[M++],v=M<x?g[M++]:0,M<x?g[M++]:0):(m=g.charCodeAt(M++),v=M<x?g.charCodeAt(M++):0,M<x?g.charCodeAt(M++):0),S=m>>2,T=(3&m)<<4|v>>4,b=1<D?(15&v)<<2|_>>6:64,C=2<D?63&_:64,R.push(h.charAt(S)+h.charAt(T)+h.charAt(b)+h.charAt(C));return R.join("")},r.decode=function(g){var m,v,_,S,T,b,C=0,R=0,M="data:";if(g.substr(0,M.length)===M)throw new Error("Invalid base64 input, it looks like a data url.");var x,D=3*(g=g.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(g.charAt(g.length-1)===h.charAt(64)&&D--,g.charAt(g.length-2)===h.charAt(64)&&D--,D%1!=0)throw new Error("Invalid base64 input, bad content length.");for(x=f.uint8array?new Uint8Array(0|D):new Array(0|D);C<g.length;)m=h.indexOf(g.charAt(C++))<<2|(S=h.indexOf(g.charAt(C++)))>>4,v=(15&S)<<4|(T=h.indexOf(g.charAt(C++)))>>2,_=(3&T)<<6|(b=h.indexOf(g.charAt(C++))),x[R++]=m,T!==64&&(x[R++]=v),b!==64&&(x[R++]=_);return x}},{"./support":30,"./utils":32}],2:[function(o,a,r){var u=o("./external"),f=o("./stream/DataWorker"),h=o("./stream/Crc32Probe"),g=o("./stream/DataLengthProbe");function m(v,_,S,T,b){this.compressedSize=v,this.uncompressedSize=_,this.crc32=S,this.compression=T,this.compressedContent=b}m.prototype={getContentWorker:function(){var v=new f(u.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new g("data_length")),_=this;return v.on("end",function(){if(this.streamInfo.data_length!==_.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),v},getCompressedWorker:function(){return new f(u.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},m.createWorkerFrom=function(v,_,S){return v.pipe(new h).pipe(new g("uncompressedSize")).pipe(_.compressWorker(S)).pipe(new g("compressedSize")).withStreamInfo("compression",_)},a.exports=m},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(o,a,r){var u=o("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new u("STORE compression")},uncompressWorker:function(){return new u("STORE decompression")}},r.DEFLATE=o("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(o,a,r){var u=o("./utils"),f=(function(){for(var h,g=[],m=0;m<256;m++){h=m;for(var v=0;v<8;v++)h=1&h?3988292384^h>>>1:h>>>1;g[m]=h}return g})();a.exports=function(h,g){return h!==void 0&&h.length?u.getTypeOf(h)!=="string"?(function(m,v,_,S){var T=f,b=S+_;m^=-1;for(var C=S;C<b;C++)m=m>>>8^T[255&(m^v[C])];return-1^m})(0|g,h,h.length,0):(function(m,v,_,S){var T=f,b=S+_;m^=-1;for(var C=S;C<b;C++)m=m>>>8^T[255&(m^v.charCodeAt(C))];return-1^m})(0|g,h,h.length,0):0}},{"./utils":32}],5:[function(o,a,r){r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(o,a,r){var u=null;u=typeof Promise<"u"?Promise:o("lie"),a.exports={Promise:u}},{lie:37}],7:[function(o,a,r){var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",f=o("pako"),h=o("./utils"),g=o("./stream/GenericWorker"),m=u?"uint8array":"array";function v(_,S){g.call(this,"FlateWorker/"+_),this._pako=null,this._pakoAction=_,this._pakoOptions=S,this.meta={}}r.magic="\b\0",h.inherits(v,g),v.prototype.processChunk=function(_){this.meta=_.meta,this._pako===null&&this._createPako(),this._pako.push(h.transformTo(m,_.data),!1)},v.prototype.flush=function(){g.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},v.prototype.cleanUp=function(){g.prototype.cleanUp.call(this),this._pako=null},v.prototype._createPako=function(){this._pako=new f[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var _=this;this._pako.onData=function(S){_.push({data:S,meta:_.meta})}},r.compressWorker=function(_){return new v("Deflate",_)},r.uncompressWorker=function(){return new v("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(o,a,r){function u(T,b){var C,R="";for(C=0;C<b;C++)R+=String.fromCharCode(255&T),T>>>=8;return R}function f(T,b,C,R,M,x){var D,G,U=T.file,K=T.compression,P=x!==m.utf8encode,et=h.transformTo("string",x(U.name)),q=h.transformTo("string",m.utf8encode(U.name)),at=U.comment,vt=h.transformTo("string",x(at)),B=h.transformTo("string",m.utf8encode(at)),W=q.length!==U.name.length,w=B.length!==at.length,it="",J="",Y="",mt=U.dir,rt=U.date,St={crc32:0,compressedSize:0,uncompressedSize:0};b&&!C||(St.crc32=T.crc32,St.compressedSize=T.compressedSize,St.uncompressedSize=T.uncompressedSize);var I=0;b&&(I|=8),P||!W&&!w||(I|=2048);var L=0,lt=0;mt&&(L|=16),M==="UNIX"?(lt=798,L|=(function(st,At){var It=st;return st||(It=At?16893:33204),(65535&It)<<16})(U.unixPermissions,mt)):(lt=20,L|=(function(st){return 63&(st||0)})(U.dosPermissions)),D=rt.getUTCHours(),D<<=6,D|=rt.getUTCMinutes(),D<<=5,D|=rt.getUTCSeconds()/2,G=rt.getUTCFullYear()-1980,G<<=4,G|=rt.getUTCMonth()+1,G<<=5,G|=rt.getUTCDate(),W&&(J=u(1,1)+u(v(et),4)+q,it+="up"+u(J.length,2)+J),w&&(Y=u(1,1)+u(v(vt),4)+B,it+="uc"+u(Y.length,2)+Y);var nt="";return nt+=`
\0`,nt+=u(I,2),nt+=K.magic,nt+=u(D,2),nt+=u(G,2),nt+=u(St.crc32,4),nt+=u(St.compressedSize,4),nt+=u(St.uncompressedSize,4),nt+=u(et.length,2),nt+=u(it.length,2),{fileRecord:_.LOCAL_FILE_HEADER+nt+et+it,dirRecord:_.CENTRAL_FILE_HEADER+u(lt,2)+nt+u(vt.length,2)+"\0\0\0\0"+u(L,4)+u(R,4)+et+it+vt}}var h=o("../utils"),g=o("../stream/GenericWorker"),m=o("../utf8"),v=o("../crc32"),_=o("../signature");function S(T,b,C,R){g.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=C,this.encodeFileName=R,this.streamFiles=T,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}h.inherits(S,g),S.prototype.push=function(T){var b=T.meta.percent||0,C=this.entriesCount,R=this._sources.length;this.accumulate?this.contentBuffer.push(T):(this.bytesWritten+=T.data.length,g.prototype.push.call(this,{data:T.data,meta:{currentFile:this.currentFile,percent:C?(b+100*(C-R-1))/C:100}}))},S.prototype.openedSource=function(T){this.currentSourceOffset=this.bytesWritten,this.currentFile=T.file.name;var b=this.streamFiles&&!T.file.dir;if(b){var C=f(T,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:C.fileRecord,meta:{percent:0}})}else this.accumulate=!0},S.prototype.closedSource=function(T){this.accumulate=!1;var b=this.streamFiles&&!T.file.dir,C=f(T,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(C.dirRecord),b)this.push({data:(function(R){return _.DATA_DESCRIPTOR+u(R.crc32,4)+u(R.compressedSize,4)+u(R.uncompressedSize,4)})(T),meta:{percent:100}});else for(this.push({data:C.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},S.prototype.flush=function(){for(var T=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var C=this.bytesWritten-T,R=(function(M,x,D,G,U){var K=h.transformTo("string",U(G));return _.CENTRAL_DIRECTORY_END+"\0\0\0\0"+u(M,2)+u(M,2)+u(x,4)+u(D,4)+u(K.length,2)+K})(this.dirRecords.length,C,T,this.zipComment,this.encodeFileName);this.push({data:R,meta:{percent:100}})},S.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},S.prototype.registerPrevious=function(T){this._sources.push(T);var b=this;return T.on("data",function(C){b.processChunk(C)}),T.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),T.on("error",function(C){b.error(C)}),this},S.prototype.resume=function(){return!!g.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},S.prototype.error=function(T){var b=this._sources;if(!g.prototype.error.call(this,T))return!1;for(var C=0;C<b.length;C++)try{b[C].error(T)}catch{}return!0},S.prototype.lock=function(){g.prototype.lock.call(this);for(var T=this._sources,b=0;b<T.length;b++)T[b].lock()},a.exports=S},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(o,a,r){var u=o("../compressions"),f=o("./ZipFileWorker");r.generateWorker=function(h,g,m){var v=new f(g.streamFiles,m,g.platform,g.encodeFileName),_=0;try{h.forEach(function(S,T){_++;var b=(function(x,D){var G=x||D,U=u[G];if(!U)throw new Error(G+" is not a valid compression method !");return U})(T.options.compression,g.compression),C=T.options.compressionOptions||g.compressionOptions||{},R=T.dir,M=T.date;T._compressWorker(b,C).withStreamInfo("file",{name:S,dir:R,date:M,comment:T.comment||"",unixPermissions:T.unixPermissions,dosPermissions:T.dosPermissions}).pipe(v)}),v.entriesCount=_}catch(S){v.error(S)}return v}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(o,a,r){function u(){if(!(this instanceof u))return new u;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var f=new u;for(var h in this)typeof this[h]!="function"&&(f[h]=this[h]);return f}}(u.prototype=o("./object")).loadAsync=o("./load"),u.support=o("./support"),u.defaults=o("./defaults"),u.version="3.10.1",u.loadAsync=function(f,h){return new u().loadAsync(f,h)},u.external=o("./external"),a.exports=u},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(o,a,r){var u=o("./utils"),f=o("./external"),h=o("./utf8"),g=o("./zipEntries"),m=o("./stream/Crc32Probe"),v=o("./nodejsUtils");function _(S){return new f.Promise(function(T,b){var C=S.decompressed.getContentWorker().pipe(new m);C.on("error",function(R){b(R)}).on("end",function(){C.streamInfo.crc32!==S.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):T()}).resume()})}a.exports=function(S,T){var b=this;return T=u.extend(T||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:h.utf8decode}),v.isNode&&v.isStream(S)?f.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):u.prepareContent("the loaded zip file",S,!0,T.optimizedBinaryString,T.base64).then(function(C){var R=new g(T);return R.load(C),R}).then(function(C){var R=[f.Promise.resolve(C)],M=C.files;if(T.checkCRC32)for(var x=0;x<M.length;x++)R.push(_(M[x]));return f.Promise.all(R)}).then(function(C){for(var R=C.shift(),M=R.files,x=0;x<M.length;x++){var D=M[x],G=D.fileNameStr,U=u.resolve(D.fileNameStr);b.file(U,D.decompressed,{binary:!0,optimizedBinaryString:!0,date:D.date,dir:D.dir,comment:D.fileCommentStr.length?D.fileCommentStr:null,unixPermissions:D.unixPermissions,dosPermissions:D.dosPermissions,createFolders:T.createFolders}),D.dir||(b.file(U).unsafeOriginalName=G)}return R.zipComment.length&&(b.comment=R.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(o,a,r){var u=o("../utils"),f=o("../stream/GenericWorker");function h(g,m){f.call(this,"Nodejs stream input adapter for "+g),this._upstreamEnded=!1,this._bindStream(m)}u.inherits(h,f),h.prototype._bindStream=function(g){var m=this;(this._stream=g).pause(),g.on("data",function(v){m.push({data:v,meta:{percent:0}})}).on("error",function(v){m.isPaused?this.generatedError=v:m.error(v)}).on("end",function(){m.isPaused?m._upstreamEnded=!0:m.end()})},h.prototype.pause=function(){return!!f.prototype.pause.call(this)&&(this._stream.pause(),!0)},h.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},a.exports=h},{"../stream/GenericWorker":28,"../utils":32}],13:[function(o,a,r){var u=o("readable-stream").Readable;function f(h,g,m){u.call(this,g),this._helper=h;var v=this;h.on("data",function(_,S){v.push(_)||v._helper.pause(),m&&m(S)}).on("error",function(_){v.emit("error",_)}).on("end",function(){v.push(null)})}o("../utils").inherits(f,u),f.prototype._read=function(){this._helper.resume()},a.exports=f},{"../utils":32,"readable-stream":16}],14:[function(o,a,r){a.exports={isNode:typeof Buffer<"u",newBufferFrom:function(u,f){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(u,f);if(typeof u=="number")throw new Error('The "data" argument must not be a number');return new Buffer(u,f)},allocBuffer:function(u){if(Buffer.alloc)return Buffer.alloc(u);var f=new Buffer(u);return f.fill(0),f},isBuffer:function(u){return Buffer.isBuffer(u)},isStream:function(u){return u&&typeof u.on=="function"&&typeof u.pause=="function"&&typeof u.resume=="function"}}},{}],15:[function(o,a,r){function u(U,K,P){var et,q=h.getTypeOf(K),at=h.extend(P||{},v);at.date=at.date||new Date,at.compression!==null&&(at.compression=at.compression.toUpperCase()),typeof at.unixPermissions=="string"&&(at.unixPermissions=parseInt(at.unixPermissions,8)),at.unixPermissions&&16384&at.unixPermissions&&(at.dir=!0),at.dosPermissions&&16&at.dosPermissions&&(at.dir=!0),at.dir&&(U=M(U)),at.createFolders&&(et=R(U))&&x.call(this,et,!0);var vt=q==="string"&&at.binary===!1&&at.base64===!1;P&&P.binary!==void 0||(at.binary=!vt),(K instanceof _&&K.uncompressedSize===0||at.dir||!K||K.length===0)&&(at.base64=!1,at.binary=!0,K="",at.compression="STORE",q="string");var B=null;B=K instanceof _||K instanceof g?K:b.isNode&&b.isStream(K)?new C(U,K):h.prepareContent(U,K,at.binary,at.optimizedBinaryString,at.base64);var W=new S(U,B,at);this.files[U]=W}var f=o("./utf8"),h=o("./utils"),g=o("./stream/GenericWorker"),m=o("./stream/StreamHelper"),v=o("./defaults"),_=o("./compressedObject"),S=o("./zipObject"),T=o("./generate"),b=o("./nodejsUtils"),C=o("./nodejs/NodejsStreamInputAdapter"),R=function(U){U.slice(-1)==="/"&&(U=U.substring(0,U.length-1));var K=U.lastIndexOf("/");return 0<K?U.substring(0,K):""},M=function(U){return U.slice(-1)!=="/"&&(U+="/"),U},x=function(U,K){return K=K!==void 0?K:v.createFolders,U=M(U),this.files[U]||u.call(this,U,null,{dir:!0,createFolders:K}),this.files[U]};function D(U){return Object.prototype.toString.call(U)==="[object RegExp]"}var G={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(U){var K,P,et;for(K in this.files)et=this.files[K],(P=K.slice(this.root.length,K.length))&&K.slice(0,this.root.length)===this.root&&U(P,et)},filter:function(U){var K=[];return this.forEach(function(P,et){U(P,et)&&K.push(et)}),K},file:function(U,K,P){if(arguments.length!==1)return U=this.root+U,u.call(this,U,K,P),this;if(D(U)){var et=U;return this.filter(function(at,vt){return!vt.dir&&et.test(at)})}var q=this.files[this.root+U];return q&&!q.dir?q:null},folder:function(U){if(!U)return this;if(D(U))return this.filter(function(q,at){return at.dir&&U.test(q)});var K=this.root+U,P=x.call(this,K),et=this.clone();return et.root=P.name,et},remove:function(U){U=this.root+U;var K=this.files[U];if(K||(U.slice(-1)!=="/"&&(U+="/"),K=this.files[U]),K&&!K.dir)delete this.files[U];else for(var P=this.filter(function(q,at){return at.name.slice(0,U.length)===U}),et=0;et<P.length;et++)delete this.files[P[et].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(U){var K,P={};try{if((P=h.extend(U||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:f.utf8encode})).type=P.type.toLowerCase(),P.compression=P.compression.toUpperCase(),P.type==="binarystring"&&(P.type="string"),!P.type)throw new Error("No output type specified.");h.checkSupport(P.type),P.platform!=="darwin"&&P.platform!=="freebsd"&&P.platform!=="linux"&&P.platform!=="sunos"||(P.platform="UNIX"),P.platform==="win32"&&(P.platform="DOS");var et=P.comment||this.comment||"";K=T.generateWorker(this,P,et)}catch(q){(K=new g("error")).error(q)}return new m(K,P.type||"string",P.mimeType)},generateAsync:function(U,K){return this.generateInternalStream(U).accumulate(K)},generateNodeStream:function(U,K){return(U=U||{}).type||(U.type="nodebuffer"),this.generateInternalStream(U).toNodejsStream(K)}};a.exports=G},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(o,a,r){a.exports=o("stream")},{stream:void 0}],17:[function(o,a,r){var u=o("./DataReader");function f(h){u.call(this,h);for(var g=0;g<this.data.length;g++)h[g]=255&h[g]}o("../utils").inherits(f,u),f.prototype.byteAt=function(h){return this.data[this.zero+h]},f.prototype.lastIndexOfSignature=function(h){for(var g=h.charCodeAt(0),m=h.charCodeAt(1),v=h.charCodeAt(2),_=h.charCodeAt(3),S=this.length-4;0<=S;--S)if(this.data[S]===g&&this.data[S+1]===m&&this.data[S+2]===v&&this.data[S+3]===_)return S-this.zero;return-1},f.prototype.readAndCheckSignature=function(h){var g=h.charCodeAt(0),m=h.charCodeAt(1),v=h.charCodeAt(2),_=h.charCodeAt(3),S=this.readData(4);return g===S[0]&&m===S[1]&&v===S[2]&&_===S[3]},f.prototype.readData=function(h){if(this.checkOffset(h),h===0)return[];var g=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,g},a.exports=f},{"../utils":32,"./DataReader":18}],18:[function(o,a,r){var u=o("../utils");function f(h){this.data=h,this.length=h.length,this.index=0,this.zero=0}f.prototype={checkOffset:function(h){this.checkIndex(this.index+h)},checkIndex:function(h){if(this.length<this.zero+h||h<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+h+"). Corrupted zip ?")},setIndex:function(h){this.checkIndex(h),this.index=h},skip:function(h){this.setIndex(this.index+h)},byteAt:function(){},readInt:function(h){var g,m=0;for(this.checkOffset(h),g=this.index+h-1;g>=this.index;g--)m=(m<<8)+this.byteAt(g);return this.index+=h,m},readString:function(h){return u.transformTo("string",this.readData(h))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var h=this.readInt(4);return new Date(Date.UTC(1980+(h>>25&127),(h>>21&15)-1,h>>16&31,h>>11&31,h>>5&63,(31&h)<<1))}},a.exports=f},{"../utils":32}],19:[function(o,a,r){var u=o("./Uint8ArrayReader");function f(h){u.call(this,h)}o("../utils").inherits(f,u),f.prototype.readData=function(h){this.checkOffset(h);var g=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,g},a.exports=f},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(o,a,r){var u=o("./DataReader");function f(h){u.call(this,h)}o("../utils").inherits(f,u),f.prototype.byteAt=function(h){return this.data.charCodeAt(this.zero+h)},f.prototype.lastIndexOfSignature=function(h){return this.data.lastIndexOf(h)-this.zero},f.prototype.readAndCheckSignature=function(h){return h===this.readData(4)},f.prototype.readData=function(h){this.checkOffset(h);var g=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,g},a.exports=f},{"../utils":32,"./DataReader":18}],21:[function(o,a,r){var u=o("./ArrayReader");function f(h){u.call(this,h)}o("../utils").inherits(f,u),f.prototype.readData=function(h){if(this.checkOffset(h),h===0)return new Uint8Array(0);var g=this.data.subarray(this.zero+this.index,this.zero+this.index+h);return this.index+=h,g},a.exports=f},{"../utils":32,"./ArrayReader":17}],22:[function(o,a,r){var u=o("../utils"),f=o("../support"),h=o("./ArrayReader"),g=o("./StringReader"),m=o("./NodeBufferReader"),v=o("./Uint8ArrayReader");a.exports=function(_){var S=u.getTypeOf(_);return u.checkSupport(S),S!=="string"||f.uint8array?S==="nodebuffer"?new m(_):f.uint8array?new v(u.transformTo("uint8array",_)):new h(u.transformTo("array",_)):new g(_)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(o,a,r){r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(o,a,r){var u=o("./GenericWorker"),f=o("../utils");function h(g){u.call(this,"ConvertWorker to "+g),this.destType=g}f.inherits(h,u),h.prototype.processChunk=function(g){this.push({data:f.transformTo(this.destType,g.data),meta:g.meta})},a.exports=h},{"../utils":32,"./GenericWorker":28}],25:[function(o,a,r){var u=o("./GenericWorker"),f=o("../crc32");function h(){u.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}o("../utils").inherits(h,u),h.prototype.processChunk=function(g){this.streamInfo.crc32=f(g.data,this.streamInfo.crc32||0),this.push(g)},a.exports=h},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(o,a,r){var u=o("../utils"),f=o("./GenericWorker");function h(g){f.call(this,"DataLengthProbe for "+g),this.propName=g,this.withStreamInfo(g,0)}u.inherits(h,f),h.prototype.processChunk=function(g){if(g){var m=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=m+g.data.length}f.prototype.processChunk.call(this,g)},a.exports=h},{"../utils":32,"./GenericWorker":28}],27:[function(o,a,r){var u=o("../utils"),f=o("./GenericWorker");function h(g){f.call(this,"DataWorker");var m=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,g.then(function(v){m.dataIsReady=!0,m.data=v,m.max=v&&v.length||0,m.type=u.getTypeOf(v),m.isPaused||m._tickAndRepeat()},function(v){m.error(v)})}u.inherits(h,f),h.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this.data=null},h.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,u.delay(this._tickAndRepeat,[],this)),!0)},h.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(u.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},h.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var g=null,m=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":g=this.data.substring(this.index,m);break;case"uint8array":g=this.data.subarray(this.index,m);break;case"array":case"nodebuffer":g=this.data.slice(this.index,m)}return this.index=m,this.push({data:g,meta:{percent:this.max?this.index/this.max*100:0}})},a.exports=h},{"../utils":32,"./GenericWorker":28}],28:[function(o,a,r){function u(f){this.name=f||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}u.prototype={push:function(f){this.emit("data",f)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(f){this.emit("error",f)}return!0},error:function(f){return!this.isFinished&&(this.isPaused?this.generatedError=f:(this.isFinished=!0,this.emit("error",f),this.previous&&this.previous.error(f),this.cleanUp()),!0)},on:function(f,h){return this._listeners[f].push(h),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(f,h){if(this._listeners[f])for(var g=0;g<this._listeners[f].length;g++)this._listeners[f][g].call(this,h)},pipe:function(f){return f.registerPrevious(this)},registerPrevious:function(f){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=f.streamInfo,this.mergeStreamInfo(),this.previous=f;var h=this;return f.on("data",function(g){h.processChunk(g)}),f.on("end",function(){h.end()}),f.on("error",function(g){h.error(g)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var f=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),f=!0),this.previous&&this.previous.resume(),!f},flush:function(){},processChunk:function(f){this.push(f)},withStreamInfo:function(f,h){return this.extraStreamInfo[f]=h,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var f in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,f)&&(this.streamInfo[f]=this.extraStreamInfo[f])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var f="Worker "+this.name;return this.previous?this.previous+" -> "+f:f}},a.exports=u},{}],29:[function(o,a,r){var u=o("../utils"),f=o("./ConvertWorker"),h=o("./GenericWorker"),g=o("../base64"),m=o("../support"),v=o("../external"),_=null;if(m.nodestream)try{_=o("../nodejs/NodejsStreamOutputAdapter")}catch{}function S(b,C){return new v.Promise(function(R,M){var x=[],D=b._internalType,G=b._outputType,U=b._mimeType;b.on("data",function(K,P){x.push(K),C&&C(P)}).on("error",function(K){x=[],M(K)}).on("end",function(){try{var K=(function(P,et,q){switch(P){case"blob":return u.newBlob(u.transformTo("arraybuffer",et),q);case"base64":return g.encode(et);default:return u.transformTo(P,et)}})(G,(function(P,et){var q,at=0,vt=null,B=0;for(q=0;q<et.length;q++)B+=et[q].length;switch(P){case"string":return et.join("");case"array":return Array.prototype.concat.apply([],et);case"uint8array":for(vt=new Uint8Array(B),q=0;q<et.length;q++)vt.set(et[q],at),at+=et[q].length;return vt;case"nodebuffer":return Buffer.concat(et);default:throw new Error("concat : unsupported type '"+P+"'")}})(D,x),U);R(K)}catch(P){M(P)}x=[]}).resume()})}function T(b,C,R){var M=C;switch(C){case"blob":case"arraybuffer":M="uint8array";break;case"base64":M="string"}try{this._internalType=M,this._outputType=C,this._mimeType=R,u.checkSupport(M),this._worker=b.pipe(new f(M)),b.lock()}catch(x){this._worker=new h("error"),this._worker.error(x)}}T.prototype={accumulate:function(b){return S(this,b)},on:function(b,C){var R=this;return b==="data"?this._worker.on(b,function(M){C.call(R,M.data,M.meta)}):this._worker.on(b,function(){u.delay(C,arguments,R)}),this},resume:function(){return u.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(u.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new _(this,{objectMode:this._outputType!=="nodebuffer"},b)}},a.exports=T},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(o,a,r){if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",r.nodebuffer=typeof Buffer<"u",r.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")r.blob=!1;else{var u=new ArrayBuffer(0);try{r.blob=new Blob([u],{type:"application/zip"}).size===0}catch{try{var f=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);f.append(u),r.blob=f.getBlob("application/zip").size===0}catch{r.blob=!1}}}try{r.nodestream=!!o("readable-stream").Readable}catch{r.nodestream=!1}},{"readable-stream":16}],31:[function(o,a,r){for(var u=o("./utils"),f=o("./support"),h=o("./nodejsUtils"),g=o("./stream/GenericWorker"),m=new Array(256),v=0;v<256;v++)m[v]=252<=v?6:248<=v?5:240<=v?4:224<=v?3:192<=v?2:1;m[254]=m[254]=1;function _(){g.call(this,"utf-8 decode"),this.leftOver=null}function S(){g.call(this,"utf-8 encode")}r.utf8encode=function(T){return f.nodebuffer?h.newBufferFrom(T,"utf-8"):(function(b){var C,R,M,x,D,G=b.length,U=0;for(x=0;x<G;x++)(64512&(R=b.charCodeAt(x)))==55296&&x+1<G&&(64512&(M=b.charCodeAt(x+1)))==56320&&(R=65536+(R-55296<<10)+(M-56320),x++),U+=R<128?1:R<2048?2:R<65536?3:4;for(C=f.uint8array?new Uint8Array(U):new Array(U),x=D=0;D<U;x++)(64512&(R=b.charCodeAt(x)))==55296&&x+1<G&&(64512&(M=b.charCodeAt(x+1)))==56320&&(R=65536+(R-55296<<10)+(M-56320),x++),R<128?C[D++]=R:(R<2048?C[D++]=192|R>>>6:(R<65536?C[D++]=224|R>>>12:(C[D++]=240|R>>>18,C[D++]=128|R>>>12&63),C[D++]=128|R>>>6&63),C[D++]=128|63&R);return C})(T)},r.utf8decode=function(T){return f.nodebuffer?u.transformTo("nodebuffer",T).toString("utf-8"):(function(b){var C,R,M,x,D=b.length,G=new Array(2*D);for(C=R=0;C<D;)if((M=b[C++])<128)G[R++]=M;else if(4<(x=m[M]))G[R++]=65533,C+=x-1;else{for(M&=x===2?31:x===3?15:7;1<x&&C<D;)M=M<<6|63&b[C++],x--;1<x?G[R++]=65533:M<65536?G[R++]=M:(M-=65536,G[R++]=55296|M>>10&1023,G[R++]=56320|1023&M)}return G.length!==R&&(G.subarray?G=G.subarray(0,R):G.length=R),u.applyFromCharCode(G)})(T=u.transformTo(f.uint8array?"uint8array":"array",T))},u.inherits(_,g),_.prototype.processChunk=function(T){var b=u.transformTo(f.uint8array?"uint8array":"array",T.data);if(this.leftOver&&this.leftOver.length){if(f.uint8array){var C=b;(b=new Uint8Array(C.length+this.leftOver.length)).set(this.leftOver,0),b.set(C,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var R=(function(x,D){var G;for((D=D||x.length)>x.length&&(D=x.length),G=D-1;0<=G&&(192&x[G])==128;)G--;return G<0||G===0?D:G+m[x[G]]>D?G:D})(b),M=b;R!==b.length&&(f.uint8array?(M=b.subarray(0,R),this.leftOver=b.subarray(R,b.length)):(M=b.slice(0,R),this.leftOver=b.slice(R,b.length))),this.push({data:r.utf8decode(M),meta:T.meta})},_.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=_,u.inherits(S,g),S.prototype.processChunk=function(T){this.push({data:r.utf8encode(T.data),meta:T.meta})},r.Utf8EncodeWorker=S},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(o,a,r){var u=o("./support"),f=o("./base64"),h=o("./nodejsUtils"),g=o("./external");function m(C){return C}function v(C,R){for(var M=0;M<C.length;++M)R[M]=255&C.charCodeAt(M);return R}o("setimmediate"),r.newBlob=function(C,R){r.checkSupport("blob");try{return new Blob([C],{type:R})}catch{try{var M=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return M.append(C),M.getBlob(R)}catch{throw new Error("Bug : can't construct the Blob.")}}};var _={stringifyByChunk:function(C,R,M){var x=[],D=0,G=C.length;if(G<=M)return String.fromCharCode.apply(null,C);for(;D<G;)R==="array"||R==="nodebuffer"?x.push(String.fromCharCode.apply(null,C.slice(D,Math.min(D+M,G)))):x.push(String.fromCharCode.apply(null,C.subarray(D,Math.min(D+M,G)))),D+=M;return x.join("")},stringifyByChar:function(C){for(var R="",M=0;M<C.length;M++)R+=String.fromCharCode(C[M]);return R},applyCanBeUsed:{uint8array:(function(){try{return u.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return u.nodebuffer&&String.fromCharCode.apply(null,h.allocBuffer(1)).length===1}catch{return!1}})()}};function S(C){var R=65536,M=r.getTypeOf(C),x=!0;if(M==="uint8array"?x=_.applyCanBeUsed.uint8array:M==="nodebuffer"&&(x=_.applyCanBeUsed.nodebuffer),x)for(;1<R;)try{return _.stringifyByChunk(C,M,R)}catch{R=Math.floor(R/2)}return _.stringifyByChar(C)}function T(C,R){for(var M=0;M<C.length;M++)R[M]=C[M];return R}r.applyFromCharCode=S;var b={};b.string={string:m,array:function(C){return v(C,new Array(C.length))},arraybuffer:function(C){return b.string.uint8array(C).buffer},uint8array:function(C){return v(C,new Uint8Array(C.length))},nodebuffer:function(C){return v(C,h.allocBuffer(C.length))}},b.array={string:S,array:m,arraybuffer:function(C){return new Uint8Array(C).buffer},uint8array:function(C){return new Uint8Array(C)},nodebuffer:function(C){return h.newBufferFrom(C)}},b.arraybuffer={string:function(C){return S(new Uint8Array(C))},array:function(C){return T(new Uint8Array(C),new Array(C.byteLength))},arraybuffer:m,uint8array:function(C){return new Uint8Array(C)},nodebuffer:function(C){return h.newBufferFrom(new Uint8Array(C))}},b.uint8array={string:S,array:function(C){return T(C,new Array(C.length))},arraybuffer:function(C){return C.buffer},uint8array:m,nodebuffer:function(C){return h.newBufferFrom(C)}},b.nodebuffer={string:S,array:function(C){return T(C,new Array(C.length))},arraybuffer:function(C){return b.nodebuffer.uint8array(C).buffer},uint8array:function(C){return T(C,new Uint8Array(C.length))},nodebuffer:m},r.transformTo=function(C,R){if(R=R||"",!C)return R;r.checkSupport(C);var M=r.getTypeOf(R);return b[M][C](R)},r.resolve=function(C){for(var R=C.split("/"),M=[],x=0;x<R.length;x++){var D=R[x];D==="."||D===""&&x!==0&&x!==R.length-1||(D===".."?M.pop():M.push(D))}return M.join("/")},r.getTypeOf=function(C){return typeof C=="string"?"string":Object.prototype.toString.call(C)==="[object Array]"?"array":u.nodebuffer&&h.isBuffer(C)?"nodebuffer":u.uint8array&&C instanceof Uint8Array?"uint8array":u.arraybuffer&&C instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(C){if(!u[C.toLowerCase()])throw new Error(C+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(C){var R,M,x="";for(M=0;M<(C||"").length;M++)x+="\\x"+((R=C.charCodeAt(M))<16?"0":"")+R.toString(16).toUpperCase();return x},r.delay=function(C,R,M){setImmediate(function(){C.apply(M||null,R||[])})},r.inherits=function(C,R){function M(){}M.prototype=R.prototype,C.prototype=new M},r.extend=function(){var C,R,M={};for(C=0;C<arguments.length;C++)for(R in arguments[C])Object.prototype.hasOwnProperty.call(arguments[C],R)&&M[R]===void 0&&(M[R]=arguments[C][R]);return M},r.prepareContent=function(C,R,M,x,D){return g.Promise.resolve(R).then(function(G){return u.blob&&(G instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(G))!==-1)&&typeof FileReader<"u"?new g.Promise(function(U,K){var P=new FileReader;P.onload=function(et){U(et.target.result)},P.onerror=function(et){K(et.target.error)},P.readAsArrayBuffer(G)}):G}).then(function(G){var U=r.getTypeOf(G);return U?(U==="arraybuffer"?G=r.transformTo("uint8array",G):U==="string"&&(D?G=f.decode(G):M&&x!==!0&&(G=(function(K){return v(K,u.uint8array?new Uint8Array(K.length):new Array(K.length))})(G))),G):g.Promise.reject(new Error("Can't read the data of '"+C+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(o,a,r){var u=o("./reader/readerFor"),f=o("./utils"),h=o("./signature"),g=o("./zipEntry"),m=o("./support");function v(_){this.files=[],this.loadOptions=_}v.prototype={checkSignature:function(_){if(!this.reader.readAndCheckSignature(_)){this.reader.index-=4;var S=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+f.pretty(S)+", expected "+f.pretty(_)+")")}},isSignature:function(_,S){var T=this.reader.index;this.reader.setIndex(_);var b=this.reader.readString(4)===S;return this.reader.setIndex(T),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var _=this.reader.readData(this.zipCommentLength),S=m.uint8array?"uint8array":"array",T=f.transformTo(S,_);this.zipComment=this.loadOptions.decodeFileName(T)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var _,S,T,b=this.zip64EndOfCentralSize-44;0<b;)_=this.reader.readInt(2),S=this.reader.readInt(4),T=this.reader.readData(S),this.zip64ExtensibleData[_]={id:_,length:S,value:T}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var _,S;for(_=0;_<this.files.length;_++)S=this.files[_],this.reader.setIndex(S.localHeaderOffset),this.checkSignature(h.LOCAL_FILE_HEADER),S.readLocalPart(this.reader),S.handleUTF8(),S.processAttributes()},readCentralDir:function(){var _;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(h.CENTRAL_FILE_HEADER);)(_=new g({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(_);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var _=this.reader.lastIndexOfSignature(h.CENTRAL_DIRECTORY_END);if(_<0)throw this.isSignature(0,h.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(_);var S=_;if(this.checkSignature(h.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===f.MAX_VALUE_16BITS||this.diskWithCentralDirStart===f.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===f.MAX_VALUE_16BITS||this.centralDirRecords===f.MAX_VALUE_16BITS||this.centralDirSize===f.MAX_VALUE_32BITS||this.centralDirOffset===f.MAX_VALUE_32BITS){if(this.zip64=!0,(_=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(_),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,h.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var T=this.centralDirOffset+this.centralDirSize;this.zip64&&(T+=20,T+=12+this.zip64EndOfCentralSize);var b=S-T;if(0<b)this.isSignature(S,h.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(_){this.reader=u(_)},load:function(_){this.prepareReader(_),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},a.exports=v},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(o,a,r){var u=o("./reader/readerFor"),f=o("./utils"),h=o("./compressedObject"),g=o("./crc32"),m=o("./utf8"),v=o("./compressions"),_=o("./support");function S(T,b){this.options=T,this.loadOptions=b}S.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(T){var b,C;if(T.skip(22),this.fileNameLength=T.readInt(2),C=T.readInt(2),this.fileName=T.readData(this.fileNameLength),T.skip(C),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=(function(R){for(var M in v)if(Object.prototype.hasOwnProperty.call(v,M)&&v[M].magic===R)return v[M];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+f.pretty(this.compressionMethod)+" unknown (inner file : "+f.transformTo("string",this.fileName)+")");this.decompressed=new h(this.compressedSize,this.uncompressedSize,this.crc32,b,T.readData(this.compressedSize))},readCentralPart:function(T){this.versionMadeBy=T.readInt(2),T.skip(2),this.bitFlag=T.readInt(2),this.compressionMethod=T.readString(2),this.date=T.readDate(),this.crc32=T.readInt(4),this.compressedSize=T.readInt(4),this.uncompressedSize=T.readInt(4);var b=T.readInt(2);if(this.extraFieldsLength=T.readInt(2),this.fileCommentLength=T.readInt(2),this.diskNumberStart=T.readInt(2),this.internalFileAttributes=T.readInt(2),this.externalFileAttributes=T.readInt(4),this.localHeaderOffset=T.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");T.skip(b),this.readExtraFields(T),this.parseZIP64ExtraField(T),this.fileComment=T.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var T=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),T==0&&(this.dosPermissions=63&this.externalFileAttributes),T==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var T=u(this.extraFields[1].value);this.uncompressedSize===f.MAX_VALUE_32BITS&&(this.uncompressedSize=T.readInt(8)),this.compressedSize===f.MAX_VALUE_32BITS&&(this.compressedSize=T.readInt(8)),this.localHeaderOffset===f.MAX_VALUE_32BITS&&(this.localHeaderOffset=T.readInt(8)),this.diskNumberStart===f.MAX_VALUE_32BITS&&(this.diskNumberStart=T.readInt(4))}},readExtraFields:function(T){var b,C,R,M=T.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});T.index+4<M;)b=T.readInt(2),C=T.readInt(2),R=T.readData(C),this.extraFields[b]={id:b,length:C,value:R};T.setIndex(M)},handleUTF8:function(){var T=_.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=m.utf8decode(this.fileName),this.fileCommentStr=m.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var C=f.transformTo(T,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(C)}var R=this.findExtraFieldUnicodeComment();if(R!==null)this.fileCommentStr=R;else{var M=f.transformTo(T,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(M)}}},findExtraFieldUnicodePath:function(){var T=this.extraFields[28789];if(T){var b=u(T.value);return b.readInt(1)!==1||g(this.fileName)!==b.readInt(4)?null:m.utf8decode(b.readData(T.length-5))}return null},findExtraFieldUnicodeComment:function(){var T=this.extraFields[25461];if(T){var b=u(T.value);return b.readInt(1)!==1||g(this.fileComment)!==b.readInt(4)?null:m.utf8decode(b.readData(T.length-5))}return null}},a.exports=S},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(o,a,r){function u(b,C,R){this.name=b,this.dir=R.dir,this.date=R.date,this.comment=R.comment,this.unixPermissions=R.unixPermissions,this.dosPermissions=R.dosPermissions,this._data=C,this._dataBinary=R.binary,this.options={compression:R.compression,compressionOptions:R.compressionOptions}}var f=o("./stream/StreamHelper"),h=o("./stream/DataWorker"),g=o("./utf8"),m=o("./compressedObject"),v=o("./stream/GenericWorker");u.prototype={internalStream:function(b){var C=null,R="string";try{if(!b)throw new Error("No output type specified.");var M=(R=b.toLowerCase())==="string"||R==="text";R!=="binarystring"&&R!=="text"||(R="string"),C=this._decompressWorker();var x=!this._dataBinary;x&&!M&&(C=C.pipe(new g.Utf8EncodeWorker)),!x&&M&&(C=C.pipe(new g.Utf8DecodeWorker))}catch(D){(C=new v("error")).error(D)}return new f(C,R,"")},async:function(b,C){return this.internalStream(b).accumulate(C)},nodeStream:function(b,C){return this.internalStream(b||"nodebuffer").toNodejsStream(C)},_compressWorker:function(b,C){if(this._data instanceof m&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var R=this._decompressWorker();return this._dataBinary||(R=R.pipe(new g.Utf8EncodeWorker)),m.createWorkerFrom(R,b,C)},_decompressWorker:function(){return this._data instanceof m?this._data.getContentWorker():this._data instanceof v?this._data:new h(this._data)}};for(var _=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],S=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},T=0;T<_.length;T++)u.prototype[_[T]]=S;a.exports=u},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(o,a,r){(function(u){var f,h,g=u.MutationObserver||u.WebKitMutationObserver;if(g){var m=0,v=new g(b),_=u.document.createTextNode("");v.observe(_,{characterData:!0}),f=function(){_.data=m=++m%2}}else if(u.setImmediate||u.MessageChannel===void 0)f="document"in u&&"onreadystatechange"in u.document.createElement("script")?function(){var C=u.document.createElement("script");C.onreadystatechange=function(){b(),C.onreadystatechange=null,C.parentNode.removeChild(C),C=null},u.document.documentElement.appendChild(C)}:function(){setTimeout(b,0)};else{var S=new u.MessageChannel;S.port1.onmessage=b,f=function(){S.port2.postMessage(0)}}var T=[];function b(){var C,R;h=!0;for(var M=T.length;M;){for(R=T,T=[],C=-1;++C<M;)R[C]();M=T.length}h=!1}a.exports=function(C){T.push(C)!==1||h||f()}}).call(this,typeof Ya<"u"?Ya:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(o,a,r){var u=o("immediate");function f(){}var h={},g=["REJECTED"],m=["FULFILLED"],v=["PENDING"];function _(M){if(typeof M!="function")throw new TypeError("resolver must be a function");this.state=v,this.queue=[],this.outcome=void 0,M!==f&&C(this,M)}function S(M,x,D){this.promise=M,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof D=="function"&&(this.onRejected=D,this.callRejected=this.otherCallRejected)}function T(M,x,D){u(function(){var G;try{G=x(D)}catch(U){return h.reject(M,U)}G===M?h.reject(M,new TypeError("Cannot resolve promise with itself")):h.resolve(M,G)})}function b(M){var x=M&&M.then;if(M&&(typeof M=="object"||typeof M=="function")&&typeof x=="function")return function(){x.apply(M,arguments)}}function C(M,x){var D=!1;function G(P){D||(D=!0,h.reject(M,P))}function U(P){D||(D=!0,h.resolve(M,P))}var K=R(function(){x(U,G)});K.status==="error"&&G(K.value)}function R(M,x){var D={};try{D.value=M(x),D.status="success"}catch(G){D.status="error",D.value=G}return D}(a.exports=_).prototype.finally=function(M){if(typeof M!="function")return this;var x=this.constructor;return this.then(function(D){return x.resolve(M()).then(function(){return D})},function(D){return x.resolve(M()).then(function(){throw D})})},_.prototype.catch=function(M){return this.then(null,M)},_.prototype.then=function(M,x){if(typeof M!="function"&&this.state===m||typeof x!="function"&&this.state===g)return this;var D=new this.constructor(f);return this.state!==v?T(D,this.state===m?M:x,this.outcome):this.queue.push(new S(D,M,x)),D},S.prototype.callFulfilled=function(M){h.resolve(this.promise,M)},S.prototype.otherCallFulfilled=function(M){T(this.promise,this.onFulfilled,M)},S.prototype.callRejected=function(M){h.reject(this.promise,M)},S.prototype.otherCallRejected=function(M){T(this.promise,this.onRejected,M)},h.resolve=function(M,x){var D=R(b,x);if(D.status==="error")return h.reject(M,D.value);var G=D.value;if(G)C(M,G);else{M.state=m,M.outcome=x;for(var U=-1,K=M.queue.length;++U<K;)M.queue[U].callFulfilled(x)}return M},h.reject=function(M,x){M.state=g,M.outcome=x;for(var D=-1,G=M.queue.length;++D<G;)M.queue[D].callRejected(x);return M},_.resolve=function(M){return M instanceof this?M:h.resolve(new this(f),M)},_.reject=function(M){var x=new this(f);return h.reject(x,M)},_.all=function(M){var x=this;if(Object.prototype.toString.call(M)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=M.length,G=!1;if(!D)return this.resolve([]);for(var U=new Array(D),K=0,P=-1,et=new this(f);++P<D;)q(M[P],P);return et;function q(at,vt){x.resolve(at).then(function(B){U[vt]=B,++K!==D||G||(G=!0,h.resolve(et,U))},function(B){G||(G=!0,h.reject(et,B))})}},_.race=function(M){var x=this;if(Object.prototype.toString.call(M)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=M.length,G=!1;if(!D)return this.resolve([]);for(var U=-1,K=new this(f);++U<D;)P=M[U],x.resolve(P).then(function(et){G||(G=!0,h.resolve(K,et))},function(et){G||(G=!0,h.reject(K,et))});var P;return K}},{immediate:36}],38:[function(o,a,r){var u={};(0,o("./lib/utils/common").assign)(u,o("./lib/deflate"),o("./lib/inflate"),o("./lib/zlib/constants")),a.exports=u},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(o,a,r){var u=o("./zlib/deflate"),f=o("./utils/common"),h=o("./utils/strings"),g=o("./zlib/messages"),m=o("./zlib/zstream"),v=Object.prototype.toString,_=0,S=-1,T=0,b=8;function C(M){if(!(this instanceof C))return new C(M);this.options=f.assign({level:S,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:T,to:""},M||{});var x=this.options;x.raw&&0<x.windowBits?x.windowBits=-x.windowBits:x.gzip&&0<x.windowBits&&x.windowBits<16&&(x.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var D=u.deflateInit2(this.strm,x.level,x.method,x.windowBits,x.memLevel,x.strategy);if(D!==_)throw new Error(g[D]);if(x.header&&u.deflateSetHeader(this.strm,x.header),x.dictionary){var G;if(G=typeof x.dictionary=="string"?h.string2buf(x.dictionary):v.call(x.dictionary)==="[object ArrayBuffer]"?new Uint8Array(x.dictionary):x.dictionary,(D=u.deflateSetDictionary(this.strm,G))!==_)throw new Error(g[D]);this._dict_set=!0}}function R(M,x){var D=new C(x);if(D.push(M,!0),D.err)throw D.msg||g[D.err];return D.result}C.prototype.push=function(M,x){var D,G,U=this.strm,K=this.options.chunkSize;if(this.ended)return!1;G=x===~~x?x:x===!0?4:0,typeof M=="string"?U.input=h.string2buf(M):v.call(M)==="[object ArrayBuffer]"?U.input=new Uint8Array(M):U.input=M,U.next_in=0,U.avail_in=U.input.length;do{if(U.avail_out===0&&(U.output=new f.Buf8(K),U.next_out=0,U.avail_out=K),(D=u.deflate(U,G))!==1&&D!==_)return this.onEnd(D),!(this.ended=!0);U.avail_out!==0&&(U.avail_in!==0||G!==4&&G!==2)||(this.options.to==="string"?this.onData(h.buf2binstring(f.shrinkBuf(U.output,U.next_out))):this.onData(f.shrinkBuf(U.output,U.next_out)))}while((0<U.avail_in||U.avail_out===0)&&D!==1);return G===4?(D=u.deflateEnd(this.strm),this.onEnd(D),this.ended=!0,D===_):G!==2||(this.onEnd(_),!(U.avail_out=0))},C.prototype.onData=function(M){this.chunks.push(M)},C.prototype.onEnd=function(M){M===_&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=M,this.msg=this.strm.msg},r.Deflate=C,r.deflate=R,r.deflateRaw=function(M,x){return(x=x||{}).raw=!0,R(M,x)},r.gzip=function(M,x){return(x=x||{}).gzip=!0,R(M,x)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(o,a,r){var u=o("./zlib/inflate"),f=o("./utils/common"),h=o("./utils/strings"),g=o("./zlib/constants"),m=o("./zlib/messages"),v=o("./zlib/zstream"),_=o("./zlib/gzheader"),S=Object.prototype.toString;function T(C){if(!(this instanceof T))return new T(C);this.options=f.assign({chunkSize:16384,windowBits:0,to:""},C||{});var R=this.options;R.raw&&0<=R.windowBits&&R.windowBits<16&&(R.windowBits=-R.windowBits,R.windowBits===0&&(R.windowBits=-15)),!(0<=R.windowBits&&R.windowBits<16)||C&&C.windowBits||(R.windowBits+=32),15<R.windowBits&&R.windowBits<48&&(15&R.windowBits)==0&&(R.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v,this.strm.avail_out=0;var M=u.inflateInit2(this.strm,R.windowBits);if(M!==g.Z_OK)throw new Error(m[M]);this.header=new _,u.inflateGetHeader(this.strm,this.header)}function b(C,R){var M=new T(R);if(M.push(C,!0),M.err)throw M.msg||m[M.err];return M.result}T.prototype.push=function(C,R){var M,x,D,G,U,K,P=this.strm,et=this.options.chunkSize,q=this.options.dictionary,at=!1;if(this.ended)return!1;x=R===~~R?R:R===!0?g.Z_FINISH:g.Z_NO_FLUSH,typeof C=="string"?P.input=h.binstring2buf(C):S.call(C)==="[object ArrayBuffer]"?P.input=new Uint8Array(C):P.input=C,P.next_in=0,P.avail_in=P.input.length;do{if(P.avail_out===0&&(P.output=new f.Buf8(et),P.next_out=0,P.avail_out=et),(M=u.inflate(P,g.Z_NO_FLUSH))===g.Z_NEED_DICT&&q&&(K=typeof q=="string"?h.string2buf(q):S.call(q)==="[object ArrayBuffer]"?new Uint8Array(q):q,M=u.inflateSetDictionary(this.strm,K)),M===g.Z_BUF_ERROR&&at===!0&&(M=g.Z_OK,at=!1),M!==g.Z_STREAM_END&&M!==g.Z_OK)return this.onEnd(M),!(this.ended=!0);P.next_out&&(P.avail_out!==0&&M!==g.Z_STREAM_END&&(P.avail_in!==0||x!==g.Z_FINISH&&x!==g.Z_SYNC_FLUSH)||(this.options.to==="string"?(D=h.utf8border(P.output,P.next_out),G=P.next_out-D,U=h.buf2string(P.output,D),P.next_out=G,P.avail_out=et-G,G&&f.arraySet(P.output,P.output,D,G,0),this.onData(U)):this.onData(f.shrinkBuf(P.output,P.next_out)))),P.avail_in===0&&P.avail_out===0&&(at=!0)}while((0<P.avail_in||P.avail_out===0)&&M!==g.Z_STREAM_END);return M===g.Z_STREAM_END&&(x=g.Z_FINISH),x===g.Z_FINISH?(M=u.inflateEnd(this.strm),this.onEnd(M),this.ended=!0,M===g.Z_OK):x!==g.Z_SYNC_FLUSH||(this.onEnd(g.Z_OK),!(P.avail_out=0))},T.prototype.onData=function(C){this.chunks.push(C)},T.prototype.onEnd=function(C){C===g.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg},r.Inflate=T,r.inflate=b,r.inflateRaw=function(C,R){return(R=R||{}).raw=!0,b(C,R)},r.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(o,a,r){var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(g){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var v=m.shift();if(v){if(typeof v!="object")throw new TypeError(v+"must be non-object");for(var _ in v)v.hasOwnProperty(_)&&(g[_]=v[_])}}return g},r.shrinkBuf=function(g,m){return g.length===m?g:g.subarray?g.subarray(0,m):(g.length=m,g)};var f={arraySet:function(g,m,v,_,S){if(m.subarray&&g.subarray)g.set(m.subarray(v,v+_),S);else for(var T=0;T<_;T++)g[S+T]=m[v+T]},flattenChunks:function(g){var m,v,_,S,T,b;for(m=_=0,v=g.length;m<v;m++)_+=g[m].length;for(b=new Uint8Array(_),m=S=0,v=g.length;m<v;m++)T=g[m],b.set(T,S),S+=T.length;return b}},h={arraySet:function(g,m,v,_,S){for(var T=0;T<_;T++)g[S+T]=m[v+T]},flattenChunks:function(g){return[].concat.apply([],g)}};r.setTyped=function(g){g?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,f)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,h))},r.setTyped(u)},{}],42:[function(o,a,r){var u=o("./common"),f=!0,h=!0;try{String.fromCharCode.apply(null,[0])}catch{f=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{h=!1}for(var g=new u.Buf8(256),m=0;m<256;m++)g[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;function v(_,S){if(S<65537&&(_.subarray&&h||!_.subarray&&f))return String.fromCharCode.apply(null,u.shrinkBuf(_,S));for(var T="",b=0;b<S;b++)T+=String.fromCharCode(_[b]);return T}g[254]=g[254]=1,r.string2buf=function(_){var S,T,b,C,R,M=_.length,x=0;for(C=0;C<M;C++)(64512&(T=_.charCodeAt(C)))==55296&&C+1<M&&(64512&(b=_.charCodeAt(C+1)))==56320&&(T=65536+(T-55296<<10)+(b-56320),C++),x+=T<128?1:T<2048?2:T<65536?3:4;for(S=new u.Buf8(x),C=R=0;R<x;C++)(64512&(T=_.charCodeAt(C)))==55296&&C+1<M&&(64512&(b=_.charCodeAt(C+1)))==56320&&(T=65536+(T-55296<<10)+(b-56320),C++),T<128?S[R++]=T:(T<2048?S[R++]=192|T>>>6:(T<65536?S[R++]=224|T>>>12:(S[R++]=240|T>>>18,S[R++]=128|T>>>12&63),S[R++]=128|T>>>6&63),S[R++]=128|63&T);return S},r.buf2binstring=function(_){return v(_,_.length)},r.binstring2buf=function(_){for(var S=new u.Buf8(_.length),T=0,b=S.length;T<b;T++)S[T]=_.charCodeAt(T);return S},r.buf2string=function(_,S){var T,b,C,R,M=S||_.length,x=new Array(2*M);for(T=b=0;T<M;)if((C=_[T++])<128)x[b++]=C;else if(4<(R=g[C]))x[b++]=65533,T+=R-1;else{for(C&=R===2?31:R===3?15:7;1<R&&T<M;)C=C<<6|63&_[T++],R--;1<R?x[b++]=65533:C<65536?x[b++]=C:(C-=65536,x[b++]=55296|C>>10&1023,x[b++]=56320|1023&C)}return v(x,b)},r.utf8border=function(_,S){var T;for((S=S||_.length)>_.length&&(S=_.length),T=S-1;0<=T&&(192&_[T])==128;)T--;return T<0||T===0?S:T+g[_[T]]>S?T:S}},{"./common":41}],43:[function(o,a,r){a.exports=function(u,f,h,g){for(var m=65535&u|0,v=u>>>16&65535|0,_=0;h!==0;){for(h-=_=2e3<h?2e3:h;v=v+(m=m+f[g++]|0)|0,--_;);m%=65521,v%=65521}return m|v<<16|0}},{}],44:[function(o,a,r){a.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(o,a,r){var u=(function(){for(var f,h=[],g=0;g<256;g++){f=g;for(var m=0;m<8;m++)f=1&f?3988292384^f>>>1:f>>>1;h[g]=f}return h})();a.exports=function(f,h,g,m){var v=u,_=m+g;f^=-1;for(var S=m;S<_;S++)f=f>>>8^v[255&(f^h[S])];return-1^f}},{}],46:[function(o,a,r){var u,f=o("../utils/common"),h=o("./trees"),g=o("./adler32"),m=o("./crc32"),v=o("./messages"),_=0,S=4,T=0,b=-2,C=-1,R=4,M=2,x=8,D=9,G=286,U=30,K=19,P=2*G+1,et=15,q=3,at=258,vt=at+q+1,B=42,W=113,w=1,it=2,J=3,Y=4;function mt(A,ct){return A.msg=v[ct],ct}function rt(A){return(A<<1)-(4<A?9:0)}function St(A){for(var ct=A.length;0<=--ct;)A[ct]=0}function I(A){var ct=A.state,tt=ct.pending;tt>A.avail_out&&(tt=A.avail_out),tt!==0&&(f.arraySet(A.output,ct.pending_buf,ct.pending_out,tt,A.next_out),A.next_out+=tt,ct.pending_out+=tt,A.total_out+=tt,A.avail_out-=tt,ct.pending-=tt,ct.pending===0&&(ct.pending_out=0))}function L(A,ct){h._tr_flush_block(A,0<=A.block_start?A.block_start:-1,A.strstart-A.block_start,ct),A.block_start=A.strstart,I(A.strm)}function lt(A,ct){A.pending_buf[A.pending++]=ct}function nt(A,ct){A.pending_buf[A.pending++]=ct>>>8&255,A.pending_buf[A.pending++]=255&ct}function st(A,ct){var tt,z,k=A.max_chain_length,V=A.strstart,ht=A.prev_length,pt=A.nice_match,Q=A.strstart>A.w_size-vt?A.strstart-(A.w_size-vt):0,gt=A.window,_t=A.w_mask,yt=A.prev,Rt=A.strstart+at,Jt=gt[V+ht-1],zt=gt[V+ht];A.prev_length>=A.good_match&&(k>>=2),pt>A.lookahead&&(pt=A.lookahead);do if(gt[(tt=ct)+ht]===zt&&gt[tt+ht-1]===Jt&&gt[tt]===gt[V]&&gt[++tt]===gt[V+1]){V+=2,tt++;do;while(gt[++V]===gt[++tt]&&gt[++V]===gt[++tt]&&gt[++V]===gt[++tt]&&gt[++V]===gt[++tt]&&gt[++V]===gt[++tt]&&gt[++V]===gt[++tt]&&gt[++V]===gt[++tt]&&gt[++V]===gt[++tt]&&V<Rt);if(z=at-(Rt-V),V=Rt-at,ht<z){if(A.match_start=ct,pt<=(ht=z))break;Jt=gt[V+ht-1],zt=gt[V+ht]}}while((ct=yt[ct&_t])>Q&&--k!=0);return ht<=A.lookahead?ht:A.lookahead}function At(A){var ct,tt,z,k,V,ht,pt,Q,gt,_t,yt=A.w_size;do{if(k=A.window_size-A.lookahead-A.strstart,A.strstart>=yt+(yt-vt)){for(f.arraySet(A.window,A.window,yt,yt,0),A.match_start-=yt,A.strstart-=yt,A.block_start-=yt,ct=tt=A.hash_size;z=A.head[--ct],A.head[ct]=yt<=z?z-yt:0,--tt;);for(ct=tt=yt;z=A.prev[--ct],A.prev[ct]=yt<=z?z-yt:0,--tt;);k+=yt}if(A.strm.avail_in===0)break;if(ht=A.strm,pt=A.window,Q=A.strstart+A.lookahead,gt=k,_t=void 0,_t=ht.avail_in,gt<_t&&(_t=gt),tt=_t===0?0:(ht.avail_in-=_t,f.arraySet(pt,ht.input,ht.next_in,_t,Q),ht.state.wrap===1?ht.adler=g(ht.adler,pt,_t,Q):ht.state.wrap===2&&(ht.adler=m(ht.adler,pt,_t,Q)),ht.next_in+=_t,ht.total_in+=_t,_t),A.lookahead+=tt,A.lookahead+A.insert>=q)for(V=A.strstart-A.insert,A.ins_h=A.window[V],A.ins_h=(A.ins_h<<A.hash_shift^A.window[V+1])&A.hash_mask;A.insert&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[V+q-1])&A.hash_mask,A.prev[V&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=V,V++,A.insert--,!(A.lookahead+A.insert<q)););}while(A.lookahead<vt&&A.strm.avail_in!==0)}function It(A,ct){for(var tt,z;;){if(A.lookahead<vt){if(At(A),A.lookahead<vt&&ct===_)return w;if(A.lookahead===0)break}if(tt=0,A.lookahead>=q&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+q-1])&A.hash_mask,tt=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),tt!==0&&A.strstart-tt<=A.w_size-vt&&(A.match_length=st(A,tt)),A.match_length>=q)if(z=h._tr_tally(A,A.strstart-A.match_start,A.match_length-q),A.lookahead-=A.match_length,A.match_length<=A.max_lazy_match&&A.lookahead>=q){for(A.match_length--;A.strstart++,A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+q-1])&A.hash_mask,tt=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart,--A.match_length!=0;);A.strstart++}else A.strstart+=A.match_length,A.match_length=0,A.ins_h=A.window[A.strstart],A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+1])&A.hash_mask;else z=h._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++;if(z&&(L(A,!1),A.strm.avail_out===0))return w}return A.insert=A.strstart<q-1?A.strstart:q-1,ct===S?(L(A,!0),A.strm.avail_out===0?J:Y):A.last_lit&&(L(A,!1),A.strm.avail_out===0)?w:it}function Nt(A,ct){for(var tt,z,k;;){if(A.lookahead<vt){if(At(A),A.lookahead<vt&&ct===_)return w;if(A.lookahead===0)break}if(tt=0,A.lookahead>=q&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+q-1])&A.hash_mask,tt=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),A.prev_length=A.match_length,A.prev_match=A.match_start,A.match_length=q-1,tt!==0&&A.prev_length<A.max_lazy_match&&A.strstart-tt<=A.w_size-vt&&(A.match_length=st(A,tt),A.match_length<=5&&(A.strategy===1||A.match_length===q&&4096<A.strstart-A.match_start)&&(A.match_length=q-1)),A.prev_length>=q&&A.match_length<=A.prev_length){for(k=A.strstart+A.lookahead-q,z=h._tr_tally(A,A.strstart-1-A.prev_match,A.prev_length-q),A.lookahead-=A.prev_length-1,A.prev_length-=2;++A.strstart<=k&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+q-1])&A.hash_mask,tt=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),--A.prev_length!=0;);if(A.match_available=0,A.match_length=q-1,A.strstart++,z&&(L(A,!1),A.strm.avail_out===0))return w}else if(A.match_available){if((z=h._tr_tally(A,0,A.window[A.strstart-1]))&&L(A,!1),A.strstart++,A.lookahead--,A.strm.avail_out===0)return w}else A.match_available=1,A.strstart++,A.lookahead--}return A.match_available&&(z=h._tr_tally(A,0,A.window[A.strstart-1]),A.match_available=0),A.insert=A.strstart<q-1?A.strstart:q-1,ct===S?(L(A,!0),A.strm.avail_out===0?J:Y):A.last_lit&&(L(A,!1),A.strm.avail_out===0)?w:it}function wt(A,ct,tt,z,k){this.good_length=A,this.max_lazy=ct,this.nice_length=tt,this.max_chain=z,this.func=k}function ie(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new f.Buf16(2*P),this.dyn_dtree=new f.Buf16(2*(2*U+1)),this.bl_tree=new f.Buf16(2*(2*K+1)),St(this.dyn_ltree),St(this.dyn_dtree),St(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new f.Buf16(et+1),this.heap=new f.Buf16(2*G+1),St(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new f.Buf16(2*G+1),St(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function te(A){var ct;return A&&A.state?(A.total_in=A.total_out=0,A.data_type=M,(ct=A.state).pending=0,ct.pending_out=0,ct.wrap<0&&(ct.wrap=-ct.wrap),ct.status=ct.wrap?B:W,A.adler=ct.wrap===2?0:1,ct.last_flush=_,h._tr_init(ct),T):mt(A,b)}function Ie(A){var ct=te(A);return ct===T&&(function(tt){tt.window_size=2*tt.w_size,St(tt.head),tt.max_lazy_match=u[tt.level].max_lazy,tt.good_match=u[tt.level].good_length,tt.nice_match=u[tt.level].nice_length,tt.max_chain_length=u[tt.level].max_chain,tt.strstart=0,tt.block_start=0,tt.lookahead=0,tt.insert=0,tt.match_length=tt.prev_length=q-1,tt.match_available=0,tt.ins_h=0})(A.state),ct}function xe(A,ct,tt,z,k,V){if(!A)return b;var ht=1;if(ct===C&&(ct=6),z<0?(ht=0,z=-z):15<z&&(ht=2,z-=16),k<1||D<k||tt!==x||z<8||15<z||ct<0||9<ct||V<0||R<V)return mt(A,b);z===8&&(z=9);var pt=new ie;return(A.state=pt).strm=A,pt.wrap=ht,pt.gzhead=null,pt.w_bits=z,pt.w_size=1<<pt.w_bits,pt.w_mask=pt.w_size-1,pt.hash_bits=k+7,pt.hash_size=1<<pt.hash_bits,pt.hash_mask=pt.hash_size-1,pt.hash_shift=~~((pt.hash_bits+q-1)/q),pt.window=new f.Buf8(2*pt.w_size),pt.head=new f.Buf16(pt.hash_size),pt.prev=new f.Buf16(pt.w_size),pt.lit_bufsize=1<<k+6,pt.pending_buf_size=4*pt.lit_bufsize,pt.pending_buf=new f.Buf8(pt.pending_buf_size),pt.d_buf=1*pt.lit_bufsize,pt.l_buf=3*pt.lit_bufsize,pt.level=ct,pt.strategy=V,pt.method=tt,Ie(A)}u=[new wt(0,0,0,0,function(A,ct){var tt=65535;for(tt>A.pending_buf_size-5&&(tt=A.pending_buf_size-5);;){if(A.lookahead<=1){if(At(A),A.lookahead===0&&ct===_)return w;if(A.lookahead===0)break}A.strstart+=A.lookahead,A.lookahead=0;var z=A.block_start+tt;if((A.strstart===0||A.strstart>=z)&&(A.lookahead=A.strstart-z,A.strstart=z,L(A,!1),A.strm.avail_out===0)||A.strstart-A.block_start>=A.w_size-vt&&(L(A,!1),A.strm.avail_out===0))return w}return A.insert=0,ct===S?(L(A,!0),A.strm.avail_out===0?J:Y):(A.strstart>A.block_start&&(L(A,!1),A.strm.avail_out),w)}),new wt(4,4,8,4,It),new wt(4,5,16,8,It),new wt(4,6,32,32,It),new wt(4,4,16,16,Nt),new wt(8,16,32,32,Nt),new wt(8,16,128,128,Nt),new wt(8,32,128,256,Nt),new wt(32,128,258,1024,Nt),new wt(32,258,258,4096,Nt)],r.deflateInit=function(A,ct){return xe(A,ct,x,15,8,0)},r.deflateInit2=xe,r.deflateReset=Ie,r.deflateResetKeep=te,r.deflateSetHeader=function(A,ct){return A&&A.state?A.state.wrap!==2?b:(A.state.gzhead=ct,T):b},r.deflate=function(A,ct){var tt,z,k,V;if(!A||!A.state||5<ct||ct<0)return A?mt(A,b):b;if(z=A.state,!A.output||!A.input&&A.avail_in!==0||z.status===666&&ct!==S)return mt(A,A.avail_out===0?-5:b);if(z.strm=A,tt=z.last_flush,z.last_flush=ct,z.status===B)if(z.wrap===2)A.adler=0,lt(z,31),lt(z,139),lt(z,8),z.gzhead?(lt(z,(z.gzhead.text?1:0)+(z.gzhead.hcrc?2:0)+(z.gzhead.extra?4:0)+(z.gzhead.name?8:0)+(z.gzhead.comment?16:0)),lt(z,255&z.gzhead.time),lt(z,z.gzhead.time>>8&255),lt(z,z.gzhead.time>>16&255),lt(z,z.gzhead.time>>24&255),lt(z,z.level===9?2:2<=z.strategy||z.level<2?4:0),lt(z,255&z.gzhead.os),z.gzhead.extra&&z.gzhead.extra.length&&(lt(z,255&z.gzhead.extra.length),lt(z,z.gzhead.extra.length>>8&255)),z.gzhead.hcrc&&(A.adler=m(A.adler,z.pending_buf,z.pending,0)),z.gzindex=0,z.status=69):(lt(z,0),lt(z,0),lt(z,0),lt(z,0),lt(z,0),lt(z,z.level===9?2:2<=z.strategy||z.level<2?4:0),lt(z,3),z.status=W);else{var ht=x+(z.w_bits-8<<4)<<8;ht|=(2<=z.strategy||z.level<2?0:z.level<6?1:z.level===6?2:3)<<6,z.strstart!==0&&(ht|=32),ht+=31-ht%31,z.status=W,nt(z,ht),z.strstart!==0&&(nt(z,A.adler>>>16),nt(z,65535&A.adler)),A.adler=1}if(z.status===69)if(z.gzhead.extra){for(k=z.pending;z.gzindex<(65535&z.gzhead.extra.length)&&(z.pending!==z.pending_buf_size||(z.gzhead.hcrc&&z.pending>k&&(A.adler=m(A.adler,z.pending_buf,z.pending-k,k)),I(A),k=z.pending,z.pending!==z.pending_buf_size));)lt(z,255&z.gzhead.extra[z.gzindex]),z.gzindex++;z.gzhead.hcrc&&z.pending>k&&(A.adler=m(A.adler,z.pending_buf,z.pending-k,k)),z.gzindex===z.gzhead.extra.length&&(z.gzindex=0,z.status=73)}else z.status=73;if(z.status===73)if(z.gzhead.name){k=z.pending;do{if(z.pending===z.pending_buf_size&&(z.gzhead.hcrc&&z.pending>k&&(A.adler=m(A.adler,z.pending_buf,z.pending-k,k)),I(A),k=z.pending,z.pending===z.pending_buf_size)){V=1;break}V=z.gzindex<z.gzhead.name.length?255&z.gzhead.name.charCodeAt(z.gzindex++):0,lt(z,V)}while(V!==0);z.gzhead.hcrc&&z.pending>k&&(A.adler=m(A.adler,z.pending_buf,z.pending-k,k)),V===0&&(z.gzindex=0,z.status=91)}else z.status=91;if(z.status===91)if(z.gzhead.comment){k=z.pending;do{if(z.pending===z.pending_buf_size&&(z.gzhead.hcrc&&z.pending>k&&(A.adler=m(A.adler,z.pending_buf,z.pending-k,k)),I(A),k=z.pending,z.pending===z.pending_buf_size)){V=1;break}V=z.gzindex<z.gzhead.comment.length?255&z.gzhead.comment.charCodeAt(z.gzindex++):0,lt(z,V)}while(V!==0);z.gzhead.hcrc&&z.pending>k&&(A.adler=m(A.adler,z.pending_buf,z.pending-k,k)),V===0&&(z.status=103)}else z.status=103;if(z.status===103&&(z.gzhead.hcrc?(z.pending+2>z.pending_buf_size&&I(A),z.pending+2<=z.pending_buf_size&&(lt(z,255&A.adler),lt(z,A.adler>>8&255),A.adler=0,z.status=W)):z.status=W),z.pending!==0){if(I(A),A.avail_out===0)return z.last_flush=-1,T}else if(A.avail_in===0&&rt(ct)<=rt(tt)&&ct!==S)return mt(A,-5);if(z.status===666&&A.avail_in!==0)return mt(A,-5);if(A.avail_in!==0||z.lookahead!==0||ct!==_&&z.status!==666){var pt=z.strategy===2?(function(Q,gt){for(var _t;;){if(Q.lookahead===0&&(At(Q),Q.lookahead===0)){if(gt===_)return w;break}if(Q.match_length=0,_t=h._tr_tally(Q,0,Q.window[Q.strstart]),Q.lookahead--,Q.strstart++,_t&&(L(Q,!1),Q.strm.avail_out===0))return w}return Q.insert=0,gt===S?(L(Q,!0),Q.strm.avail_out===0?J:Y):Q.last_lit&&(L(Q,!1),Q.strm.avail_out===0)?w:it})(z,ct):z.strategy===3?(function(Q,gt){for(var _t,yt,Rt,Jt,zt=Q.window;;){if(Q.lookahead<=at){if(At(Q),Q.lookahead<=at&&gt===_)return w;if(Q.lookahead===0)break}if(Q.match_length=0,Q.lookahead>=q&&0<Q.strstart&&(yt=zt[Rt=Q.strstart-1])===zt[++Rt]&&yt===zt[++Rt]&&yt===zt[++Rt]){Jt=Q.strstart+at;do;while(yt===zt[++Rt]&&yt===zt[++Rt]&&yt===zt[++Rt]&&yt===zt[++Rt]&&yt===zt[++Rt]&&yt===zt[++Rt]&&yt===zt[++Rt]&&yt===zt[++Rt]&&Rt<Jt);Q.match_length=at-(Jt-Rt),Q.match_length>Q.lookahead&&(Q.match_length=Q.lookahead)}if(Q.match_length>=q?(_t=h._tr_tally(Q,1,Q.match_length-q),Q.lookahead-=Q.match_length,Q.strstart+=Q.match_length,Q.match_length=0):(_t=h._tr_tally(Q,0,Q.window[Q.strstart]),Q.lookahead--,Q.strstart++),_t&&(L(Q,!1),Q.strm.avail_out===0))return w}return Q.insert=0,gt===S?(L(Q,!0),Q.strm.avail_out===0?J:Y):Q.last_lit&&(L(Q,!1),Q.strm.avail_out===0)?w:it})(z,ct):u[z.level].func(z,ct);if(pt!==J&&pt!==Y||(z.status=666),pt===w||pt===J)return A.avail_out===0&&(z.last_flush=-1),T;if(pt===it&&(ct===1?h._tr_align(z):ct!==5&&(h._tr_stored_block(z,0,0,!1),ct===3&&(St(z.head),z.lookahead===0&&(z.strstart=0,z.block_start=0,z.insert=0))),I(A),A.avail_out===0))return z.last_flush=-1,T}return ct!==S?T:z.wrap<=0?1:(z.wrap===2?(lt(z,255&A.adler),lt(z,A.adler>>8&255),lt(z,A.adler>>16&255),lt(z,A.adler>>24&255),lt(z,255&A.total_in),lt(z,A.total_in>>8&255),lt(z,A.total_in>>16&255),lt(z,A.total_in>>24&255)):(nt(z,A.adler>>>16),nt(z,65535&A.adler)),I(A),0<z.wrap&&(z.wrap=-z.wrap),z.pending!==0?T:1)},r.deflateEnd=function(A){var ct;return A&&A.state?(ct=A.state.status)!==B&&ct!==69&&ct!==73&&ct!==91&&ct!==103&&ct!==W&&ct!==666?mt(A,b):(A.state=null,ct===W?mt(A,-3):T):b},r.deflateSetDictionary=function(A,ct){var tt,z,k,V,ht,pt,Q,gt,_t=ct.length;if(!A||!A.state||(V=(tt=A.state).wrap)===2||V===1&&tt.status!==B||tt.lookahead)return b;for(V===1&&(A.adler=g(A.adler,ct,_t,0)),tt.wrap=0,_t>=tt.w_size&&(V===0&&(St(tt.head),tt.strstart=0,tt.block_start=0,tt.insert=0),gt=new f.Buf8(tt.w_size),f.arraySet(gt,ct,_t-tt.w_size,tt.w_size,0),ct=gt,_t=tt.w_size),ht=A.avail_in,pt=A.next_in,Q=A.input,A.avail_in=_t,A.next_in=0,A.input=ct,At(tt);tt.lookahead>=q;){for(z=tt.strstart,k=tt.lookahead-(q-1);tt.ins_h=(tt.ins_h<<tt.hash_shift^tt.window[z+q-1])&tt.hash_mask,tt.prev[z&tt.w_mask]=tt.head[tt.ins_h],tt.head[tt.ins_h]=z,z++,--k;);tt.strstart=z,tt.lookahead=q-1,At(tt)}return tt.strstart+=tt.lookahead,tt.block_start=tt.strstart,tt.insert=tt.lookahead,tt.lookahead=0,tt.match_length=tt.prev_length=q-1,tt.match_available=0,A.next_in=pt,A.input=Q,A.avail_in=ht,tt.wrap=V,T},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(o,a,r){a.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(o,a,r){a.exports=function(u,f){var h,g,m,v,_,S,T,b,C,R,M,x,D,G,U,K,P,et,q,at,vt,B,W,w,it;h=u.state,g=u.next_in,w=u.input,m=g+(u.avail_in-5),v=u.next_out,it=u.output,_=v-(f-u.avail_out),S=v+(u.avail_out-257),T=h.dmax,b=h.wsize,C=h.whave,R=h.wnext,M=h.window,x=h.hold,D=h.bits,G=h.lencode,U=h.distcode,K=(1<<h.lenbits)-1,P=(1<<h.distbits)-1;t:do{D<15&&(x+=w[g++]<<D,D+=8,x+=w[g++]<<D,D+=8),et=G[x&K];e:for(;;){if(x>>>=q=et>>>24,D-=q,(q=et>>>16&255)===0)it[v++]=65535&et;else{if(!(16&q)){if((64&q)==0){et=G[(65535&et)+(x&(1<<q)-1)];continue e}if(32&q){h.mode=12;break t}u.msg="invalid literal/length code",h.mode=30;break t}at=65535&et,(q&=15)&&(D<q&&(x+=w[g++]<<D,D+=8),at+=x&(1<<q)-1,x>>>=q,D-=q),D<15&&(x+=w[g++]<<D,D+=8,x+=w[g++]<<D,D+=8),et=U[x&P];n:for(;;){if(x>>>=q=et>>>24,D-=q,!(16&(q=et>>>16&255))){if((64&q)==0){et=U[(65535&et)+(x&(1<<q)-1)];continue n}u.msg="invalid distance code",h.mode=30;break t}if(vt=65535&et,D<(q&=15)&&(x+=w[g++]<<D,(D+=8)<q&&(x+=w[g++]<<D,D+=8)),T<(vt+=x&(1<<q)-1)){u.msg="invalid distance too far back",h.mode=30;break t}if(x>>>=q,D-=q,(q=v-_)<vt){if(C<(q=vt-q)&&h.sane){u.msg="invalid distance too far back",h.mode=30;break t}if(W=M,(B=0)===R){if(B+=b-q,q<at){for(at-=q;it[v++]=M[B++],--q;);B=v-vt,W=it}}else if(R<q){if(B+=b+R-q,(q-=R)<at){for(at-=q;it[v++]=M[B++],--q;);if(B=0,R<at){for(at-=q=R;it[v++]=M[B++],--q;);B=v-vt,W=it}}}else if(B+=R-q,q<at){for(at-=q;it[v++]=M[B++],--q;);B=v-vt,W=it}for(;2<at;)it[v++]=W[B++],it[v++]=W[B++],it[v++]=W[B++],at-=3;at&&(it[v++]=W[B++],1<at&&(it[v++]=W[B++]))}else{for(B=v-vt;it[v++]=it[B++],it[v++]=it[B++],it[v++]=it[B++],2<(at-=3););at&&(it[v++]=it[B++],1<at&&(it[v++]=it[B++]))}break}}break}}while(g<m&&v<S);g-=at=D>>3,x&=(1<<(D-=at<<3))-1,u.next_in=g,u.next_out=v,u.avail_in=g<m?m-g+5:5-(g-m),u.avail_out=v<S?S-v+257:257-(v-S),h.hold=x,h.bits=D}},{}],49:[function(o,a,r){var u=o("../utils/common"),f=o("./adler32"),h=o("./crc32"),g=o("./inffast"),m=o("./inftrees"),v=1,_=2,S=0,T=-2,b=1,C=852,R=592;function M(B){return(B>>>24&255)+(B>>>8&65280)+((65280&B)<<8)+((255&B)<<24)}function x(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new u.Buf16(320),this.work=new u.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function D(B){var W;return B&&B.state?(W=B.state,B.total_in=B.total_out=W.total=0,B.msg="",W.wrap&&(B.adler=1&W.wrap),W.mode=b,W.last=0,W.havedict=0,W.dmax=32768,W.head=null,W.hold=0,W.bits=0,W.lencode=W.lendyn=new u.Buf32(C),W.distcode=W.distdyn=new u.Buf32(R),W.sane=1,W.back=-1,S):T}function G(B){var W;return B&&B.state?((W=B.state).wsize=0,W.whave=0,W.wnext=0,D(B)):T}function U(B,W){var w,it;return B&&B.state?(it=B.state,W<0?(w=0,W=-W):(w=1+(W>>4),W<48&&(W&=15)),W&&(W<8||15<W)?T:(it.window!==null&&it.wbits!==W&&(it.window=null),it.wrap=w,it.wbits=W,G(B))):T}function K(B,W){var w,it;return B?(it=new x,(B.state=it).window=null,(w=U(B,W))!==S&&(B.state=null),w):T}var P,et,q=!0;function at(B){if(q){var W;for(P=new u.Buf32(512),et=new u.Buf32(32),W=0;W<144;)B.lens[W++]=8;for(;W<256;)B.lens[W++]=9;for(;W<280;)B.lens[W++]=7;for(;W<288;)B.lens[W++]=8;for(m(v,B.lens,0,288,P,0,B.work,{bits:9}),W=0;W<32;)B.lens[W++]=5;m(_,B.lens,0,32,et,0,B.work,{bits:5}),q=!1}B.lencode=P,B.lenbits=9,B.distcode=et,B.distbits=5}function vt(B,W,w,it){var J,Y=B.state;return Y.window===null&&(Y.wsize=1<<Y.wbits,Y.wnext=0,Y.whave=0,Y.window=new u.Buf8(Y.wsize)),it>=Y.wsize?(u.arraySet(Y.window,W,w-Y.wsize,Y.wsize,0),Y.wnext=0,Y.whave=Y.wsize):(it<(J=Y.wsize-Y.wnext)&&(J=it),u.arraySet(Y.window,W,w-it,J,Y.wnext),(it-=J)?(u.arraySet(Y.window,W,w-it,it,0),Y.wnext=it,Y.whave=Y.wsize):(Y.wnext+=J,Y.wnext===Y.wsize&&(Y.wnext=0),Y.whave<Y.wsize&&(Y.whave+=J))),0}r.inflateReset=G,r.inflateReset2=U,r.inflateResetKeep=D,r.inflateInit=function(B){return K(B,15)},r.inflateInit2=K,r.inflate=function(B,W){var w,it,J,Y,mt,rt,St,I,L,lt,nt,st,At,It,Nt,wt,ie,te,Ie,xe,A,ct,tt,z,k=0,V=new u.Buf8(4),ht=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!B||!B.state||!B.output||!B.input&&B.avail_in!==0)return T;(w=B.state).mode===12&&(w.mode=13),mt=B.next_out,J=B.output,St=B.avail_out,Y=B.next_in,it=B.input,rt=B.avail_in,I=w.hold,L=w.bits,lt=rt,nt=St,ct=S;t:for(;;)switch(w.mode){case b:if(w.wrap===0){w.mode=13;break}for(;L<16;){if(rt===0)break t;rt--,I+=it[Y++]<<L,L+=8}if(2&w.wrap&&I===35615){V[w.check=0]=255&I,V[1]=I>>>8&255,w.check=h(w.check,V,2,0),L=I=0,w.mode=2;break}if(w.flags=0,w.head&&(w.head.done=!1),!(1&w.wrap)||(((255&I)<<8)+(I>>8))%31){B.msg="incorrect header check",w.mode=30;break}if((15&I)!=8){B.msg="unknown compression method",w.mode=30;break}if(L-=4,A=8+(15&(I>>>=4)),w.wbits===0)w.wbits=A;else if(A>w.wbits){B.msg="invalid window size",w.mode=30;break}w.dmax=1<<A,B.adler=w.check=1,w.mode=512&I?10:12,L=I=0;break;case 2:for(;L<16;){if(rt===0)break t;rt--,I+=it[Y++]<<L,L+=8}if(w.flags=I,(255&w.flags)!=8){B.msg="unknown compression method",w.mode=30;break}if(57344&w.flags){B.msg="unknown header flags set",w.mode=30;break}w.head&&(w.head.text=I>>8&1),512&w.flags&&(V[0]=255&I,V[1]=I>>>8&255,w.check=h(w.check,V,2,0)),L=I=0,w.mode=3;case 3:for(;L<32;){if(rt===0)break t;rt--,I+=it[Y++]<<L,L+=8}w.head&&(w.head.time=I),512&w.flags&&(V[0]=255&I,V[1]=I>>>8&255,V[2]=I>>>16&255,V[3]=I>>>24&255,w.check=h(w.check,V,4,0)),L=I=0,w.mode=4;case 4:for(;L<16;){if(rt===0)break t;rt--,I+=it[Y++]<<L,L+=8}w.head&&(w.head.xflags=255&I,w.head.os=I>>8),512&w.flags&&(V[0]=255&I,V[1]=I>>>8&255,w.check=h(w.check,V,2,0)),L=I=0,w.mode=5;case 5:if(1024&w.flags){for(;L<16;){if(rt===0)break t;rt--,I+=it[Y++]<<L,L+=8}w.length=I,w.head&&(w.head.extra_len=I),512&w.flags&&(V[0]=255&I,V[1]=I>>>8&255,w.check=h(w.check,V,2,0)),L=I=0}else w.head&&(w.head.extra=null);w.mode=6;case 6:if(1024&w.flags&&(rt<(st=w.length)&&(st=rt),st&&(w.head&&(A=w.head.extra_len-w.length,w.head.extra||(w.head.extra=new Array(w.head.extra_len)),u.arraySet(w.head.extra,it,Y,st,A)),512&w.flags&&(w.check=h(w.check,it,st,Y)),rt-=st,Y+=st,w.length-=st),w.length))break t;w.length=0,w.mode=7;case 7:if(2048&w.flags){if(rt===0)break t;for(st=0;A=it[Y+st++],w.head&&A&&w.length<65536&&(w.head.name+=String.fromCharCode(A)),A&&st<rt;);if(512&w.flags&&(w.check=h(w.check,it,st,Y)),rt-=st,Y+=st,A)break t}else w.head&&(w.head.name=null);w.length=0,w.mode=8;case 8:if(4096&w.flags){if(rt===0)break t;for(st=0;A=it[Y+st++],w.head&&A&&w.length<65536&&(w.head.comment+=String.fromCharCode(A)),A&&st<rt;);if(512&w.flags&&(w.check=h(w.check,it,st,Y)),rt-=st,Y+=st,A)break t}else w.head&&(w.head.comment=null);w.mode=9;case 9:if(512&w.flags){for(;L<16;){if(rt===0)break t;rt--,I+=it[Y++]<<L,L+=8}if(I!==(65535&w.check)){B.msg="header crc mismatch",w.mode=30;break}L=I=0}w.head&&(w.head.hcrc=w.flags>>9&1,w.head.done=!0),B.adler=w.check=0,w.mode=12;break;case 10:for(;L<32;){if(rt===0)break t;rt--,I+=it[Y++]<<L,L+=8}B.adler=w.check=M(I),L=I=0,w.mode=11;case 11:if(w.havedict===0)return B.next_out=mt,B.avail_out=St,B.next_in=Y,B.avail_in=rt,w.hold=I,w.bits=L,2;B.adler=w.check=1,w.mode=12;case 12:if(W===5||W===6)break t;case 13:if(w.last){I>>>=7&L,L-=7&L,w.mode=27;break}for(;L<3;){if(rt===0)break t;rt--,I+=it[Y++]<<L,L+=8}switch(w.last=1&I,L-=1,3&(I>>>=1)){case 0:w.mode=14;break;case 1:if(at(w),w.mode=20,W!==6)break;I>>>=2,L-=2;break t;case 2:w.mode=17;break;case 3:B.msg="invalid block type",w.mode=30}I>>>=2,L-=2;break;case 14:for(I>>>=7&L,L-=7&L;L<32;){if(rt===0)break t;rt--,I+=it[Y++]<<L,L+=8}if((65535&I)!=(I>>>16^65535)){B.msg="invalid stored block lengths",w.mode=30;break}if(w.length=65535&I,L=I=0,w.mode=15,W===6)break t;case 15:w.mode=16;case 16:if(st=w.length){if(rt<st&&(st=rt),St<st&&(st=St),st===0)break t;u.arraySet(J,it,Y,st,mt),rt-=st,Y+=st,St-=st,mt+=st,w.length-=st;break}w.mode=12;break;case 17:for(;L<14;){if(rt===0)break t;rt--,I+=it[Y++]<<L,L+=8}if(w.nlen=257+(31&I),I>>>=5,L-=5,w.ndist=1+(31&I),I>>>=5,L-=5,w.ncode=4+(15&I),I>>>=4,L-=4,286<w.nlen||30<w.ndist){B.msg="too many length or distance symbols",w.mode=30;break}w.have=0,w.mode=18;case 18:for(;w.have<w.ncode;){for(;L<3;){if(rt===0)break t;rt--,I+=it[Y++]<<L,L+=8}w.lens[ht[w.have++]]=7&I,I>>>=3,L-=3}for(;w.have<19;)w.lens[ht[w.have++]]=0;if(w.lencode=w.lendyn,w.lenbits=7,tt={bits:w.lenbits},ct=m(0,w.lens,0,19,w.lencode,0,w.work,tt),w.lenbits=tt.bits,ct){B.msg="invalid code lengths set",w.mode=30;break}w.have=0,w.mode=19;case 19:for(;w.have<w.nlen+w.ndist;){for(;wt=(k=w.lencode[I&(1<<w.lenbits)-1])>>>16&255,ie=65535&k,!((Nt=k>>>24)<=L);){if(rt===0)break t;rt--,I+=it[Y++]<<L,L+=8}if(ie<16)I>>>=Nt,L-=Nt,w.lens[w.have++]=ie;else{if(ie===16){for(z=Nt+2;L<z;){if(rt===0)break t;rt--,I+=it[Y++]<<L,L+=8}if(I>>>=Nt,L-=Nt,w.have===0){B.msg="invalid bit length repeat",w.mode=30;break}A=w.lens[w.have-1],st=3+(3&I),I>>>=2,L-=2}else if(ie===17){for(z=Nt+3;L<z;){if(rt===0)break t;rt--,I+=it[Y++]<<L,L+=8}L-=Nt,A=0,st=3+(7&(I>>>=Nt)),I>>>=3,L-=3}else{for(z=Nt+7;L<z;){if(rt===0)break t;rt--,I+=it[Y++]<<L,L+=8}L-=Nt,A=0,st=11+(127&(I>>>=Nt)),I>>>=7,L-=7}if(w.have+st>w.nlen+w.ndist){B.msg="invalid bit length repeat",w.mode=30;break}for(;st--;)w.lens[w.have++]=A}}if(w.mode===30)break;if(w.lens[256]===0){B.msg="invalid code -- missing end-of-block",w.mode=30;break}if(w.lenbits=9,tt={bits:w.lenbits},ct=m(v,w.lens,0,w.nlen,w.lencode,0,w.work,tt),w.lenbits=tt.bits,ct){B.msg="invalid literal/lengths set",w.mode=30;break}if(w.distbits=6,w.distcode=w.distdyn,tt={bits:w.distbits},ct=m(_,w.lens,w.nlen,w.ndist,w.distcode,0,w.work,tt),w.distbits=tt.bits,ct){B.msg="invalid distances set",w.mode=30;break}if(w.mode=20,W===6)break t;case 20:w.mode=21;case 21:if(6<=rt&&258<=St){B.next_out=mt,B.avail_out=St,B.next_in=Y,B.avail_in=rt,w.hold=I,w.bits=L,g(B,nt),mt=B.next_out,J=B.output,St=B.avail_out,Y=B.next_in,it=B.input,rt=B.avail_in,I=w.hold,L=w.bits,w.mode===12&&(w.back=-1);break}for(w.back=0;wt=(k=w.lencode[I&(1<<w.lenbits)-1])>>>16&255,ie=65535&k,!((Nt=k>>>24)<=L);){if(rt===0)break t;rt--,I+=it[Y++]<<L,L+=8}if(wt&&(240&wt)==0){for(te=Nt,Ie=wt,xe=ie;wt=(k=w.lencode[xe+((I&(1<<te+Ie)-1)>>te)])>>>16&255,ie=65535&k,!(te+(Nt=k>>>24)<=L);){if(rt===0)break t;rt--,I+=it[Y++]<<L,L+=8}I>>>=te,L-=te,w.back+=te}if(I>>>=Nt,L-=Nt,w.back+=Nt,w.length=ie,wt===0){w.mode=26;break}if(32&wt){w.back=-1,w.mode=12;break}if(64&wt){B.msg="invalid literal/length code",w.mode=30;break}w.extra=15&wt,w.mode=22;case 22:if(w.extra){for(z=w.extra;L<z;){if(rt===0)break t;rt--,I+=it[Y++]<<L,L+=8}w.length+=I&(1<<w.extra)-1,I>>>=w.extra,L-=w.extra,w.back+=w.extra}w.was=w.length,w.mode=23;case 23:for(;wt=(k=w.distcode[I&(1<<w.distbits)-1])>>>16&255,ie=65535&k,!((Nt=k>>>24)<=L);){if(rt===0)break t;rt--,I+=it[Y++]<<L,L+=8}if((240&wt)==0){for(te=Nt,Ie=wt,xe=ie;wt=(k=w.distcode[xe+((I&(1<<te+Ie)-1)>>te)])>>>16&255,ie=65535&k,!(te+(Nt=k>>>24)<=L);){if(rt===0)break t;rt--,I+=it[Y++]<<L,L+=8}I>>>=te,L-=te,w.back+=te}if(I>>>=Nt,L-=Nt,w.back+=Nt,64&wt){B.msg="invalid distance code",w.mode=30;break}w.offset=ie,w.extra=15&wt,w.mode=24;case 24:if(w.extra){for(z=w.extra;L<z;){if(rt===0)break t;rt--,I+=it[Y++]<<L,L+=8}w.offset+=I&(1<<w.extra)-1,I>>>=w.extra,L-=w.extra,w.back+=w.extra}if(w.offset>w.dmax){B.msg="invalid distance too far back",w.mode=30;break}w.mode=25;case 25:if(St===0)break t;if(st=nt-St,w.offset>st){if((st=w.offset-st)>w.whave&&w.sane){B.msg="invalid distance too far back",w.mode=30;break}At=st>w.wnext?(st-=w.wnext,w.wsize-st):w.wnext-st,st>w.length&&(st=w.length),It=w.window}else It=J,At=mt-w.offset,st=w.length;for(St<st&&(st=St),St-=st,w.length-=st;J[mt++]=It[At++],--st;);w.length===0&&(w.mode=21);break;case 26:if(St===0)break t;J[mt++]=w.length,St--,w.mode=21;break;case 27:if(w.wrap){for(;L<32;){if(rt===0)break t;rt--,I|=it[Y++]<<L,L+=8}if(nt-=St,B.total_out+=nt,w.total+=nt,nt&&(B.adler=w.check=w.flags?h(w.check,J,nt,mt-nt):f(w.check,J,nt,mt-nt)),nt=St,(w.flags?I:M(I))!==w.check){B.msg="incorrect data check",w.mode=30;break}L=I=0}w.mode=28;case 28:if(w.wrap&&w.flags){for(;L<32;){if(rt===0)break t;rt--,I+=it[Y++]<<L,L+=8}if(I!==(4294967295&w.total)){B.msg="incorrect length check",w.mode=30;break}L=I=0}w.mode=29;case 29:ct=1;break t;case 30:ct=-3;break t;case 31:return-4;default:return T}return B.next_out=mt,B.avail_out=St,B.next_in=Y,B.avail_in=rt,w.hold=I,w.bits=L,(w.wsize||nt!==B.avail_out&&w.mode<30&&(w.mode<27||W!==4))&&vt(B,B.output,B.next_out,nt-B.avail_out)?(w.mode=31,-4):(lt-=B.avail_in,nt-=B.avail_out,B.total_in+=lt,B.total_out+=nt,w.total+=nt,w.wrap&&nt&&(B.adler=w.check=w.flags?h(w.check,J,nt,B.next_out-nt):f(w.check,J,nt,B.next_out-nt)),B.data_type=w.bits+(w.last?64:0)+(w.mode===12?128:0)+(w.mode===20||w.mode===15?256:0),(lt==0&&nt===0||W===4)&&ct===S&&(ct=-5),ct)},r.inflateEnd=function(B){if(!B||!B.state)return T;var W=B.state;return W.window&&(W.window=null),B.state=null,S},r.inflateGetHeader=function(B,W){var w;return B&&B.state?(2&(w=B.state).wrap)==0?T:((w.head=W).done=!1,S):T},r.inflateSetDictionary=function(B,W){var w,it=W.length;return B&&B.state?(w=B.state).wrap!==0&&w.mode!==11?T:w.mode===11&&f(1,W,it,0)!==w.check?-3:vt(B,W,it,it)?(w.mode=31,-4):(w.havedict=1,S):T},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(o,a,r){var u=o("../utils/common"),f=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],g=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];a.exports=function(v,_,S,T,b,C,R,M){var x,D,G,U,K,P,et,q,at,vt=M.bits,B=0,W=0,w=0,it=0,J=0,Y=0,mt=0,rt=0,St=0,I=0,L=null,lt=0,nt=new u.Buf16(16),st=new u.Buf16(16),At=null,It=0;for(B=0;B<=15;B++)nt[B]=0;for(W=0;W<T;W++)nt[_[S+W]]++;for(J=vt,it=15;1<=it&&nt[it]===0;it--);if(it<J&&(J=it),it===0)return b[C++]=20971520,b[C++]=20971520,M.bits=1,0;for(w=1;w<it&&nt[w]===0;w++);for(J<w&&(J=w),B=rt=1;B<=15;B++)if(rt<<=1,(rt-=nt[B])<0)return-1;if(0<rt&&(v===0||it!==1))return-1;for(st[1]=0,B=1;B<15;B++)st[B+1]=st[B]+nt[B];for(W=0;W<T;W++)_[S+W]!==0&&(R[st[_[S+W]]++]=W);if(P=v===0?(L=At=R,19):v===1?(L=f,lt-=257,At=h,It-=257,256):(L=g,At=m,-1),B=w,K=C,mt=W=I=0,G=-1,U=(St=1<<(Y=J))-1,v===1&&852<St||v===2&&592<St)return 1;for(;;){for(et=B-mt,at=R[W]<P?(q=0,R[W]):R[W]>P?(q=At[It+R[W]],L[lt+R[W]]):(q=96,0),x=1<<B-mt,w=D=1<<Y;b[K+(I>>mt)+(D-=x)]=et<<24|q<<16|at|0,D!==0;);for(x=1<<B-1;I&x;)x>>=1;if(x!==0?(I&=x-1,I+=x):I=0,W++,--nt[B]==0){if(B===it)break;B=_[S+R[W]]}if(J<B&&(I&U)!==G){for(mt===0&&(mt=J),K+=w,rt=1<<(Y=B-mt);Y+mt<it&&!((rt-=nt[Y+mt])<=0);)Y++,rt<<=1;if(St+=1<<Y,v===1&&852<St||v===2&&592<St)return 1;b[G=I&U]=J<<24|Y<<16|K-C|0}}return I!==0&&(b[K+I]=B-mt<<24|64<<16|0),M.bits=J,0}},{"../utils/common":41}],51:[function(o,a,r){a.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(o,a,r){var u=o("../utils/common"),f=0,h=1;function g(k){for(var V=k.length;0<=--V;)k[V]=0}var m=0,v=29,_=256,S=_+1+v,T=30,b=19,C=2*S+1,R=15,M=16,x=7,D=256,G=16,U=17,K=18,P=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],et=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],at=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],vt=new Array(2*(S+2));g(vt);var B=new Array(2*T);g(B);var W=new Array(512);g(W);var w=new Array(256);g(w);var it=new Array(v);g(it);var J,Y,mt,rt=new Array(T);function St(k,V,ht,pt,Q){this.static_tree=k,this.extra_bits=V,this.extra_base=ht,this.elems=pt,this.max_length=Q,this.has_stree=k&&k.length}function I(k,V){this.dyn_tree=k,this.max_code=0,this.stat_desc=V}function L(k){return k<256?W[k]:W[256+(k>>>7)]}function lt(k,V){k.pending_buf[k.pending++]=255&V,k.pending_buf[k.pending++]=V>>>8&255}function nt(k,V,ht){k.bi_valid>M-ht?(k.bi_buf|=V<<k.bi_valid&65535,lt(k,k.bi_buf),k.bi_buf=V>>M-k.bi_valid,k.bi_valid+=ht-M):(k.bi_buf|=V<<k.bi_valid&65535,k.bi_valid+=ht)}function st(k,V,ht){nt(k,ht[2*V],ht[2*V+1])}function At(k,V){for(var ht=0;ht|=1&k,k>>>=1,ht<<=1,0<--V;);return ht>>>1}function It(k,V,ht){var pt,Q,gt=new Array(R+1),_t=0;for(pt=1;pt<=R;pt++)gt[pt]=_t=_t+ht[pt-1]<<1;for(Q=0;Q<=V;Q++){var yt=k[2*Q+1];yt!==0&&(k[2*Q]=At(gt[yt]++,yt))}}function Nt(k){var V;for(V=0;V<S;V++)k.dyn_ltree[2*V]=0;for(V=0;V<T;V++)k.dyn_dtree[2*V]=0;for(V=0;V<b;V++)k.bl_tree[2*V]=0;k.dyn_ltree[2*D]=1,k.opt_len=k.static_len=0,k.last_lit=k.matches=0}function wt(k){8<k.bi_valid?lt(k,k.bi_buf):0<k.bi_valid&&(k.pending_buf[k.pending++]=k.bi_buf),k.bi_buf=0,k.bi_valid=0}function ie(k,V,ht,pt){var Q=2*V,gt=2*ht;return k[Q]<k[gt]||k[Q]===k[gt]&&pt[V]<=pt[ht]}function te(k,V,ht){for(var pt=k.heap[ht],Q=ht<<1;Q<=k.heap_len&&(Q<k.heap_len&&ie(V,k.heap[Q+1],k.heap[Q],k.depth)&&Q++,!ie(V,pt,k.heap[Q],k.depth));)k.heap[ht]=k.heap[Q],ht=Q,Q<<=1;k.heap[ht]=pt}function Ie(k,V,ht){var pt,Q,gt,_t,yt=0;if(k.last_lit!==0)for(;pt=k.pending_buf[k.d_buf+2*yt]<<8|k.pending_buf[k.d_buf+2*yt+1],Q=k.pending_buf[k.l_buf+yt],yt++,pt===0?st(k,Q,V):(st(k,(gt=w[Q])+_+1,V),(_t=P[gt])!==0&&nt(k,Q-=it[gt],_t),st(k,gt=L(--pt),ht),(_t=et[gt])!==0&&nt(k,pt-=rt[gt],_t)),yt<k.last_lit;);st(k,D,V)}function xe(k,V){var ht,pt,Q,gt=V.dyn_tree,_t=V.stat_desc.static_tree,yt=V.stat_desc.has_stree,Rt=V.stat_desc.elems,Jt=-1;for(k.heap_len=0,k.heap_max=C,ht=0;ht<Rt;ht++)gt[2*ht]!==0?(k.heap[++k.heap_len]=Jt=ht,k.depth[ht]=0):gt[2*ht+1]=0;for(;k.heap_len<2;)gt[2*(Q=k.heap[++k.heap_len]=Jt<2?++Jt:0)]=1,k.depth[Q]=0,k.opt_len--,yt&&(k.static_len-=_t[2*Q+1]);for(V.max_code=Jt,ht=k.heap_len>>1;1<=ht;ht--)te(k,gt,ht);for(Q=Rt;ht=k.heap[1],k.heap[1]=k.heap[k.heap_len--],te(k,gt,1),pt=k.heap[1],k.heap[--k.heap_max]=ht,k.heap[--k.heap_max]=pt,gt[2*Q]=gt[2*ht]+gt[2*pt],k.depth[Q]=(k.depth[ht]>=k.depth[pt]?k.depth[ht]:k.depth[pt])+1,gt[2*ht+1]=gt[2*pt+1]=Q,k.heap[1]=Q++,te(k,gt,1),2<=k.heap_len;);k.heap[--k.heap_max]=k.heap[1],(function(zt,De){var Yn,Ze,vi,Wt,ge,Qe,le=De.dyn_tree,xl=De.max_code,dr=De.stat_desc.static_tree,hr=De.stat_desc.has_stree,Hi=De.stat_desc.extra_bits,_i=De.stat_desc.extra_base,_n=De.stat_desc.max_length,$e=0;for(Wt=0;Wt<=R;Wt++)zt.bl_count[Wt]=0;for(le[2*zt.heap[zt.heap_max]+1]=0,Yn=zt.heap_max+1;Yn<C;Yn++)_n<(Wt=le[2*le[2*(Ze=zt.heap[Yn])+1]+1]+1)&&(Wt=_n,$e++),le[2*Ze+1]=Wt,xl<Ze||(zt.bl_count[Wt]++,ge=0,_i<=Ze&&(ge=Hi[Ze-_i]),Qe=le[2*Ze],zt.opt_len+=Qe*(Wt+ge),hr&&(zt.static_len+=Qe*(dr[2*Ze+1]+ge)));if($e!==0){do{for(Wt=_n-1;zt.bl_count[Wt]===0;)Wt--;zt.bl_count[Wt]--,zt.bl_count[Wt+1]+=2,zt.bl_count[_n]--,$e-=2}while(0<$e);for(Wt=_n;Wt!==0;Wt--)for(Ze=zt.bl_count[Wt];Ze!==0;)xl<(vi=zt.heap[--Yn])||(le[2*vi+1]!==Wt&&(zt.opt_len+=(Wt-le[2*vi+1])*le[2*vi],le[2*vi+1]=Wt),Ze--)}})(k,V),It(gt,Jt,k.bl_count)}function A(k,V,ht){var pt,Q,gt=-1,_t=V[1],yt=0,Rt=7,Jt=4;for(_t===0&&(Rt=138,Jt=3),V[2*(ht+1)+1]=65535,pt=0;pt<=ht;pt++)Q=_t,_t=V[2*(pt+1)+1],++yt<Rt&&Q===_t||(yt<Jt?k.bl_tree[2*Q]+=yt:Q!==0?(Q!==gt&&k.bl_tree[2*Q]++,k.bl_tree[2*G]++):yt<=10?k.bl_tree[2*U]++:k.bl_tree[2*K]++,gt=Q,Jt=(yt=0)===_t?(Rt=138,3):Q===_t?(Rt=6,3):(Rt=7,4))}function ct(k,V,ht){var pt,Q,gt=-1,_t=V[1],yt=0,Rt=7,Jt=4;for(_t===0&&(Rt=138,Jt=3),pt=0;pt<=ht;pt++)if(Q=_t,_t=V[2*(pt+1)+1],!(++yt<Rt&&Q===_t)){if(yt<Jt)for(;st(k,Q,k.bl_tree),--yt!=0;);else Q!==0?(Q!==gt&&(st(k,Q,k.bl_tree),yt--),st(k,G,k.bl_tree),nt(k,yt-3,2)):yt<=10?(st(k,U,k.bl_tree),nt(k,yt-3,3)):(st(k,K,k.bl_tree),nt(k,yt-11,7));gt=Q,Jt=(yt=0)===_t?(Rt=138,3):Q===_t?(Rt=6,3):(Rt=7,4)}}g(rt);var tt=!1;function z(k,V,ht,pt){nt(k,(m<<1)+(pt?1:0),3),(function(Q,gt,_t,yt){wt(Q),lt(Q,_t),lt(Q,~_t),u.arraySet(Q.pending_buf,Q.window,gt,_t,Q.pending),Q.pending+=_t})(k,V,ht)}r._tr_init=function(k){tt||((function(){var V,ht,pt,Q,gt,_t=new Array(R+1);for(Q=pt=0;Q<v-1;Q++)for(it[Q]=pt,V=0;V<1<<P[Q];V++)w[pt++]=Q;for(w[pt-1]=Q,Q=gt=0;Q<16;Q++)for(rt[Q]=gt,V=0;V<1<<et[Q];V++)W[gt++]=Q;for(gt>>=7;Q<T;Q++)for(rt[Q]=gt<<7,V=0;V<1<<et[Q]-7;V++)W[256+gt++]=Q;for(ht=0;ht<=R;ht++)_t[ht]=0;for(V=0;V<=143;)vt[2*V+1]=8,V++,_t[8]++;for(;V<=255;)vt[2*V+1]=9,V++,_t[9]++;for(;V<=279;)vt[2*V+1]=7,V++,_t[7]++;for(;V<=287;)vt[2*V+1]=8,V++,_t[8]++;for(It(vt,S+1,_t),V=0;V<T;V++)B[2*V+1]=5,B[2*V]=At(V,5);J=new St(vt,P,_+1,S,R),Y=new St(B,et,0,T,R),mt=new St(new Array(0),q,0,b,x)})(),tt=!0),k.l_desc=new I(k.dyn_ltree,J),k.d_desc=new I(k.dyn_dtree,Y),k.bl_desc=new I(k.bl_tree,mt),k.bi_buf=0,k.bi_valid=0,Nt(k)},r._tr_stored_block=z,r._tr_flush_block=function(k,V,ht,pt){var Q,gt,_t=0;0<k.level?(k.strm.data_type===2&&(k.strm.data_type=(function(yt){var Rt,Jt=4093624447;for(Rt=0;Rt<=31;Rt++,Jt>>>=1)if(1&Jt&&yt.dyn_ltree[2*Rt]!==0)return f;if(yt.dyn_ltree[18]!==0||yt.dyn_ltree[20]!==0||yt.dyn_ltree[26]!==0)return h;for(Rt=32;Rt<_;Rt++)if(yt.dyn_ltree[2*Rt]!==0)return h;return f})(k)),xe(k,k.l_desc),xe(k,k.d_desc),_t=(function(yt){var Rt;for(A(yt,yt.dyn_ltree,yt.l_desc.max_code),A(yt,yt.dyn_dtree,yt.d_desc.max_code),xe(yt,yt.bl_desc),Rt=b-1;3<=Rt&&yt.bl_tree[2*at[Rt]+1]===0;Rt--);return yt.opt_len+=3*(Rt+1)+5+5+4,Rt})(k),Q=k.opt_len+3+7>>>3,(gt=k.static_len+3+7>>>3)<=Q&&(Q=gt)):Q=gt=ht+5,ht+4<=Q&&V!==-1?z(k,V,ht,pt):k.strategy===4||gt===Q?(nt(k,2+(pt?1:0),3),Ie(k,vt,B)):(nt(k,4+(pt?1:0),3),(function(yt,Rt,Jt,zt){var De;for(nt(yt,Rt-257,5),nt(yt,Jt-1,5),nt(yt,zt-4,4),De=0;De<zt;De++)nt(yt,yt.bl_tree[2*at[De]+1],3);ct(yt,yt.dyn_ltree,Rt-1),ct(yt,yt.dyn_dtree,Jt-1)})(k,k.l_desc.max_code+1,k.d_desc.max_code+1,_t+1),Ie(k,k.dyn_ltree,k.dyn_dtree)),Nt(k),pt&&wt(k)},r._tr_tally=function(k,V,ht){return k.pending_buf[k.d_buf+2*k.last_lit]=V>>>8&255,k.pending_buf[k.d_buf+2*k.last_lit+1]=255&V,k.pending_buf[k.l_buf+k.last_lit]=255&ht,k.last_lit++,V===0?k.dyn_ltree[2*ht]++:(k.matches++,V--,k.dyn_ltree[2*(w[ht]+_+1)]++,k.dyn_dtree[2*L(V)]++),k.last_lit===k.lit_bufsize-1},r._tr_align=function(k){nt(k,2,3),st(k,D,vt),(function(V){V.bi_valid===16?(lt(V,V.bi_buf),V.bi_buf=0,V.bi_valid=0):8<=V.bi_valid&&(V.pending_buf[V.pending++]=255&V.bi_buf,V.bi_buf>>=8,V.bi_valid-=8)})(k)}},{"../utils/common":41}],53:[function(o,a,r){a.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(o,a,r){(function(u){(function(f,h){if(!f.setImmediate){var g,m,v,_,S=1,T={},b=!1,C=f.document,R=Object.getPrototypeOf&&Object.getPrototypeOf(f);R=R&&R.setTimeout?R:f,g={}.toString.call(f.process)==="[object process]"?function(G){process.nextTick(function(){x(G)})}:(function(){if(f.postMessage&&!f.importScripts){var G=!0,U=f.onmessage;return f.onmessage=function(){G=!1},f.postMessage("","*"),f.onmessage=U,G}})()?(_="setImmediate$"+Math.random()+"$",f.addEventListener?f.addEventListener("message",D,!1):f.attachEvent("onmessage",D),function(G){f.postMessage(_+G,"*")}):f.MessageChannel?((v=new MessageChannel).port1.onmessage=function(G){x(G.data)},function(G){v.port2.postMessage(G)}):C&&"onreadystatechange"in C.createElement("script")?(m=C.documentElement,function(G){var U=C.createElement("script");U.onreadystatechange=function(){x(G),U.onreadystatechange=null,m.removeChild(U),U=null},m.appendChild(U)}):function(G){setTimeout(x,0,G)},R.setImmediate=function(G){typeof G!="function"&&(G=new Function(""+G));for(var U=new Array(arguments.length-1),K=0;K<U.length;K++)U[K]=arguments[K+1];var P={callback:G,args:U};return T[S]=P,g(S),S++},R.clearImmediate=M}function M(G){delete T[G]}function x(G){if(b)setTimeout(x,0,G);else{var U=T[G];if(U){b=!0;try{(function(K){var P=K.callback,et=K.args;switch(et.length){case 0:P();break;case 1:P(et[0]);break;case 2:P(et[0],et[1]);break;case 3:P(et[0],et[1],et[2]);break;default:P.apply(h,et)}})(U)}finally{M(G),b=!1}}}}function D(G){G.source===f&&typeof G.data=="string"&&G.data.indexOf(_)===0&&x(+G.data.slice(_.length))}})(typeof self>"u"?u===void 0?this:u:self)}).call(this,typeof Ya<"u"?Ya:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Du)),Du.exports}var R_=A_();const b_=a0(R_),w_="_container_alum6_1",M_="_header_alum6_21",N_="_targetInfo_alum6_39",I_="_badge_alum6_49",x_="_actions_alum6_69",D_="_main_alum6_79",U_="_imageSection_alum6_97",k_="_imageContainer_alum6_109",L_="_generatedImage_alum6_135",z_="_placeholder_alum6_147",G_="_placeholderIcon_alum6_163",B_="_loader_alum6_171",H_="_imageActions_alum6_213",O_="_generateButton_alum6_223",P_="_downloadButton_alum6_257",q_="_spin_alum6_319",V_="_detailsSection_alum6_349",F_="_slideHeader_alum6_361",Y_="_slideTitle_alum6_377",J_="_emotionTag_alum6_385",K_="_detailGroup_alum6_403",X_="_dialogueText_alum6_427",Z_="_narrationText_alum6_447",Q_="_promptText_alum6_461",$_="_navigation_alum6_481",W_="_navButton_alum6_495",j_="_thumbnails_alum6_539",tS="_thumbBtn_alum6_549",eS="_activeThumb_alum6_585",nS="_thumbIndicator_alum6_597",Lt={container:w_,header:M_,targetInfo:N_,badge:I_,actions:x_,main:D_,imageSection:U_,imageContainer:k_,generatedImage:L_,placeholder:z_,placeholderIcon:G_,loader:B_,imageActions:H_,generateButton:O_,downloadButton:P_,spin:q_,detailsSection:V_,slideHeader:F_,slideTitle:Y_,emotionTag:J_,detailGroup:K_,dialogueText:X_,narrationText:Z_,promptText:Q_,navigation:$_,navButton:W_,thumbnails:j_,thumbBtn:tS,activeThumb:eS,thumbIndicator:nS},iS=({story:i,images:n,loadingImages:o,onGenerateImage:a,onGenerateAll:r,onReset:u})=>{const[f,h]=ae.useState(0),g=i.slides[f],m=()=>{f<i.slides.length-1&&h(C=>C+1)},v=()=>{f>0&&h(C=>C-1)},_=()=>{const C=n[g.id];if(!C)return;const R=document.createElement("a");R.href=C,R.download=`slide_${g.id}.png`,document.body.appendChild(R),R.click(),document.body.removeChild(R)},S=async()=>{const C=new b_;let R=0;if(i.slides.forEach(D=>{const G=n[D.id];if(G){const U=G.replace(/^data:image\/(png|jpg|jpeg);base64,/,"");C.file(`slide_${D.id}.png`,U,{base64:!0}),R++}}),R===0){alert("");return}const M=await C.generateAsync({type:"blob"}),x=document.createElement("a");x.href=URL.createObjectURL(M),x.download="instagram_manga_images.zip",document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(x.href)},T=n[g.id],b=o[g.id];return dt.jsxs("div",{className:Lt.container,children:[dt.jsxs("div",{className:`${Lt.header} glass-card`,children:[dt.jsxs("div",{className:Lt.targetInfo,children:[dt.jsxs("span",{className:Lt.badge,children:[": ",i.target.persona," (",i.target.age,")"]}),dt.jsxs("span",{className:Lt.badge,children:[": ",i.target.mainConcern]})]}),dt.jsxs("div",{className:Lt.actions,children:[dt.jsxs("button",{className:Lt.secondaryButton,onClick:r,children:[dt.jsx(Nl,{size:16})," "]}),Object.keys(n).length>0&&dt.jsxs("button",{className:Lt.secondaryButton,onClick:S,title:"",children:[dt.jsx(L0,{size:16})," "]}),dt.jsx("button",{className:Lt.textButton,onClick:u,children:""})]})]}),dt.jsxs("div",{className:`${Lt.main} glass-card`,children:[dt.jsxs("div",{className:Lt.imageSection,children:[dt.jsxs("div",{className:Lt.imageContainer,children:[T?dt.jsx("img",{src:T,alt:`Slide ${g.id}`,className:Lt.generatedImage}):dt.jsx("div",{className:Lt.placeholder,children:b?dt.jsx("div",{className:Lt.loader,children:"..."}):dt.jsxs(dt.Fragment,{children:[dt.jsx(x0,{size:48,className:Lt.placeholderIcon}),dt.jsx("p",{children:""})]})}),dt.jsx("div",{className:Lt.overlayText,children:dt.jsx("div",{className:Lt.speechBubble,children:g.dialogue})})]}),dt.jsxs("div",{className:Lt.imageActions,children:[dt.jsxs("button",{className:Lt.generateButton,onClick:()=>a(g.id),disabled:b,children:[b?dt.jsx(H0,{className:Lt.spin}):dt.jsx(Nl,{}),T?"":""]}),T&&dt.jsx("button",{className:Lt.downloadButton,onClick:_,title:"",children:dt.jsx(N0,{size:20})})]})]}),dt.jsxs("div",{className:Lt.detailsSection,children:[dt.jsxs("div",{className:Lt.slideHeader,children:[dt.jsxs("h3",{className:Lt.slideTitle,children:[" ",g.id,": ",g.title]}),dt.jsx("span",{className:Lt.emotionTag,children:g.emotion})]}),dt.jsxs("div",{className:Lt.detailGroup,children:[dt.jsx("h4",{children:""}),dt.jsx("p",{children:g.composition})]}),dt.jsxs("div",{className:Lt.detailGroup,children:[dt.jsx("h4",{children:""}),dt.jsx("p",{children:g.characters})]}),dt.jsxs("div",{className:Lt.detailGroup,children:[dt.jsx("h4",{children:" ()"}),dt.jsxs("p",{className:Lt.dialogueText,children:["",g.dialogue,""]})]}),g.narration&&dt.jsxs("div",{className:Lt.detailGroup,children:[dt.jsx("h4",{children:""}),dt.jsx("p",{className:Lt.narrationText,children:g.narration})]}),dt.jsxs("div",{className:Lt.detailGroup,children:[dt.jsx("h4",{children:" ()"}),dt.jsx("p",{className:Lt.promptText,children:g.imagePrompt})]})]})]}),dt.jsxs("div",{className:Lt.navigation,children:[dt.jsxs("button",{className:Lt.navButton,onClick:v,disabled:f===0,children:[dt.jsx(C0,{})," "]}),dt.jsx("div",{className:Lt.thumbnails,children:i.slides.map((C,R)=>dt.jsxs("button",{className:`${Lt.thumbBtn} ${R===f?Lt.activeThumb:""}`,onClick:()=>h(R),children:[C.id,n[C.id]&&dt.jsx("span",{className:Lt.thumbIndicator,children:""})]},C.id))}),dt.jsxs("button",{className:Lt.navButton,onClick:m,disabled:f===i.slides.length-1,children:[" ",dt.jsx(R0,{})]})]})]})};var oS={};let lS,aS;function rS(){return{geminiUrl:lS,vertexUrl:aS}}function sS(i,n,o,a){var r,u;if(!i?.baseUrl){const f=rS();return n?(r=f.vertexUrl)!==null&&r!==void 0?r:o:(u=f.geminiUrl)!==null&&u!==void 0?u:a}return i.baseUrl}class Vn{}function Tt(i,n){const o=/\{([^}]+)\}/g;return i.replace(o,(a,r)=>{if(Object.prototype.hasOwnProperty.call(n,r)){const u=n[r];return u!=null?String(u):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function d(i,n,o){for(let u=0;u<n.length-1;u++){const f=n[u];if(f.endsWith("[]")){const h=f.slice(0,-2);if(!(h in i))if(Array.isArray(o))i[h]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${f}`);if(Array.isArray(i[h])){const g=i[h];if(Array.isArray(o))for(let m=0;m<g.length;m++){const v=g[m];d(v,n.slice(u+1),o[m])}else for(const m of g)d(m,n.slice(u+1),o)}return}else if(f.endsWith("[0]")){const h=f.slice(0,-3);h in i||(i[h]=[{}]);const g=i[h];d(g[0],n.slice(u+1),o);return}(!i[f]||typeof i[f]!="object")&&(i[f]={}),i=i[f]}const a=n[n.length-1],r=i[a];if(r!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===r)return;if(typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null)Object.assign(r,o);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[a]=o}function c(i,n,o=void 0){try{if(n.length===1&&n[0]==="_self")return i;for(let a=0;a<n.length;a++){if(typeof i!="object"||i===null)return o;const r=n[a];if(r.endsWith("[]")){const u=r.slice(0,-2);if(u in i){const f=i[u];return Array.isArray(f)?f.map(h=>c(h,n.slice(a+1),o)):o}else return o}else i=i[r]}return i}catch(a){if(a instanceof TypeError)return o;throw a}}function uS(i,n){for(const[o,a]of Object.entries(n)){const r=o.split("."),u=a.split("."),f=new Set;let h=-1;for(let g=0;g<r.length;g++)if(r[g]==="*"){h=g;break}if(h!==-1&&u.length>h)for(let g=h;g<u.length;g++){const m=u[g];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&f.add(m)}zu(i,r,u,0,f)}}function zu(i,n,o,a,r){if(a>=n.length||typeof i!="object"||i===null)return;const u=n[a];if(u.endsWith("[]")){const f=u.slice(0,-2),h=i;if(f in h&&Array.isArray(h[f]))for(const g of h[f])zu(g,n,o,a+1,r)}else if(u==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const f=i,h=Object.keys(f).filter(m=>!m.startsWith("_")&&!r.has(m)),g={};for(const m of h)g[m]=f[m];for(const[m,v]of Object.entries(g)){const _=[];for(const S of o.slice(a))S==="*"?_.push(m):_.push(S);d(f,_,v)}for(const m of h)delete f[m]}}else{const f=i;u in f&&zu(f[u],n,o,a+1,r)}}function Wu(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}function cS(i){const n={},o=c(i,["operationName"]);o!=null&&d(n,["operationName"],o);const a=c(i,["resourceName"]);return a!=null&&d(n,["_url","resourceName"],a),n}function fS(i){const n={},o=c(i,["name"]);o!=null&&d(n,["name"],o);const a=c(i,["metadata"]);a!=null&&d(n,["metadata"],a);const r=c(i,["done"]);r!=null&&d(n,["done"],r);const u=c(i,["error"]);u!=null&&d(n,["error"],u);const f=c(i,["response","generateVideoResponse"]);return f!=null&&d(n,["response"],hS(f)),n}function dS(i){const n={},o=c(i,["name"]);o!=null&&d(n,["name"],o);const a=c(i,["metadata"]);a!=null&&d(n,["metadata"],a);const r=c(i,["done"]);r!=null&&d(n,["done"],r);const u=c(i,["error"]);u!=null&&d(n,["error"],u);const f=c(i,["response"]);return f!=null&&d(n,["response"],pS(f)),n}function hS(i){const n={},o=c(i,["generatedSamples"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>mS(f))),d(n,["generatedVideos"],u)}const a=c(i,["raiMediaFilteredCount"]);a!=null&&d(n,["raiMediaFilteredCount"],a);const r=c(i,["raiMediaFilteredReasons"]);return r!=null&&d(n,["raiMediaFilteredReasons"],r),n}function pS(i){const n={},o=c(i,["videos"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>gS(f))),d(n,["generatedVideos"],u)}const a=c(i,["raiMediaFilteredCount"]);a!=null&&d(n,["raiMediaFilteredCount"],a);const r=c(i,["raiMediaFilteredReasons"]);return r!=null&&d(n,["raiMediaFilteredReasons"],r),n}function mS(i){const n={},o=c(i,["video"]);return o!=null&&d(n,["video"],ES(o)),n}function gS(i){const n={},o=c(i,["_self"]);return o!=null&&d(n,["video"],CS(o)),n}function yS(i){const n={},o=c(i,["operationName"]);return o!=null&&d(n,["_url","operationName"],o),n}function vS(i){const n={},o=c(i,["operationName"]);return o!=null&&d(n,["_url","operationName"],o),n}function _S(i){const n={},o=c(i,["name"]);o!=null&&d(n,["name"],o);const a=c(i,["metadata"]);a!=null&&d(n,["metadata"],a);const r=c(i,["done"]);r!=null&&d(n,["done"],r);const u=c(i,["error"]);u!=null&&d(n,["error"],u);const f=c(i,["response"]);return f!=null&&d(n,["response"],SS(f)),n}function SS(i){const n={},o=c(i,["sdkHttpResponse"]);o!=null&&d(n,["sdkHttpResponse"],o);const a=c(i,["parent"]);a!=null&&d(n,["parent"],a);const r=c(i,["documentName"]);return r!=null&&d(n,["documentName"],r),n}function tg(i){const n={},o=c(i,["name"]);o!=null&&d(n,["name"],o);const a=c(i,["metadata"]);a!=null&&d(n,["metadata"],a);const r=c(i,["done"]);r!=null&&d(n,["done"],r);const u=c(i,["error"]);u!=null&&d(n,["error"],u);const f=c(i,["response"]);return f!=null&&d(n,["response"],TS(f)),n}function TS(i){const n={},o=c(i,["sdkHttpResponse"]);o!=null&&d(n,["sdkHttpResponse"],o);const a=c(i,["parent"]);a!=null&&d(n,["parent"],a);const r=c(i,["documentName"]);return r!=null&&d(n,["documentName"],r),n}function ES(i){const n={},o=c(i,["uri"]);o!=null&&d(n,["uri"],o);const a=c(i,["encodedVideo"]);a!=null&&d(n,["videoBytes"],Wu(a));const r=c(i,["encoding"]);return r!=null&&d(n,["mimeType"],r),n}function CS(i){const n={},o=c(i,["gcsUri"]);o!=null&&d(n,["uri"],o);const a=c(i,["bytesBase64Encoded"]);a!=null&&d(n,["videoBytes"],Wu(a));const r=c(i,["mimeType"]);return r!=null&&d(n,["mimeType"],r),n}var Sp;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Sp||(Sp={}));var Tp;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(Tp||(Tp={}));var Ep;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(Ep||(Ep={}));var gi;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(gi||(gi={}));var Cp;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Cp||(Cp={}));var Ap;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(Ap||(Ap={}));var Rp;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Rp||(Rp={}));var bp;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(bp||(bp={}));var wp;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(wp||(wp={}));var Mp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Mp||(Mp={}));var Np;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(Np||(Np={}));var Ip;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(Ip||(Ip={}));var xp;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(xp||(xp={}));var Dp;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(Dp||(Dp={}));var Up;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(Up||(Up={}));var kp;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(kp||(kp={}));var Lp;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Lp||(Lp={}));var zp;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(zp||(zp={}));var Gp;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Gp||(Gp={}));var Bp;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(Bp||(Bp={}));var Hp;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Hp||(Hp={}));var tr;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(tr||(tr={}));var Op;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Op||(Op={}));var Pp;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Pp||(Pp={}));var qp;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(qp||(qp={}));var Gu;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Gu||(Gu={}));var Vp;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Vp||(Vp={}));var Fp;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Fp||(Fp={}));var Bu;(function(i){i.COLLECTION="COLLECTION"})(Bu||(Bu={}));var Yp;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Yp||(Yp={}));var Jp;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Jp||(Jp={}));var Kp;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Kp||(Kp={}));var Xp;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Xp||(Xp={}));var Zp;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(Zp||(Zp={}));var Qp;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Qp||(Qp={}));var $p;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})($p||($p={}));var Wp;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Wp||(Wp={}));var jp;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(jp||(jp={}));var tm;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(tm||(tm={}));var em;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(em||(em={}));var nm;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(nm||(nm={}));var im;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(im||(im={}));var om;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING",i.DISTILLATION="DISTILLATION"})(om||(om={}));var lm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(lm||(lm={}));var am;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(am||(am={}));var rm;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(rm||(rm={}));var sm;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(sm||(sm={}));var um;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(um||(um={}));var cm;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(cm||(cm={}));var fm;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.ACTIVITY_START="ACTIVITY_START",i.ACTIVITY_END="ACTIVITY_END"})(fm||(fm={}));var dm;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(dm||(dm={}));var hm;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(hm||(hm={}));var pm;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(pm||(pm={}));var mm;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(mm||(mm={}));var gm;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(gm||(gm={}));var ym;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(ym||(ym={}));var bo;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(bo||(bo={}));class Hu{constructor(n){const o={};for(const a of n.headers.entries())o[a[0]]=a[1];this.headers=o,this.responseInternal=n}json(){return this.responseInternal.json()}}class bl{get text(){var n,o,a,r,u,f,h,g;if(((r=(a=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",v=!1;const _=[];for(const S of(g=(h=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||h===void 0?void 0:h.parts)!==null&&g!==void 0?g:[]){for(const[T,b]of Object.entries(S))T!=="text"&&T!=="thought"&&T!=="thoughtSignature"&&(b!==null||b!==void 0)&&_.push(T);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;v=!0,m+=S.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?m:void 0}get data(){var n,o,a,r,u,f,h,g;if(((r=(a=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const v=[];for(const _ of(g=(h=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||h===void 0?void 0:h.parts)!==null&&g!==void 0?g:[]){for(const[S,T]of Object.entries(_))S!=="inlineData"&&(T!==null||T!==void 0)&&v.push(S);_.inlineData&&typeof _.inlineData.data=="string"&&(m+=atob(_.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var n,o,a,r,u,f,h,g;if(((r=(a=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(g=(h=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if(m?.length!==0)return m}get executableCode(){var n,o,a,r,u,f,h,g,m;if(((r=(a=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(g=(h=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if(v?.length!==0)return(m=v?.[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var n,o,a,r,u,f,h,g,m;if(((r=(a=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(g=(h=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if(v?.length!==0)return(m=v?.[0])===null||m===void 0?void 0:m.output}}class vm{}class _m{}class AS{}class RS{}class bS{}class wS{}class Sm{}class Tm{}class Em{}class MS{}class er{_fromAPIResponse({apiResponse:n,_isVertexAI:o}){const a=new er;let r;const u=n;return o?r=dS(u):r=fS(u),Object.assign(a,r),a}}class Cm{}class Am{}class Rm{}class bm{}class NS{}class IS{}class xS{}class ju{_fromAPIResponse({apiResponse:n,_isVertexAI:o}){const a=new ju,u=_S(n);return Object.assign(a,u),a}}class DS{}class US{}class kS{}class LS{}class wm{}class zS{get text(){var n,o,a;let r="",u=!1;const f=[];for(const h of(a=(o=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[g,m]of Object.entries(h))g!=="text"&&g!=="thought"&&m!==null&&f.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;u=!0,r+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?r:void 0}get data(){var n,o,a;let r="";const u=[];for(const f of(a=(o=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[h,g]of Object.entries(f))h!=="inlineData"&&g!==null&&u.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(r+=atob(f.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class GS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class tc{_fromAPIResponse({apiResponse:n,_isVertexAI:o}){const a=new tc,u=tg(n);return Object.assign(a,u),a}}function Ft(i,n){if(!n||typeof n!="string")throw new Error("model is required and must be a string");if(n.includes("..")||n.includes("?")||n.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(n.startsWith("publishers/")||n.startsWith("projects/")||n.startsWith("models/"))return n;if(n.indexOf("/")>=0){const o=n.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${n}`}else return n.startsWith("models/")||n.startsWith("tunedModels/")?n:`models/${n}`}function eg(i,n){const o=Ft(i,n);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function ng(i){return Array.isArray(i)?i.map(n=>nr(n)):[nr(i)]}function nr(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function ig(i){const n=nr(i);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function og(i){const n=nr(i);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Mm(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function lg(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(n=>Mm(n)):[Mm(i)]}function Ou(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function Nm(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function Im(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function be(i){if(i==null)throw new Error("ContentUnion is required");return Ou(i)?i:{role:"user",parts:lg(i)}}function ec(i,n){if(!n)return[];if(i.isVertexAI()&&Array.isArray(n))return n.flatMap(o=>{const a=be(o);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const o=be(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(n)?n.map(o=>be(o)):[be(n)]}function un(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(Nm(i)||Im(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[be(i)]}const n=[],o=[],a=Ou(i[0]);for(const r of i){const u=Ou(r);if(u!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)n.push(r);else{if(Nm(r)||Im(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return a||n.push({role:"user",parts:lg(o)}),n}function BS(i,n){i.includes("null")&&(n.nullable=!0);const o=i.filter(a=>a!=="null");if(o.length===1)n.type=Object.values(gi).includes(o[0].toUpperCase())?o[0].toUpperCase():gi.TYPE_UNSPECIFIED;else{n.anyOf=[];for(const a of o)n.anyOf.push({type:Object.values(gi).includes(a.toUpperCase())?a.toUpperCase():gi.TYPE_UNSPECIFIED})}}function Mo(i){const n={},o=["items"],a=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=i.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(n.nullable=!0,i=u[1]):u[1].type==="null"&&(n.nullable=!0,i=u[0])),i.type instanceof Array&&BS(i.type,n);for(const[f,h]of Object.entries(i))if(h!=null)if(f=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;n.type=Object.values(gi).includes(h.toUpperCase())?h.toUpperCase():gi.TYPE_UNSPECIFIED}else if(o.includes(f))n[f]=Mo(h);else if(a.includes(f)){const g=[];for(const m of h){if(m.type=="null"){n.nullable=!0;continue}g.push(Mo(m))}n[f]=g}else if(r.includes(f)){const g={};for(const[m,v]of Object.entries(h))g[m]=Mo(v);n[f]=g}else{if(f==="additionalProperties")continue;n[f]=h}return n}function nc(i){return Mo(i)}function ic(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function oc(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function Io(i){if(i.functionDeclarations)for(const n of i.functionDeclarations)n.parameters&&(Object.keys(n.parameters).includes("$schema")?n.parametersJsonSchema||(n.parametersJsonSchema=n.parameters,delete n.parameters):n.parameters=Mo(n.parameters)),n.response&&(Object.keys(n.response).includes("$schema")?n.responseJsonSchema||(n.responseJsonSchema=n.response,delete n.response):n.response=Mo(n.response));return i}function xo(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const n=[];for(const o of i)n.push(o);return n}function HS(i,n,o,a=1){const r=!n.startsWith(`${o}/`)&&n.split("/").length===a;return i.isVertexAI()?n.startsWith("projects/")?n:n.startsWith("locations/")?`projects/${i.getProject()}/${n}`:n.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${n}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${n}`:n:r?`${o}/${n}`:n}function Fn(i,n){if(typeof n!="string")throw new Error("name must be a string");return HS(i,n,"cachedContents")}function ag(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function yi(i){return Wu(i)}function OS(i){return i!=null&&typeof i=="object"&&"name"in i}function PS(i){return i!=null&&typeof i=="object"&&"video"in i}function qS(i){return i!=null&&typeof i=="object"&&"uri"in i}function rg(i){var n;let o;if(OS(i)&&(o=i.name),!(qS(i)&&(o=i.uri,o===void 0))&&!(PS(i)&&(o=(n=i.video)===null||n===void 0?void 0:n.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function sg(i,n){let o;return i.isVertexAI()?o=n?"publishers/google/models":"models":o=n?"models":"tunedModels",o}function ug(i){for(const n of["models","tunedModels","publisherModels"])if(VS(i,n))return i[n];return[]}function VS(i,n){return i!==null&&typeof i=="object"&&n in i}function FS(i,n={}){const o=i,a={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(a.responseJsonSchema=o.outputSchema),n.behavior&&(a.behavior=n.behavior),{functionDeclarations:[a]}}function YS(i,n={}){const o=[],a=new Set;for(const r of i){const u=r.name;if(a.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);a.add(u);const f=FS(r,n);f.functionDeclarations&&o.push(...f.functionDeclarations)}return{functionDeclarations:o}}function cg(i,n){let o;if(typeof n=="string")if(i.isVertexAI())if(n.startsWith("gs://"))o={format:"jsonl",gcsUri:[n]};else if(n.startsWith("bq://"))o={format:"bigquery",bigqueryUri:n};else throw new Error(`Unsupported string source for Vertex AI: ${n}`);else if(n.startsWith("files/"))o={fileName:n};else throw new Error(`Unsupported string source for Gemini API: ${n}`);else if(Array.isArray(n)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:n}}else o=n;const a=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,r=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function JS(i){if(typeof i!="string")return i;const n=i;if(n.startsWith("gs://"))return{format:"jsonl",gcsUri:n};if(n.startsWith("bq://"))return{format:"bigquery",bigqueryUri:n};throw new Error(`Unsupported destination: ${n}`)}function fg(i){if(typeof i!="object"||i===null)return{};const n=i,o=n.inlinedResponses;if(typeof o!="object"||o===null)return i;const r=o.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let u=!1;for(const f of r){if(typeof f!="object"||f===null)continue;const g=f.response;if(typeof g!="object"||g===null)continue;if(g.embedding!==void 0){u=!0;break}}return u&&(n.inlinedEmbedContentResponses=n.inlinedResponses,delete n.inlinedResponses),i}function Do(i,n){const o=n;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function dg(i){const n=i;return n==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":n==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":n==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":n==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":n==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":n==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":n==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":n}function KS(i){const n={},o=c(i,["responsesFile"]);o!=null&&d(n,["fileName"],o);const a=c(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>wT(f))),d(n,["inlinedResponses"],u)}const r=c(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),d(n,["inlinedEmbedContentResponses"],u)}return n}function XS(i){const n={},o=c(i,["predictionsFormat"]);o!=null&&d(n,["format"],o);const a=c(i,["gcsDestination","outputUriPrefix"]);a!=null&&d(n,["gcsUri"],a);const r=c(i,["bigqueryDestination","outputUri"]);return r!=null&&d(n,["bigqueryUri"],r),n}function ZS(i){const n={},o=c(i,["format"]);o!=null&&d(n,["predictionsFormat"],o);const a=c(i,["gcsUri"]);a!=null&&d(n,["gcsDestination","outputUriPrefix"],a);const r=c(i,["bigqueryUri"]);if(r!=null&&d(n,["bigqueryDestination","outputUri"],r),c(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return n}function Wa(i){const n={},o=c(i,["name"]);o!=null&&d(n,["name"],o);const a=c(i,["metadata","displayName"]);a!=null&&d(n,["displayName"],a);const r=c(i,["metadata","state"]);r!=null&&d(n,["state"],dg(r));const u=c(i,["metadata","createTime"]);u!=null&&d(n,["createTime"],u);const f=c(i,["metadata","endTime"]);f!=null&&d(n,["endTime"],f);const h=c(i,["metadata","updateTime"]);h!=null&&d(n,["updateTime"],h);const g=c(i,["metadata","model"]);g!=null&&d(n,["model"],g);const m=c(i,["metadata","output"]);return m!=null&&d(n,["dest"],KS(fg(m))),n}function Pu(i){const n={},o=c(i,["name"]);o!=null&&d(n,["name"],o);const a=c(i,["displayName"]);a!=null&&d(n,["displayName"],a);const r=c(i,["state"]);r!=null&&d(n,["state"],dg(r));const u=c(i,["error"]);u!=null&&d(n,["error"],u);const f=c(i,["createTime"]);f!=null&&d(n,["createTime"],f);const h=c(i,["startTime"]);h!=null&&d(n,["startTime"],h);const g=c(i,["endTime"]);g!=null&&d(n,["endTime"],g);const m=c(i,["updateTime"]);m!=null&&d(n,["updateTime"],m);const v=c(i,["model"]);v!=null&&d(n,["model"],v);const _=c(i,["inputConfig"]);_!=null&&d(n,["src"],QS(_));const S=c(i,["outputConfig"]);S!=null&&d(n,["dest"],XS(fg(S)));const T=c(i,["completionStats"]);return T!=null&&d(n,["completionStats"],T),n}function QS(i){const n={},o=c(i,["instancesFormat"]);o!=null&&d(n,["format"],o);const a=c(i,["gcsSource","uris"]);a!=null&&d(n,["gcsUri"],a);const r=c(i,["bigquerySource","inputUri"]);return r!=null&&d(n,["bigqueryUri"],r),n}function $S(i,n){const o={};if(c(n,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(n,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=c(n,["fileName"]);a!=null&&d(o,["fileName"],a);const r=c(n,["inlinedRequests"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>bT(i,f))),d(o,["requests","requests"],u)}return o}function WS(i){const n={},o=c(i,["format"]);o!=null&&d(n,["instancesFormat"],o);const a=c(i,["gcsUri"]);a!=null&&d(n,["gcsSource","uris"],a);const r=c(i,["bigqueryUri"]);if(r!=null&&d(n,["bigquerySource","inputUri"],r),c(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return n}function jS(i){const n={},o=c(i,["data"]);if(o!=null&&d(n,["data"],o),c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=c(i,["mimeType"]);return a!=null&&d(n,["mimeType"],a),n}function tT(i,n){const o={},a=c(n,["name"]);return a!=null&&d(o,["_url","name"],Do(i,a)),o}function eT(i,n){const o={},a=c(n,["name"]);return a!=null&&d(o,["_url","name"],Do(i,a)),o}function nT(i){const n={},o=c(i,["content"]);o!=null&&d(n,["content"],o);const a=c(i,["citationMetadata"]);a!=null&&d(n,["citationMetadata"],iT(a));const r=c(i,["tokenCount"]);r!=null&&d(n,["tokenCount"],r);const u=c(i,["finishReason"]);u!=null&&d(n,["finishReason"],u);const f=c(i,["avgLogprobs"]);f!=null&&d(n,["avgLogprobs"],f);const h=c(i,["groundingMetadata"]);h!=null&&d(n,["groundingMetadata"],h);const g=c(i,["index"]);g!=null&&d(n,["index"],g);const m=c(i,["logprobsResult"]);m!=null&&d(n,["logprobsResult"],m);const v=c(i,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(T=>T)),d(n,["safetyRatings"],S)}const _=c(i,["urlContextMetadata"]);return _!=null&&d(n,["urlContextMetadata"],_),n}function iT(i){const n={},o=c(i,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),d(n,["citations"],a)}return n}function hg(i){const n={},o=c(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>kT(u))),d(n,["parts"],r)}const a=c(i,["role"]);return a!=null&&d(n,["role"],a),n}function oT(i,n){const o={},a=c(i,["displayName"]);if(n!==void 0&&a!=null&&d(n,["batch","displayName"],a),c(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function lT(i,n){const o={},a=c(i,["displayName"]);n!==void 0&&a!=null&&d(n,["displayName"],a);const r=c(i,["dest"]);return n!==void 0&&r!=null&&d(n,["outputConfig"],ZS(JS(r))),o}function xm(i,n){const o={},a=c(n,["model"]);a!=null&&d(o,["_url","model"],Ft(i,a));const r=c(n,["src"]);r!=null&&d(o,["batch","inputConfig"],$S(i,cg(i,r)));const u=c(n,["config"]);return u!=null&&oT(u,o),o}function aT(i,n){const o={},a=c(n,["model"]);a!=null&&d(o,["model"],Ft(i,a));const r=c(n,["src"]);r!=null&&d(o,["inputConfig"],WS(cg(i,r)));const u=c(n,["config"]);return u!=null&&lT(u,o),o}function rT(i,n){const o={},a=c(i,["displayName"]);return n!==void 0&&a!=null&&d(n,["batch","displayName"],a),o}function sT(i,n){const o={},a=c(n,["model"]);a!=null&&d(o,["_url","model"],Ft(i,a));const r=c(n,["src"]);r!=null&&d(o,["batch","inputConfig"],mT(i,r));const u=c(n,["config"]);return u!=null&&rT(u,o),o}function uT(i,n){const o={},a=c(n,["name"]);return a!=null&&d(o,["_url","name"],Do(i,a)),o}function cT(i,n){const o={},a=c(n,["name"]);return a!=null&&d(o,["_url","name"],Do(i,a)),o}function fT(i){const n={},o=c(i,["sdkHttpResponse"]);o!=null&&d(n,["sdkHttpResponse"],o);const a=c(i,["name"]);a!=null&&d(n,["name"],a);const r=c(i,["done"]);r!=null&&d(n,["done"],r);const u=c(i,["error"]);return u!=null&&d(n,["error"],u),n}function dT(i){const n={},o=c(i,["sdkHttpResponse"]);o!=null&&d(n,["sdkHttpResponse"],o);const a=c(i,["name"]);a!=null&&d(n,["name"],a);const r=c(i,["done"]);r!=null&&d(n,["done"],r);const u=c(i,["error"]);return u!=null&&d(n,["error"],u),n}function hT(i,n){const o={},a=c(n,["contents"]);if(a!=null){let u=ec(i,a);Array.isArray(u)&&(u=u.map(f=>f)),d(o,["requests[]","request","content"],u)}const r=c(n,["config"]);return r!=null&&(d(o,["_self"],pT(r,o)),uS(o,{"requests[].*":"requests[].request.*"})),o}function pT(i,n){const o={},a=c(i,["taskType"]);n!==void 0&&a!=null&&d(n,["requests[]","taskType"],a);const r=c(i,["title"]);n!==void 0&&r!=null&&d(n,["requests[]","title"],r);const u=c(i,["outputDimensionality"]);if(n!==void 0&&u!=null&&d(n,["requests[]","outputDimensionality"],u),c(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function mT(i,n){const o={},a=c(n,["fileName"]);a!=null&&d(o,["file_name"],a);const r=c(n,["inlinedRequests"]);return r!=null&&d(o,["requests"],hT(i,r)),o}function gT(i){const n={};if(c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(i,["fileUri"]);o!=null&&d(n,["fileUri"],o);const a=c(i,["mimeType"]);return a!=null&&d(n,["mimeType"],a),n}function yT(i){const n={},o=c(i,["id"]);o!=null&&d(n,["id"],o);const a=c(i,["args"]);a!=null&&d(n,["args"],a);const r=c(i,["name"]);if(r!=null&&d(n,["name"],r),c(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function vT(i){const n={},o=c(i,["allowedFunctionNames"]);o!=null&&d(n,["allowedFunctionNames"],o);const a=c(i,["mode"]);if(a!=null&&d(n,["mode"],a),c(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function _T(i,n,o){const a={},r=c(n,["systemInstruction"]);o!==void 0&&r!=null&&d(o,["systemInstruction"],hg(be(r)));const u=c(n,["temperature"]);u!=null&&d(a,["temperature"],u);const f=c(n,["topP"]);f!=null&&d(a,["topP"],f);const h=c(n,["topK"]);h!=null&&d(a,["topK"],h);const g=c(n,["candidateCount"]);g!=null&&d(a,["candidateCount"],g);const m=c(n,["maxOutputTokens"]);m!=null&&d(a,["maxOutputTokens"],m);const v=c(n,["stopSequences"]);v!=null&&d(a,["stopSequences"],v);const _=c(n,["responseLogprobs"]);_!=null&&d(a,["responseLogprobs"],_);const S=c(n,["logprobs"]);S!=null&&d(a,["logprobs"],S);const T=c(n,["presencePenalty"]);T!=null&&d(a,["presencePenalty"],T);const b=c(n,["frequencyPenalty"]);b!=null&&d(a,["frequencyPenalty"],b);const C=c(n,["seed"]);C!=null&&d(a,["seed"],C);const R=c(n,["responseMimeType"]);R!=null&&d(a,["responseMimeType"],R);const M=c(n,["responseSchema"]);M!=null&&d(a,["responseSchema"],nc(M));const x=c(n,["responseJsonSchema"]);if(x!=null&&d(a,["responseJsonSchema"],x),c(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=c(n,["safetySettings"]);if(o!==void 0&&D!=null){let W=D;Array.isArray(W)&&(W=W.map(w=>LT(w))),d(o,["safetySettings"],W)}const G=c(n,["tools"]);if(o!==void 0&&G!=null){let W=xo(G);Array.isArray(W)&&(W=W.map(w=>GT(Io(w)))),d(o,["tools"],W)}const U=c(n,["toolConfig"]);if(o!==void 0&&U!=null&&d(o,["toolConfig"],zT(U)),c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=c(n,["cachedContent"]);o!==void 0&&K!=null&&d(o,["cachedContent"],Fn(i,K));const P=c(n,["responseModalities"]);P!=null&&d(a,["responseModalities"],P);const et=c(n,["mediaResolution"]);et!=null&&d(a,["mediaResolution"],et);const q=c(n,["speechConfig"]);if(q!=null&&d(a,["speechConfig"],ic(q)),c(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const at=c(n,["thinkingConfig"]);at!=null&&d(a,["thinkingConfig"],at);const vt=c(n,["imageConfig"]);vt!=null&&d(a,["imageConfig"],RT(vt));const B=c(n,["enableEnhancedCivicAnswers"]);if(B!=null&&d(a,["enableEnhancedCivicAnswers"],B),c(n,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return a}function ST(i){const n={},o=c(i,["sdkHttpResponse"]);o!=null&&d(n,["sdkHttpResponse"],o);const a=c(i,["candidates"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(m=>nT(m))),d(n,["candidates"],g)}const r=c(i,["modelVersion"]);r!=null&&d(n,["modelVersion"],r);const u=c(i,["promptFeedback"]);u!=null&&d(n,["promptFeedback"],u);const f=c(i,["responseId"]);f!=null&&d(n,["responseId"],f);const h=c(i,["usageMetadata"]);return h!=null&&d(n,["usageMetadata"],h),n}function TT(i,n){const o={},a=c(n,["name"]);return a!=null&&d(o,["_url","name"],Do(i,a)),o}function ET(i,n){const o={},a=c(n,["name"]);return a!=null&&d(o,["_url","name"],Do(i,a)),o}function CT(i){const n={};if(c(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(i,["enableWidget"]);return o!=null&&d(n,["enableWidget"],o),n}function AT(i){const n={};if(c(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(i,["timeRangeFilter"]);return o!=null&&d(n,["timeRangeFilter"],o),n}function RT(i){const n={},o=c(i,["aspectRatio"]);o!=null&&d(n,["aspectRatio"],o);const a=c(i,["imageSize"]);if(a!=null&&d(n,["imageSize"],a),c(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(c(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function bT(i,n){const o={},a=c(n,["model"]);a!=null&&d(o,["request","model"],Ft(i,a));const r=c(n,["contents"]);if(r!=null){let h=un(r);Array.isArray(h)&&(h=h.map(g=>hg(g))),d(o,["request","contents"],h)}const u=c(n,["metadata"]);u!=null&&d(o,["metadata"],u);const f=c(n,["config"]);return f!=null&&d(o,["request","generationConfig"],_T(i,f,c(o,["request"],{}))),o}function wT(i){const n={},o=c(i,["response"]);o!=null&&d(n,["response"],ST(o));const a=c(i,["metadata"]);a!=null&&d(n,["metadata"],a);const r=c(i,["error"]);return r!=null&&d(n,["error"],r),n}function MT(i,n){const o={},a=c(i,["pageSize"]);n!==void 0&&a!=null&&d(n,["_query","pageSize"],a);const r=c(i,["pageToken"]);if(n!==void 0&&r!=null&&d(n,["_query","pageToken"],r),c(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function NT(i,n){const o={},a=c(i,["pageSize"]);n!==void 0&&a!=null&&d(n,["_query","pageSize"],a);const r=c(i,["pageToken"]);n!==void 0&&r!=null&&d(n,["_query","pageToken"],r);const u=c(i,["filter"]);return n!==void 0&&u!=null&&d(n,["_query","filter"],u),o}function IT(i){const n={},o=c(i,["config"]);return o!=null&&MT(o,n),n}function xT(i){const n={},o=c(i,["config"]);return o!=null&&NT(o,n),n}function DT(i){const n={},o=c(i,["sdkHttpResponse"]);o!=null&&d(n,["sdkHttpResponse"],o);const a=c(i,["nextPageToken"]);a!=null&&d(n,["nextPageToken"],a);const r=c(i,["operations"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>Wa(f))),d(n,["batchJobs"],u)}return n}function UT(i){const n={},o=c(i,["sdkHttpResponse"]);o!=null&&d(n,["sdkHttpResponse"],o);const a=c(i,["nextPageToken"]);a!=null&&d(n,["nextPageToken"],a);const r=c(i,["batchPredictionJobs"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>Pu(f))),d(n,["batchJobs"],u)}return n}function kT(i){const n={},o=c(i,["mediaResolution"]);o!=null&&d(n,["mediaResolution"],o);const a=c(i,["codeExecutionResult"]);a!=null&&d(n,["codeExecutionResult"],a);const r=c(i,["executableCode"]);r!=null&&d(n,["executableCode"],r);const u=c(i,["fileData"]);u!=null&&d(n,["fileData"],gT(u));const f=c(i,["functionCall"]);f!=null&&d(n,["functionCall"],yT(f));const h=c(i,["functionResponse"]);h!=null&&d(n,["functionResponse"],h);const g=c(i,["inlineData"]);g!=null&&d(n,["inlineData"],jS(g));const m=c(i,["text"]);m!=null&&d(n,["text"],m);const v=c(i,["thought"]);v!=null&&d(n,["thought"],v);const _=c(i,["thoughtSignature"]);_!=null&&d(n,["thoughtSignature"],_);const S=c(i,["videoMetadata"]);return S!=null&&d(n,["videoMetadata"],S),n}function LT(i){const n={},o=c(i,["category"]);if(o!=null&&d(n,["category"],o),c(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=c(i,["threshold"]);return a!=null&&d(n,["threshold"],a),n}function zT(i){const n={},o=c(i,["retrievalConfig"]);o!=null&&d(n,["retrievalConfig"],o);const a=c(i,["functionCallingConfig"]);return a!=null&&d(n,["functionCallingConfig"],vT(a)),n}function GT(i){const n={};if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(i,["computerUse"]);o!=null&&d(n,["computerUse"],o);const a=c(i,["fileSearch"]);a!=null&&d(n,["fileSearch"],a);const r=c(i,["codeExecution"]);if(r!=null&&d(n,["codeExecution"],r),c(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(i,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(_=>_)),d(n,["functionDeclarations"],v)}const f=c(i,["googleMaps"]);f!=null&&d(n,["googleMaps"],CT(f));const h=c(i,["googleSearch"]);h!=null&&d(n,["googleSearch"],AT(h));const g=c(i,["googleSearchRetrieval"]);g!=null&&d(n,["googleSearchRetrieval"],g);const m=c(i,["urlContext"]);return m!=null&&d(n,["urlContext"],m),n}var qn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(qn||(qn={}));class Bi{constructor(n,o,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(n,a,r)}init(n,o,a){var r,u;this.nameInternal=n,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o?.sdkHttpResponse,this.idxInternal=0;let f={config:{}};!a||Object.keys(a).length===0?f={config:{}}:typeof a=="object"?f=Object.assign({},a):f=a,f.config&&(f.config.pageToken=o.nextPageToken),this.paramsInternal=f,this.pageInternalSize=(u=(r=f.config)===null||r===void 0?void 0:r.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(n){this.init(this.nameInternal,n,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(n){return this.pageInternal[n]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const n=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:n,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const n=await this.requestInternal(this.params);return this.initNextPage(n),this.page}hasNextPage(){var n;return((n=this.params.config)===null||n===void 0?void 0:n.pageToken)!==void 0}}class BT extends Vn{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new Bi(qn.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(n){const o=xm(this.apiClient,n),a=o._url,r=Tt("{model}:batchGenerateContent",a),h=o.batch.inputConfig.requests,g=h.requests,m=[];for(const v of g){const _=Object.assign({},v);if(_.systemInstruction){const S=_.systemInstruction;delete _.systemInstruction;const T=_.request;T.systemInstruction=S,_.request=T}m.push(_)}return h.requests=m,delete o.config,delete o._url,delete o._query,{path:r,body:o}}getGcsUri(n){if(typeof n=="string")return n.startsWith("gs://")?n:void 0;if(!Array.isArray(n)&&n.gcsUri&&n.gcsUri.length>0)return n.gcsUri[0]}getBigqueryUri(n){if(typeof n=="string")return n.startsWith("bq://")?n:void 0;if(!Array.isArray(n))return n.bigqueryUri}formatDestination(n,o){const a=o?Object.assign({},o):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const u=this.getGcsUri(n),f=this.getBigqueryUri(n);if(u)u.endsWith(".jsonl")?a.dest=`${u.slice(0,-6)}/dest`:a.dest=`${u}_dest_${r}`;else if(f)a.dest=`${f}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(n){var o,a,r,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=aT(this.apiClient,n);return h=Tt("batchPredictionJobs",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),f.then(v=>Pu(v))}else{const m=xm(this.apiClient,n);return h=Tt("{model}:batchGenerateContent",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>Wa(v))}}async createEmbeddingsInternal(n){var o,a;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=sT(this.apiClient,n);return u=Tt("{model}:asyncBatchEmbedContent",h._url),f=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>Wa(g))}}async get(n){var o,a,r,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=ET(this.apiClient,n);return h=Tt("batchPredictionJobs/{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),f.then(v=>Pu(v))}else{const m=TT(this.apiClient,n);return h=Tt("batches/{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>Wa(v))}}async cancel(n){var o,a,r,u;let f="",h={};if(this.apiClient.isVertexAI()){const g=eT(this.apiClient,n);f=Tt("batchPredictionJobs/{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal})}else{const g=tT(this.apiClient,n);f=Tt("batches/{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal})}}async listInternal(n){var o,a,r,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=xT(n);return h=Tt("batchPredictionJobs",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=UT(v),S=new wm;return Object.assign(S,_),S})}else{const m=IT(n);return h=Tt("batches",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=DT(v),S=new wm;return Object.assign(S,_),S})}}async delete(n){var o,a,r,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=cT(this.apiClient,n);return h=Tt("batchPredictionJobs/{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>dT(v))}else{const m=uT(this.apiClient,n);return h=Tt("batches/{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>fT(v))}}}function HT(i){const n={},o=c(i,["data"]);if(o!=null&&d(n,["data"],o),c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=c(i,["mimeType"]);return a!=null&&d(n,["mimeType"],a),n}function Dm(i){const n={},o=c(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>sE(u))),d(n,["parts"],r)}const a=c(i,["role"]);return a!=null&&d(n,["role"],a),n}function OT(i,n){const o={},a=c(i,["ttl"]);n!==void 0&&a!=null&&d(n,["ttl"],a);const r=c(i,["expireTime"]);n!==void 0&&r!=null&&d(n,["expireTime"],r);const u=c(i,["displayName"]);n!==void 0&&u!=null&&d(n,["displayName"],u);const f=c(i,["contents"]);if(n!==void 0&&f!=null){let v=un(f);Array.isArray(v)&&(v=v.map(_=>Dm(_))),d(n,["contents"],v)}const h=c(i,["systemInstruction"]);n!==void 0&&h!=null&&d(n,["systemInstruction"],Dm(be(h)));const g=c(i,["tools"]);if(n!==void 0&&g!=null){let v=g;Array.isArray(v)&&(v=v.map(_=>cE(_))),d(n,["tools"],v)}const m=c(i,["toolConfig"]);if(n!==void 0&&m!=null&&d(n,["toolConfig"],uE(m)),c(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function PT(i,n){const o={},a=c(i,["ttl"]);n!==void 0&&a!=null&&d(n,["ttl"],a);const r=c(i,["expireTime"]);n!==void 0&&r!=null&&d(n,["expireTime"],r);const u=c(i,["displayName"]);n!==void 0&&u!=null&&d(n,["displayName"],u);const f=c(i,["contents"]);if(n!==void 0&&f!=null){let _=un(f);Array.isArray(_)&&(_=_.map(S=>S)),d(n,["contents"],_)}const h=c(i,["systemInstruction"]);n!==void 0&&h!=null&&d(n,["systemInstruction"],be(h));const g=c(i,["tools"]);if(n!==void 0&&g!=null){let _=g;Array.isArray(_)&&(_=_.map(S=>fE(S))),d(n,["tools"],_)}const m=c(i,["toolConfig"]);n!==void 0&&m!=null&&d(n,["toolConfig"],m);const v=c(i,["kmsKeyName"]);return n!==void 0&&v!=null&&d(n,["encryption_spec","kmsKeyName"],v),o}function qT(i,n){const o={},a=c(n,["model"]);a!=null&&d(o,["model"],eg(i,a));const r=c(n,["config"]);return r!=null&&OT(r,o),o}function VT(i,n){const o={},a=c(n,["model"]);a!=null&&d(o,["model"],eg(i,a));const r=c(n,["config"]);return r!=null&&PT(r,o),o}function FT(i,n){const o={},a=c(n,["name"]);return a!=null&&d(o,["_url","name"],Fn(i,a)),o}function YT(i,n){const o={},a=c(n,["name"]);return a!=null&&d(o,["_url","name"],Fn(i,a)),o}function JT(i){const n={},o=c(i,["sdkHttpResponse"]);return o!=null&&d(n,["sdkHttpResponse"],o),n}function KT(i){const n={},o=c(i,["sdkHttpResponse"]);return o!=null&&d(n,["sdkHttpResponse"],o),n}function XT(i){const n={};if(c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(i,["fileUri"]);o!=null&&d(n,["fileUri"],o);const a=c(i,["mimeType"]);return a!=null&&d(n,["mimeType"],a),n}function ZT(i){const n={},o=c(i,["id"]);o!=null&&d(n,["id"],o);const a=c(i,["args"]);a!=null&&d(n,["args"],a);const r=c(i,["name"]);if(r!=null&&d(n,["name"],r),c(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function QT(i){const n={},o=c(i,["allowedFunctionNames"]);o!=null&&d(n,["allowedFunctionNames"],o);const a=c(i,["mode"]);if(a!=null&&d(n,["mode"],a),c(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function $T(i){const n={},o=c(i,["description"]);o!=null&&d(n,["description"],o);const a=c(i,["name"]);a!=null&&d(n,["name"],a);const r=c(i,["parameters"]);r!=null&&d(n,["parameters"],r);const u=c(i,["parametersJsonSchema"]);u!=null&&d(n,["parametersJsonSchema"],u);const f=c(i,["response"]);f!=null&&d(n,["response"],f);const h=c(i,["responseJsonSchema"]);if(h!=null&&d(n,["responseJsonSchema"],h),c(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function WT(i,n){const o={},a=c(n,["name"]);return a!=null&&d(o,["_url","name"],Fn(i,a)),o}function jT(i,n){const o={},a=c(n,["name"]);return a!=null&&d(o,["_url","name"],Fn(i,a)),o}function tE(i){const n={};if(c(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(i,["enableWidget"]);return o!=null&&d(n,["enableWidget"],o),n}function eE(i){const n={};if(c(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(i,["timeRangeFilter"]);return o!=null&&d(n,["timeRangeFilter"],o),n}function nE(i,n){const o={},a=c(i,["pageSize"]);n!==void 0&&a!=null&&d(n,["_query","pageSize"],a);const r=c(i,["pageToken"]);return n!==void 0&&r!=null&&d(n,["_query","pageToken"],r),o}function iE(i,n){const o={},a=c(i,["pageSize"]);n!==void 0&&a!=null&&d(n,["_query","pageSize"],a);const r=c(i,["pageToken"]);return n!==void 0&&r!=null&&d(n,["_query","pageToken"],r),o}function oE(i){const n={},o=c(i,["config"]);return o!=null&&nE(o,n),n}function lE(i){const n={},o=c(i,["config"]);return o!=null&&iE(o,n),n}function aE(i){const n={},o=c(i,["sdkHttpResponse"]);o!=null&&d(n,["sdkHttpResponse"],o);const a=c(i,["nextPageToken"]);a!=null&&d(n,["nextPageToken"],a);const r=c(i,["cachedContents"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),d(n,["cachedContents"],u)}return n}function rE(i){const n={},o=c(i,["sdkHttpResponse"]);o!=null&&d(n,["sdkHttpResponse"],o);const a=c(i,["nextPageToken"]);a!=null&&d(n,["nextPageToken"],a);const r=c(i,["cachedContents"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),d(n,["cachedContents"],u)}return n}function sE(i){const n={},o=c(i,["mediaResolution"]);o!=null&&d(n,["mediaResolution"],o);const a=c(i,["codeExecutionResult"]);a!=null&&d(n,["codeExecutionResult"],a);const r=c(i,["executableCode"]);r!=null&&d(n,["executableCode"],r);const u=c(i,["fileData"]);u!=null&&d(n,["fileData"],XT(u));const f=c(i,["functionCall"]);f!=null&&d(n,["functionCall"],ZT(f));const h=c(i,["functionResponse"]);h!=null&&d(n,["functionResponse"],h);const g=c(i,["inlineData"]);g!=null&&d(n,["inlineData"],HT(g));const m=c(i,["text"]);m!=null&&d(n,["text"],m);const v=c(i,["thought"]);v!=null&&d(n,["thought"],v);const _=c(i,["thoughtSignature"]);_!=null&&d(n,["thoughtSignature"],_);const S=c(i,["videoMetadata"]);return S!=null&&d(n,["videoMetadata"],S),n}function uE(i){const n={},o=c(i,["retrievalConfig"]);o!=null&&d(n,["retrievalConfig"],o);const a=c(i,["functionCallingConfig"]);return a!=null&&d(n,["functionCallingConfig"],QT(a)),n}function cE(i){const n={};if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(i,["computerUse"]);o!=null&&d(n,["computerUse"],o);const a=c(i,["fileSearch"]);a!=null&&d(n,["fileSearch"],a);const r=c(i,["codeExecution"]);if(r!=null&&d(n,["codeExecution"],r),c(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(i,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(_=>_)),d(n,["functionDeclarations"],v)}const f=c(i,["googleMaps"]);f!=null&&d(n,["googleMaps"],tE(f));const h=c(i,["googleSearch"]);h!=null&&d(n,["googleSearch"],eE(h));const g=c(i,["googleSearchRetrieval"]);g!=null&&d(n,["googleSearchRetrieval"],g);const m=c(i,["urlContext"]);return m!=null&&d(n,["urlContext"],m),n}function fE(i){const n={},o=c(i,["retrieval"]);o!=null&&d(n,["retrieval"],o);const a=c(i,["computerUse"]);if(a!=null&&d(n,["computerUse"],a),c(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=c(i,["codeExecution"]);r!=null&&d(n,["codeExecution"],r);const u=c(i,["enterpriseWebSearch"]);u!=null&&d(n,["enterpriseWebSearch"],u);const f=c(i,["functionDeclarations"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(S=>$T(S))),d(n,["functionDeclarations"],_)}const h=c(i,["googleMaps"]);h!=null&&d(n,["googleMaps"],h);const g=c(i,["googleSearch"]);g!=null&&d(n,["googleSearch"],g);const m=c(i,["googleSearchRetrieval"]);m!=null&&d(n,["googleSearchRetrieval"],m);const v=c(i,["urlContext"]);return v!=null&&d(n,["urlContext"],v),n}function dE(i,n){const o={},a=c(i,["ttl"]);n!==void 0&&a!=null&&d(n,["ttl"],a);const r=c(i,["expireTime"]);return n!==void 0&&r!=null&&d(n,["expireTime"],r),o}function hE(i,n){const o={},a=c(i,["ttl"]);n!==void 0&&a!=null&&d(n,["ttl"],a);const r=c(i,["expireTime"]);return n!==void 0&&r!=null&&d(n,["expireTime"],r),o}function pE(i,n){const o={},a=c(n,["name"]);a!=null&&d(o,["_url","name"],Fn(i,a));const r=c(n,["config"]);return r!=null&&dE(r,o),o}function mE(i,n){const o={},a=c(n,["name"]);a!=null&&d(o,["_url","name"],Fn(i,a));const r=c(n,["config"]);return r!=null&&hE(r,o),o}class gE extends Vn{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new Bi(qn.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(o),o)}async create(n){var o,a,r,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=VT(this.apiClient,n);return h=Tt("cachedContents",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const m=qT(this.apiClient,n);return h=Tt("cachedContents",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async get(n){var o,a,r,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=jT(this.apiClient,n);return h=Tt("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const m=WT(this.apiClient,n);return h=Tt("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async delete(n){var o,a,r,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=YT(this.apiClient,n);return h=Tt("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=KT(v),S=new Rm;return Object.assign(S,_),S})}else{const m=FT(this.apiClient,n);return h=Tt("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=JT(v),S=new Rm;return Object.assign(S,_),S})}}async update(n){var o,a,r,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=mE(this.apiClient,n);return h=Tt("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const m=pE(this.apiClient,n);return h=Tt("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async listInternal(n){var o,a,r,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=lE(n);return h=Tt("cachedContents",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=rE(v),S=new bm;return Object.assign(S,_),S})}else{const m=oE(n);return h=Tt("cachedContents",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=aE(v),S=new bm;return Object.assign(S,_),S})}}}function ir(i,n){var o={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&n.indexOf(a)<0&&(o[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(i);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(i,a[r])&&(o[a[r]]=i[a[r]]);return o}function Um(i){var n=typeof Symbol=="function"&&Symbol.iterator,o=n&&i[n],a=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function xt(i){return this instanceof xt?(this.v=i,this):new xt(i)}function gn(i,n,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(i,n||[]),r,u=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",f),r[Symbol.asyncIterator]=function(){return this},r;function f(T){return function(b){return Promise.resolve(b).then(T,_)}}function h(T,b){a[T]&&(r[T]=function(C){return new Promise(function(R,M){u.push([T,C,R,M])>1||g(T,C)})},b&&(r[T]=b(r[T])))}function g(T,b){try{m(a[T](b))}catch(C){S(u[0][3],C)}}function m(T){T.value instanceof xt?Promise.resolve(T.value.v).then(v,_):S(u[0][2],T)}function v(T){g("next",T)}function _(T){g("throw",T)}function S(T,b){T(b),u.shift(),u.length&&g(u[0][0],u[0][1])}}function yn(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i[Symbol.asyncIterator],o;return n?n.call(i):(i=typeof Um=="function"?Um(i):i[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(u){o[u]=i[u]&&function(f){return new Promise(function(h,g){f=i[u](f),r(h,g,f.done,f.value)})}}function r(u,f,h,g){Promise.resolve(g).then(function(m){u({value:m,done:h})},f)}}function yE(i){var n;if(i.candidates==null||i.candidates.length===0)return!1;const o=(n=i.candidates[0])===null||n===void 0?void 0:n.content;return o===void 0?!1:pg(o)}function pg(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const n of i.parts)if(n===void 0||Object.keys(n).length===0)return!1;return!0}function vE(i){if(i.length!==0){for(const n of i)if(n.role!=="user"&&n.role!=="model")throw new Error(`Role must be user or model, but got ${n.role}.`)}}function km(i){if(i===void 0||i.length===0)return[];const n=[],o=i.length;let a=0;for(;a<o;)if(i[a].role==="user")n.push(i[a]),a++;else{const r=[];let u=!0;for(;a<o&&i[a].role==="model";)r.push(i[a]),u&&!pg(i[a])&&(u=!1),a++;u?n.push(...r):n.pop()}return n}class _E{constructor(n,o){this.modelsModule=n,this.apiClient=o}create(n){return new SE(this.apiClient,this.modelsModule,n.model,n.config,structuredClone(n.history))}}class SE{constructor(n,o,a,r={},u=[]){this.apiClient=n,this.modelsModule=o,this.model=a,this.config=r,this.history=u,this.sendPromise=Promise.resolve(),vE(u)}async sendMessage(n){var o;await this.sendPromise;const a=be(n.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=n.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var u,f,h;const g=await r,m=(f=(u=g.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content,v=g.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let S=[];v!=null&&(S=(h=v.slice(_))!==null&&h!==void 0?h:[]);const T=m?[m]:[];this.recordHistory(a,T,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(n){var o;await this.sendPromise;const a=be(n.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=n.config)!==null&&o!==void 0?o:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const u=await r;return this.processStreamResponse(u,a)}getHistory(n=!1){const o=n?km(this.history):this.history;return structuredClone(o)}processStreamResponse(n,o){return gn(this,arguments,function*(){var r,u,f,h,g,m;const v=[];try{for(var _=!0,S=yn(n),T;T=yield xt(S.next()),r=T.done,!r;_=!0){h=T.value,_=!1;const b=h;if(yE(b)){const C=(m=(g=b.candidates)===null||g===void 0?void 0:g[0])===null||m===void 0?void 0:m.content;C!==void 0&&v.push(C)}yield yield xt(b)}}catch(b){u={error:b}}finally{try{!_&&!r&&(f=S.return)&&(yield xt(f.call(S)))}finally{if(u)throw u.error}}this.recordHistory(o,v)})}recordHistory(n,o,a){let r=[];o.length>0&&o.every(u=>u.role!==void 0)?r=o:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...km(a)):this.history.push(n),this.history.push(...r)}}class Il extends Error{constructor(n){super(n.message),this.name="ApiError",this.status=n.status,Object.setPrototypeOf(this,Il.prototype)}}function TE(i){const n={},o=c(i,["file"]);return o!=null&&d(n,["file"],o),n}function EE(i){const n={},o=c(i,["sdkHttpResponse"]);return o!=null&&d(n,["sdkHttpResponse"],o),n}function CE(i){const n={},o=c(i,["name"]);return o!=null&&d(n,["_url","file"],rg(o)),n}function AE(i){const n={},o=c(i,["sdkHttpResponse"]);return o!=null&&d(n,["sdkHttpResponse"],o),n}function RE(i){const n={},o=c(i,["name"]);return o!=null&&d(n,["_url","file"],rg(o)),n}function bE(i){const n={},o=c(i,["uris"]);return o!=null&&d(n,["uris"],o),n}function wE(i,n){const o={},a=c(i,["pageSize"]);n!==void 0&&a!=null&&d(n,["_query","pageSize"],a);const r=c(i,["pageToken"]);return n!==void 0&&r!=null&&d(n,["_query","pageToken"],r),o}function ME(i){const n={},o=c(i,["config"]);return o!=null&&wE(o,n),n}function NE(i){const n={},o=c(i,["sdkHttpResponse"]);o!=null&&d(n,["sdkHttpResponse"],o);const a=c(i,["nextPageToken"]);a!=null&&d(n,["nextPageToken"],a);const r=c(i,["files"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),d(n,["files"],u)}return n}function IE(i){const n={},o=c(i,["sdkHttpResponse"]);o!=null&&d(n,["sdkHttpResponse"],o);const a=c(i,["files"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(u=>u)),d(n,["files"],r)}return n}class xE extends Vn{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new Bi(qn.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(o),o)}async upload(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(n.file,n.config).then(o=>o)}async download(n){await this.apiClient.downloadFile(n)}async registerFiles(n){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(n){return this.registerFilesInternal(n)}async listInternal(n){var o,a;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=ME(n);return u=Tt("files",h._url),f=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>{const m=NE(g),v=new DS;return Object.assign(v,m),v})}}async createInternal(n){var o,a;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=TE(n);return u=Tt("upload/v1beta/files",h._url),f=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>{const m=EE(g),v=new US;return Object.assign(v,m),v})}}async get(n){var o,a;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=RE(n);return u=Tt("files/{file}",h._url),f=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>g)}}async delete(n){var o,a;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=CE(n);return u=Tt("files/{file}",h._url),f=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>{const m=AE(g),v=new kS;return Object.assign(v,m),v})}}async registerFilesInternal(n){var o,a;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=bE(n);return u=Tt("files:register",h._url),f=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>{const m=IE(g),v=new LS;return Object.assign(v,m),v})}}}function ja(i){const n={},o=c(i,["data"]);if(o!=null&&d(n,["data"],o),c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=c(i,["mimeType"]);return a!=null&&d(n,["mimeType"],a),n}function DE(i){const n={},o=c(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>XE(u))),d(n,["parts"],r)}const a=c(i,["role"]);return a!=null&&d(n,["role"],a),n}function UE(i){const n={};if(c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(i,["fileUri"]);o!=null&&d(n,["fileUri"],o);const a=c(i,["mimeType"]);return a!=null&&d(n,["mimeType"],a),n}function kE(i){const n={},o=c(i,["id"]);o!=null&&d(n,["id"],o);const a=c(i,["args"]);a!=null&&d(n,["args"],a);const r=c(i,["name"]);if(r!=null&&d(n,["name"],r),c(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function LE(i){const n={},o=c(i,["description"]);o!=null&&d(n,["description"],o);const a=c(i,["name"]);a!=null&&d(n,["name"],a);const r=c(i,["parameters"]);r!=null&&d(n,["parameters"],r);const u=c(i,["parametersJsonSchema"]);u!=null&&d(n,["parametersJsonSchema"],u);const f=c(i,["response"]);f!=null&&d(n,["response"],f);const h=c(i,["responseJsonSchema"]);if(h!=null&&d(n,["responseJsonSchema"],h),c(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function zE(i){const n={},o=c(i,["modelSelectionConfig"]);o!=null&&d(n,["modelConfig"],o);const a=c(i,["responseJsonSchema"]);a!=null&&d(n,["responseJsonSchema"],a);const r=c(i,["audioTimestamp"]);r!=null&&d(n,["audioTimestamp"],r);const u=c(i,["candidateCount"]);u!=null&&d(n,["candidateCount"],u);const f=c(i,["enableAffectiveDialog"]);f!=null&&d(n,["enableAffectiveDialog"],f);const h=c(i,["frequencyPenalty"]);h!=null&&d(n,["frequencyPenalty"],h);const g=c(i,["logprobs"]);g!=null&&d(n,["logprobs"],g);const m=c(i,["maxOutputTokens"]);m!=null&&d(n,["maxOutputTokens"],m);const v=c(i,["mediaResolution"]);v!=null&&d(n,["mediaResolution"],v);const _=c(i,["presencePenalty"]);_!=null&&d(n,["presencePenalty"],_);const S=c(i,["responseLogprobs"]);S!=null&&d(n,["responseLogprobs"],S);const T=c(i,["responseMimeType"]);T!=null&&d(n,["responseMimeType"],T);const b=c(i,["responseModalities"]);b!=null&&d(n,["responseModalities"],b);const C=c(i,["responseSchema"]);C!=null&&d(n,["responseSchema"],C);const R=c(i,["routingConfig"]);R!=null&&d(n,["routingConfig"],R);const M=c(i,["seed"]);M!=null&&d(n,["seed"],M);const x=c(i,["speechConfig"]);x!=null&&d(n,["speechConfig"],x);const D=c(i,["stopSequences"]);D!=null&&d(n,["stopSequences"],D);const G=c(i,["temperature"]);G!=null&&d(n,["temperature"],G);const U=c(i,["thinkingConfig"]);U!=null&&d(n,["thinkingConfig"],U);const K=c(i,["topK"]);K!=null&&d(n,["topK"],K);const P=c(i,["topP"]);if(P!=null&&d(n,["topP"],P),c(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function GE(i){const n={};if(c(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(i,["enableWidget"]);return o!=null&&d(n,["enableWidget"],o),n}function BE(i){const n={};if(c(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(i,["timeRangeFilter"]);return o!=null&&d(n,["timeRangeFilter"],o),n}function HE(i,n){const o={},a=c(i,["generationConfig"]);n!==void 0&&a!=null&&d(n,["setup","generationConfig"],a);const r=c(i,["responseModalities"]);n!==void 0&&r!=null&&d(n,["setup","generationConfig","responseModalities"],r);const u=c(i,["temperature"]);n!==void 0&&u!=null&&d(n,["setup","generationConfig","temperature"],u);const f=c(i,["topP"]);n!==void 0&&f!=null&&d(n,["setup","generationConfig","topP"],f);const h=c(i,["topK"]);n!==void 0&&h!=null&&d(n,["setup","generationConfig","topK"],h);const g=c(i,["maxOutputTokens"]);n!==void 0&&g!=null&&d(n,["setup","generationConfig","maxOutputTokens"],g);const m=c(i,["mediaResolution"]);n!==void 0&&m!=null&&d(n,["setup","generationConfig","mediaResolution"],m);const v=c(i,["seed"]);n!==void 0&&v!=null&&d(n,["setup","generationConfig","seed"],v);const _=c(i,["speechConfig"]);n!==void 0&&_!=null&&d(n,["setup","generationConfig","speechConfig"],oc(_));const S=c(i,["thinkingConfig"]);n!==void 0&&S!=null&&d(n,["setup","generationConfig","thinkingConfig"],S);const T=c(i,["enableAffectiveDialog"]);n!==void 0&&T!=null&&d(n,["setup","generationConfig","enableAffectiveDialog"],T);const b=c(i,["systemInstruction"]);n!==void 0&&b!=null&&d(n,["setup","systemInstruction"],DE(be(b)));const C=c(i,["tools"]);if(n!==void 0&&C!=null){let K=xo(C);Array.isArray(K)&&(K=K.map(P=>QE(Io(P)))),d(n,["setup","tools"],K)}const R=c(i,["sessionResumption"]);n!==void 0&&R!=null&&d(n,["setup","sessionResumption"],ZE(R));const M=c(i,["inputAudioTranscription"]);n!==void 0&&M!=null&&d(n,["setup","inputAudioTranscription"],M);const x=c(i,["outputAudioTranscription"]);n!==void 0&&x!=null&&d(n,["setup","outputAudioTranscription"],x);const D=c(i,["realtimeInputConfig"]);n!==void 0&&D!=null&&d(n,["setup","realtimeInputConfig"],D);const G=c(i,["contextWindowCompression"]);n!==void 0&&G!=null&&d(n,["setup","contextWindowCompression"],G);const U=c(i,["proactivity"]);if(n!==void 0&&U!=null&&d(n,["setup","proactivity"],U),c(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function OE(i,n){const o={},a=c(i,["generationConfig"]);n!==void 0&&a!=null&&d(n,["setup","generationConfig"],zE(a));const r=c(i,["responseModalities"]);n!==void 0&&r!=null&&d(n,["setup","generationConfig","responseModalities"],r);const u=c(i,["temperature"]);n!==void 0&&u!=null&&d(n,["setup","generationConfig","temperature"],u);const f=c(i,["topP"]);n!==void 0&&f!=null&&d(n,["setup","generationConfig","topP"],f);const h=c(i,["topK"]);n!==void 0&&h!=null&&d(n,["setup","generationConfig","topK"],h);const g=c(i,["maxOutputTokens"]);n!==void 0&&g!=null&&d(n,["setup","generationConfig","maxOutputTokens"],g);const m=c(i,["mediaResolution"]);n!==void 0&&m!=null&&d(n,["setup","generationConfig","mediaResolution"],m);const v=c(i,["seed"]);n!==void 0&&v!=null&&d(n,["setup","generationConfig","seed"],v);const _=c(i,["speechConfig"]);n!==void 0&&_!=null&&d(n,["setup","generationConfig","speechConfig"],oc(_));const S=c(i,["thinkingConfig"]);n!==void 0&&S!=null&&d(n,["setup","generationConfig","thinkingConfig"],S);const T=c(i,["enableAffectiveDialog"]);n!==void 0&&T!=null&&d(n,["setup","generationConfig","enableAffectiveDialog"],T);const b=c(i,["systemInstruction"]);n!==void 0&&b!=null&&d(n,["setup","systemInstruction"],be(b));const C=c(i,["tools"]);if(n!==void 0&&C!=null){let P=xo(C);Array.isArray(P)&&(P=P.map(et=>$E(Io(et)))),d(n,["setup","tools"],P)}const R=c(i,["sessionResumption"]);n!==void 0&&R!=null&&d(n,["setup","sessionResumption"],R);const M=c(i,["inputAudioTranscription"]);n!==void 0&&M!=null&&d(n,["setup","inputAudioTranscription"],M);const x=c(i,["outputAudioTranscription"]);n!==void 0&&x!=null&&d(n,["setup","outputAudioTranscription"],x);const D=c(i,["realtimeInputConfig"]);n!==void 0&&D!=null&&d(n,["setup","realtimeInputConfig"],D);const G=c(i,["contextWindowCompression"]);n!==void 0&&G!=null&&d(n,["setup","contextWindowCompression"],G);const U=c(i,["proactivity"]);n!==void 0&&U!=null&&d(n,["setup","proactivity"],U);const K=c(i,["explicitVadSignal"]);return n!==void 0&&K!=null&&d(n,["setup","explicitVadSignal"],K),o}function PE(i,n){const o={},a=c(n,["model"]);a!=null&&d(o,["setup","model"],Ft(i,a));const r=c(n,["config"]);return r!=null&&d(o,["config"],HE(r,o)),o}function qE(i,n){const o={},a=c(n,["model"]);a!=null&&d(o,["setup","model"],Ft(i,a));const r=c(n,["config"]);return r!=null&&d(o,["config"],OE(r,o)),o}function VE(i){const n={},o=c(i,["musicGenerationConfig"]);return o!=null&&d(n,["musicGenerationConfig"],o),n}function FE(i){const n={},o=c(i,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),d(n,["weightedPrompts"],a)}return n}function YE(i){const n={},o=c(i,["media"]);if(o!=null){let m=ng(o);Array.isArray(m)&&(m=m.map(v=>ja(v))),d(n,["mediaChunks"],m)}const a=c(i,["audio"]);a!=null&&d(n,["audio"],ja(og(a)));const r=c(i,["audioStreamEnd"]);r!=null&&d(n,["audioStreamEnd"],r);const u=c(i,["video"]);u!=null&&d(n,["video"],ja(ig(u)));const f=c(i,["text"]);f!=null&&d(n,["text"],f);const h=c(i,["activityStart"]);h!=null&&d(n,["activityStart"],h);const g=c(i,["activityEnd"]);return g!=null&&d(n,["activityEnd"],g),n}function JE(i){const n={},o=c(i,["media"]);if(o!=null){let m=ng(o);Array.isArray(m)&&(m=m.map(v=>v)),d(n,["mediaChunks"],m)}const a=c(i,["audio"]);a!=null&&d(n,["audio"],og(a));const r=c(i,["audioStreamEnd"]);r!=null&&d(n,["audioStreamEnd"],r);const u=c(i,["video"]);u!=null&&d(n,["video"],ig(u));const f=c(i,["text"]);f!=null&&d(n,["text"],f);const h=c(i,["activityStart"]);h!=null&&d(n,["activityStart"],h);const g=c(i,["activityEnd"]);return g!=null&&d(n,["activityEnd"],g),n}function KE(i){const n={},o=c(i,["setupComplete"]);o!=null&&d(n,["setupComplete"],o);const a=c(i,["serverContent"]);a!=null&&d(n,["serverContent"],a);const r=c(i,["toolCall"]);r!=null&&d(n,["toolCall"],r);const u=c(i,["toolCallCancellation"]);u!=null&&d(n,["toolCallCancellation"],u);const f=c(i,["usageMetadata"]);f!=null&&d(n,["usageMetadata"],WE(f));const h=c(i,["goAway"]);h!=null&&d(n,["goAway"],h);const g=c(i,["sessionResumptionUpdate"]);g!=null&&d(n,["sessionResumptionUpdate"],g);const m=c(i,["voiceActivityDetectionSignal"]);m!=null&&d(n,["voiceActivityDetectionSignal"],m);const v=c(i,["voiceActivity"]);return v!=null&&d(n,["voiceActivity"],jE(v)),n}function XE(i){const n={},o=c(i,["mediaResolution"]);o!=null&&d(n,["mediaResolution"],o);const a=c(i,["codeExecutionResult"]);a!=null&&d(n,["codeExecutionResult"],a);const r=c(i,["executableCode"]);r!=null&&d(n,["executableCode"],r);const u=c(i,["fileData"]);u!=null&&d(n,["fileData"],UE(u));const f=c(i,["functionCall"]);f!=null&&d(n,["functionCall"],kE(f));const h=c(i,["functionResponse"]);h!=null&&d(n,["functionResponse"],h);const g=c(i,["inlineData"]);g!=null&&d(n,["inlineData"],ja(g));const m=c(i,["text"]);m!=null&&d(n,["text"],m);const v=c(i,["thought"]);v!=null&&d(n,["thought"],v);const _=c(i,["thoughtSignature"]);_!=null&&d(n,["thoughtSignature"],_);const S=c(i,["videoMetadata"]);return S!=null&&d(n,["videoMetadata"],S),n}function ZE(i){const n={},o=c(i,["handle"]);if(o!=null&&d(n,["handle"],o),c(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function QE(i){const n={};if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(i,["computerUse"]);o!=null&&d(n,["computerUse"],o);const a=c(i,["fileSearch"]);a!=null&&d(n,["fileSearch"],a);const r=c(i,["codeExecution"]);if(r!=null&&d(n,["codeExecution"],r),c(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(i,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(_=>_)),d(n,["functionDeclarations"],v)}const f=c(i,["googleMaps"]);f!=null&&d(n,["googleMaps"],GE(f));const h=c(i,["googleSearch"]);h!=null&&d(n,["googleSearch"],BE(h));const g=c(i,["googleSearchRetrieval"]);g!=null&&d(n,["googleSearchRetrieval"],g);const m=c(i,["urlContext"]);return m!=null&&d(n,["urlContext"],m),n}function $E(i){const n={},o=c(i,["retrieval"]);o!=null&&d(n,["retrieval"],o);const a=c(i,["computerUse"]);if(a!=null&&d(n,["computerUse"],a),c(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=c(i,["codeExecution"]);r!=null&&d(n,["codeExecution"],r);const u=c(i,["enterpriseWebSearch"]);u!=null&&d(n,["enterpriseWebSearch"],u);const f=c(i,["functionDeclarations"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(S=>LE(S))),d(n,["functionDeclarations"],_)}const h=c(i,["googleMaps"]);h!=null&&d(n,["googleMaps"],h);const g=c(i,["googleSearch"]);g!=null&&d(n,["googleSearch"],g);const m=c(i,["googleSearchRetrieval"]);m!=null&&d(n,["googleSearchRetrieval"],m);const v=c(i,["urlContext"]);return v!=null&&d(n,["urlContext"],v),n}function WE(i){const n={},o=c(i,["promptTokenCount"]);o!=null&&d(n,["promptTokenCount"],o);const a=c(i,["cachedContentTokenCount"]);a!=null&&d(n,["cachedContentTokenCount"],a);const r=c(i,["candidatesTokenCount"]);r!=null&&d(n,["responseTokenCount"],r);const u=c(i,["toolUsePromptTokenCount"]);u!=null&&d(n,["toolUsePromptTokenCount"],u);const f=c(i,["thoughtsTokenCount"]);f!=null&&d(n,["thoughtsTokenCount"],f);const h=c(i,["totalTokenCount"]);h!=null&&d(n,["totalTokenCount"],h);const g=c(i,["promptTokensDetails"]);if(g!=null){let T=g;Array.isArray(T)&&(T=T.map(b=>b)),d(n,["promptTokensDetails"],T)}const m=c(i,["cacheTokensDetails"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(b=>b)),d(n,["cacheTokensDetails"],T)}const v=c(i,["candidatesTokensDetails"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(b=>b)),d(n,["responseTokensDetails"],T)}const _=c(i,["toolUsePromptTokensDetails"]);if(_!=null){let T=_;Array.isArray(T)&&(T=T.map(b=>b)),d(n,["toolUsePromptTokensDetails"],T)}const S=c(i,["trafficType"]);return S!=null&&d(n,["trafficType"],S),n}function jE(i){const n={},o=c(i,["type"]);return o!=null&&d(n,["voiceActivityType"],o),n}function tC(i,n){const o={},a=c(i,["data"]);if(a!=null&&d(o,["data"],a),c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(i,["mimeType"]);return r!=null&&d(o,["mimeType"],r),o}function eC(i,n){const o={},a=c(i,["content"]);a!=null&&d(o,["content"],a);const r=c(i,["citationMetadata"]);r!=null&&d(o,["citationMetadata"],nC(r));const u=c(i,["tokenCount"]);u!=null&&d(o,["tokenCount"],u);const f=c(i,["finishReason"]);f!=null&&d(o,["finishReason"],f);const h=c(i,["avgLogprobs"]);h!=null&&d(o,["avgLogprobs"],h);const g=c(i,["groundingMetadata"]);g!=null&&d(o,["groundingMetadata"],g);const m=c(i,["index"]);m!=null&&d(o,["index"],m);const v=c(i,["logprobsResult"]);v!=null&&d(o,["logprobsResult"],v);const _=c(i,["safetyRatings"]);if(_!=null){let T=_;Array.isArray(T)&&(T=T.map(b=>b)),d(o,["safetyRatings"],T)}const S=c(i,["urlContextMetadata"]);return S!=null&&d(o,["urlContextMetadata"],S),o}function nC(i,n){const o={},a=c(i,["citationSources"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(u=>u)),d(o,["citations"],r)}return o}function iC(i,n,o){const a={},r=c(n,["model"]);r!=null&&d(a,["_url","model"],Ft(i,r));const u=c(n,["contents"]);if(u!=null){let f=un(u);Array.isArray(f)&&(f=f.map(h=>h)),d(a,["contents"],f)}return a}function oC(i,n){const o={},a=c(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=c(i,["tokensInfo"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),d(o,["tokensInfo"],u)}return o}function lC(i,n){const o={},a=c(i,["values"]);a!=null&&d(o,["values"],a);const r=c(i,["statistics"]);return r!=null&&d(o,["statistics"],aC(r)),o}function aC(i,n){const o={},a=c(i,["truncated"]);a!=null&&d(o,["truncated"],a);const r=c(i,["token_count"]);return r!=null&&d(o,["tokenCount"],r),o}function ar(i,n){const o={},a=c(i,["parts"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>mA(f))),d(o,["parts"],u)}const r=c(i,["role"]);return r!=null&&d(o,["role"],r),o}function rC(i,n){const o={},a=c(i,["controlType"]);a!=null&&d(o,["controlType"],a);const r=c(i,["enableControlImageComputation"]);return r!=null&&d(o,["computeControl"],r),o}function sC(i,n){const o={};if(c(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return o}function uC(i,n,o){const a={},r=c(i,["systemInstruction"]);n!==void 0&&r!=null&&d(n,["systemInstruction"],be(r));const u=c(i,["tools"]);if(n!==void 0&&u!=null){let h=u;Array.isArray(h)&&(h=h.map(g=>vg(g))),d(n,["tools"],h)}const f=c(i,["generationConfig"]);return n!==void 0&&f!=null&&d(n,["generationConfig"],tA(f)),a}function cC(i,n,o){const a={},r=c(n,["model"]);r!=null&&d(a,["_url","model"],Ft(i,r));const u=c(n,["contents"]);if(u!=null){let h=un(u);Array.isArray(h)&&(h=h.map(g=>ar(g))),d(a,["contents"],h)}const f=c(n,["config"]);return f!=null&&sC(f),a}function fC(i,n,o){const a={},r=c(n,["model"]);r!=null&&d(a,["_url","model"],Ft(i,r));const u=c(n,["contents"]);if(u!=null){let h=un(u);Array.isArray(h)&&(h=h.map(g=>g)),d(a,["contents"],h)}const f=c(n,["config"]);return f!=null&&uC(f,a),a}function dC(i,n){const o={},a=c(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=c(i,["totalTokens"]);r!=null&&d(o,["totalTokens"],r);const u=c(i,["cachedContentTokenCount"]);return u!=null&&d(o,["cachedContentTokenCount"],u),o}function hC(i,n){const o={},a=c(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=c(i,["totalTokens"]);return r!=null&&d(o,["totalTokens"],r),o}function pC(i,n,o){const a={},r=c(n,["model"]);return r!=null&&d(a,["_url","name"],Ft(i,r)),a}function mC(i,n,o){const a={},r=c(n,["model"]);return r!=null&&d(a,["_url","name"],Ft(i,r)),a}function gC(i,n){const o={},a=c(i,["sdkHttpResponse"]);return a!=null&&d(o,["sdkHttpResponse"],a),o}function yC(i,n){const o={},a=c(i,["sdkHttpResponse"]);return a!=null&&d(o,["sdkHttpResponse"],a),o}function vC(i,n,o){const a={},r=c(i,["outputGcsUri"]);n!==void 0&&r!=null&&d(n,["parameters","storageUri"],r);const u=c(i,["negativePrompt"]);n!==void 0&&u!=null&&d(n,["parameters","negativePrompt"],u);const f=c(i,["numberOfImages"]);n!==void 0&&f!=null&&d(n,["parameters","sampleCount"],f);const h=c(i,["aspectRatio"]);n!==void 0&&h!=null&&d(n,["parameters","aspectRatio"],h);const g=c(i,["guidanceScale"]);n!==void 0&&g!=null&&d(n,["parameters","guidanceScale"],g);const m=c(i,["seed"]);n!==void 0&&m!=null&&d(n,["parameters","seed"],m);const v=c(i,["safetyFilterLevel"]);n!==void 0&&v!=null&&d(n,["parameters","safetySetting"],v);const _=c(i,["personGeneration"]);n!==void 0&&_!=null&&d(n,["parameters","personGeneration"],_);const S=c(i,["includeSafetyAttributes"]);n!==void 0&&S!=null&&d(n,["parameters","includeSafetyAttributes"],S);const T=c(i,["includeRaiReason"]);n!==void 0&&T!=null&&d(n,["parameters","includeRaiReason"],T);const b=c(i,["language"]);n!==void 0&&b!=null&&d(n,["parameters","language"],b);const C=c(i,["outputMimeType"]);n!==void 0&&C!=null&&d(n,["parameters","outputOptions","mimeType"],C);const R=c(i,["outputCompressionQuality"]);n!==void 0&&R!=null&&d(n,["parameters","outputOptions","compressionQuality"],R);const M=c(i,["addWatermark"]);n!==void 0&&M!=null&&d(n,["parameters","addWatermark"],M);const x=c(i,["labels"]);n!==void 0&&x!=null&&d(n,["labels"],x);const D=c(i,["editMode"]);n!==void 0&&D!=null&&d(n,["parameters","editMode"],D);const G=c(i,["baseSteps"]);return n!==void 0&&G!=null&&d(n,["parameters","editConfig","baseSteps"],G),a}function _C(i,n,o){const a={},r=c(n,["model"]);r!=null&&d(a,["_url","model"],Ft(i,r));const u=c(n,["prompt"]);u!=null&&d(a,["instances[0]","prompt"],u);const f=c(n,["referenceImages"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(m=>TA(m))),d(a,["instances[0]","referenceImages"],g)}const h=c(n,["config"]);return h!=null&&vC(h,a),a}function SC(i,n){const o={},a=c(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=c(i,["predictions"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>rr(f))),d(o,["generatedImages"],u)}return o}function TC(i,n,o){const a={},r=c(i,["taskType"]);n!==void 0&&r!=null&&d(n,["requests[]","taskType"],r);const u=c(i,["title"]);n!==void 0&&u!=null&&d(n,["requests[]","title"],u);const f=c(i,["outputDimensionality"]);if(n!==void 0&&f!=null&&d(n,["requests[]","outputDimensionality"],f),c(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return a}function EC(i,n,o){const a={},r=c(i,["taskType"]);n!==void 0&&r!=null&&d(n,["instances[]","task_type"],r);const u=c(i,["title"]);n!==void 0&&u!=null&&d(n,["instances[]","title"],u);const f=c(i,["outputDimensionality"]);n!==void 0&&f!=null&&d(n,["parameters","outputDimensionality"],f);const h=c(i,["mimeType"]);n!==void 0&&h!=null&&d(n,["instances[]","mimeType"],h);const g=c(i,["autoTruncate"]);return n!==void 0&&g!=null&&d(n,["parameters","autoTruncate"],g),a}function CC(i,n,o){const a={},r=c(n,["model"]);r!=null&&d(a,["_url","model"],Ft(i,r));const u=c(n,["contents"]);if(u!=null){let g=ec(i,u);Array.isArray(g)&&(g=g.map(m=>m)),d(a,["requests[]","content"],g)}const f=c(n,["config"]);f!=null&&TC(f,a);const h=c(n,["model"]);return h!==void 0&&d(a,["requests[]","model"],Ft(i,h)),a}function AC(i,n,o){const a={},r=c(n,["model"]);r!=null&&d(a,["_url","model"],Ft(i,r));const u=c(n,["contents"]);if(u!=null){let h=ec(i,u);Array.isArray(h)&&(h=h.map(g=>g)),d(a,["instances[]","content"],h)}const f=c(n,["config"]);return f!=null&&EC(f,a),a}function RC(i,n){const o={},a=c(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=c(i,["embeddings"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),d(o,["embeddings"],f)}const u=c(i,["metadata"]);return u!=null&&d(o,["metadata"],u),o}function bC(i,n){const o={},a=c(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=c(i,["predictions[]","embeddings"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>lC(h))),d(o,["embeddings"],f)}const u=c(i,["metadata"]);return u!=null&&d(o,["metadata"],u),o}function wC(i,n){const o={},a=c(i,["endpoint"]);a!=null&&d(o,["name"],a);const r=c(i,["deployedModelId"]);return r!=null&&d(o,["deployedModelId"],r),o}function MC(i,n){const o={};if(c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=c(i,["fileUri"]);a!=null&&d(o,["fileUri"],a);const r=c(i,["mimeType"]);return r!=null&&d(o,["mimeType"],r),o}function NC(i,n){const o={},a=c(i,["id"]);a!=null&&d(o,["id"],a);const r=c(i,["args"]);r!=null&&d(o,["args"],r);const u=c(i,["name"]);if(u!=null&&d(o,["name"],u),c(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return o}function IC(i,n){const o={},a=c(i,["allowedFunctionNames"]);a!=null&&d(o,["allowedFunctionNames"],a);const r=c(i,["mode"]);if(r!=null&&d(o,["mode"],r),c(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return o}function xC(i,n){const o={},a=c(i,["description"]);a!=null&&d(o,["description"],a);const r=c(i,["name"]);r!=null&&d(o,["name"],r);const u=c(i,["parameters"]);u!=null&&d(o,["parameters"],u);const f=c(i,["parametersJsonSchema"]);f!=null&&d(o,["parametersJsonSchema"],f);const h=c(i,["response"]);h!=null&&d(o,["response"],h);const g=c(i,["responseJsonSchema"]);if(g!=null&&d(o,["responseJsonSchema"],g),c(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return o}function DC(i,n,o,a){const r={},u=c(n,["systemInstruction"]);o!==void 0&&u!=null&&d(o,["systemInstruction"],ar(be(u)));const f=c(n,["temperature"]);f!=null&&d(r,["temperature"],f);const h=c(n,["topP"]);h!=null&&d(r,["topP"],h);const g=c(n,["topK"]);g!=null&&d(r,["topK"],g);const m=c(n,["candidateCount"]);m!=null&&d(r,["candidateCount"],m);const v=c(n,["maxOutputTokens"]);v!=null&&d(r,["maxOutputTokens"],v);const _=c(n,["stopSequences"]);_!=null&&d(r,["stopSequences"],_);const S=c(n,["responseLogprobs"]);S!=null&&d(r,["responseLogprobs"],S);const T=c(n,["logprobs"]);T!=null&&d(r,["logprobs"],T);const b=c(n,["presencePenalty"]);b!=null&&d(r,["presencePenalty"],b);const C=c(n,["frequencyPenalty"]);C!=null&&d(r,["frequencyPenalty"],C);const R=c(n,["seed"]);R!=null&&d(r,["seed"],R);const M=c(n,["responseMimeType"]);M!=null&&d(r,["responseMimeType"],M);const x=c(n,["responseSchema"]);x!=null&&d(r,["responseSchema"],nc(x));const D=c(n,["responseJsonSchema"]);if(D!=null&&d(r,["responseJsonSchema"],D),c(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const G=c(n,["safetySettings"]);if(o!==void 0&&G!=null){let w=G;Array.isArray(w)&&(w=w.map(it=>EA(it))),d(o,["safetySettings"],w)}const U=c(n,["tools"]);if(o!==void 0&&U!=null){let w=xo(U);Array.isArray(w)&&(w=w.map(it=>NA(Io(it)))),d(o,["tools"],w)}const K=c(n,["toolConfig"]);if(o!==void 0&&K!=null&&d(o,["toolConfig"],MA(K)),c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=c(n,["cachedContent"]);o!==void 0&&P!=null&&d(o,["cachedContent"],Fn(i,P));const et=c(n,["responseModalities"]);et!=null&&d(r,["responseModalities"],et);const q=c(n,["mediaResolution"]);q!=null&&d(r,["mediaResolution"],q);const at=c(n,["speechConfig"]);if(at!=null&&d(r,["speechConfig"],ic(at)),c(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const vt=c(n,["thinkingConfig"]);vt!=null&&d(r,["thinkingConfig"],vt);const B=c(n,["imageConfig"]);B!=null&&d(r,["imageConfig"],lA(B));const W=c(n,["enableEnhancedCivicAnswers"]);if(W!=null&&d(r,["enableEnhancedCivicAnswers"],W),c(n,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function UC(i,n,o,a){const r={},u=c(n,["systemInstruction"]);o!==void 0&&u!=null&&d(o,["systemInstruction"],be(u));const f=c(n,["temperature"]);f!=null&&d(r,["temperature"],f);const h=c(n,["topP"]);h!=null&&d(r,["topP"],h);const g=c(n,["topK"]);g!=null&&d(r,["topK"],g);const m=c(n,["candidateCount"]);m!=null&&d(r,["candidateCount"],m);const v=c(n,["maxOutputTokens"]);v!=null&&d(r,["maxOutputTokens"],v);const _=c(n,["stopSequences"]);_!=null&&d(r,["stopSequences"],_);const S=c(n,["responseLogprobs"]);S!=null&&d(r,["responseLogprobs"],S);const T=c(n,["logprobs"]);T!=null&&d(r,["logprobs"],T);const b=c(n,["presencePenalty"]);b!=null&&d(r,["presencePenalty"],b);const C=c(n,["frequencyPenalty"]);C!=null&&d(r,["frequencyPenalty"],C);const R=c(n,["seed"]);R!=null&&d(r,["seed"],R);const M=c(n,["responseMimeType"]);M!=null&&d(r,["responseMimeType"],M);const x=c(n,["responseSchema"]);x!=null&&d(r,["responseSchema"],nc(x));const D=c(n,["responseJsonSchema"]);D!=null&&d(r,["responseJsonSchema"],D);const G=c(n,["routingConfig"]);G!=null&&d(r,["routingConfig"],G);const U=c(n,["modelSelectionConfig"]);U!=null&&d(r,["modelConfig"],U);const K=c(n,["safetySettings"]);if(o!==void 0&&K!=null){let mt=K;Array.isArray(mt)&&(mt=mt.map(rt=>rt)),d(o,["safetySettings"],mt)}const P=c(n,["tools"]);if(o!==void 0&&P!=null){let mt=xo(P);Array.isArray(mt)&&(mt=mt.map(rt=>vg(Io(rt)))),d(o,["tools"],mt)}const et=c(n,["toolConfig"]);o!==void 0&&et!=null&&d(o,["toolConfig"],et);const q=c(n,["labels"]);o!==void 0&&q!=null&&d(o,["labels"],q);const at=c(n,["cachedContent"]);o!==void 0&&at!=null&&d(o,["cachedContent"],Fn(i,at));const vt=c(n,["responseModalities"]);vt!=null&&d(r,["responseModalities"],vt);const B=c(n,["mediaResolution"]);B!=null&&d(r,["mediaResolution"],B);const W=c(n,["speechConfig"]);W!=null&&d(r,["speechConfig"],ic(W));const w=c(n,["audioTimestamp"]);w!=null&&d(r,["audioTimestamp"],w);const it=c(n,["thinkingConfig"]);it!=null&&d(r,["thinkingConfig"],it);const J=c(n,["imageConfig"]);if(J!=null&&d(r,["imageConfig"],aA(J)),c(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const Y=c(n,["modelArmorConfig"]);return o!==void 0&&Y!=null&&d(o,["modelArmorConfig"],Y),r}function Lm(i,n,o){const a={},r=c(n,["model"]);r!=null&&d(a,["_url","model"],Ft(i,r));const u=c(n,["contents"]);if(u!=null){let h=un(u);Array.isArray(h)&&(h=h.map(g=>ar(g))),d(a,["contents"],h)}const f=c(n,["config"]);return f!=null&&d(a,["generationConfig"],DC(i,f,a)),a}function zm(i,n,o){const a={},r=c(n,["model"]);r!=null&&d(a,["_url","model"],Ft(i,r));const u=c(n,["contents"]);if(u!=null){let h=un(u);Array.isArray(h)&&(h=h.map(g=>g)),d(a,["contents"],h)}const f=c(n,["config"]);return f!=null&&d(a,["generationConfig"],UC(i,f,a)),a}function Gm(i,n){const o={},a=c(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=c(i,["candidates"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(v=>eC(v))),d(o,["candidates"],m)}const u=c(i,["modelVersion"]);u!=null&&d(o,["modelVersion"],u);const f=c(i,["promptFeedback"]);f!=null&&d(o,["promptFeedback"],f);const h=c(i,["responseId"]);h!=null&&d(o,["responseId"],h);const g=c(i,["usageMetadata"]);return g!=null&&d(o,["usageMetadata"],g),o}function Bm(i,n){const o={},a=c(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=c(i,["candidates"]);if(r!=null){let v=r;Array.isArray(v)&&(v=v.map(_=>_)),d(o,["candidates"],v)}const u=c(i,["createTime"]);u!=null&&d(o,["createTime"],u);const f=c(i,["modelVersion"]);f!=null&&d(o,["modelVersion"],f);const h=c(i,["promptFeedback"]);h!=null&&d(o,["promptFeedback"],h);const g=c(i,["responseId"]);g!=null&&d(o,["responseId"],g);const m=c(i,["usageMetadata"]);return m!=null&&d(o,["usageMetadata"],m),o}function kC(i,n,o){const a={};if(c(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=c(i,["numberOfImages"]);n!==void 0&&r!=null&&d(n,["parameters","sampleCount"],r);const u=c(i,["aspectRatio"]);n!==void 0&&u!=null&&d(n,["parameters","aspectRatio"],u);const f=c(i,["guidanceScale"]);if(n!==void 0&&f!=null&&d(n,["parameters","guidanceScale"],f),c(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=c(i,["safetyFilterLevel"]);n!==void 0&&h!=null&&d(n,["parameters","safetySetting"],h);const g=c(i,["personGeneration"]);n!==void 0&&g!=null&&d(n,["parameters","personGeneration"],g);const m=c(i,["includeSafetyAttributes"]);n!==void 0&&m!=null&&d(n,["parameters","includeSafetyAttributes"],m);const v=c(i,["includeRaiReason"]);n!==void 0&&v!=null&&d(n,["parameters","includeRaiReason"],v);const _=c(i,["language"]);n!==void 0&&_!=null&&d(n,["parameters","language"],_);const S=c(i,["outputMimeType"]);n!==void 0&&S!=null&&d(n,["parameters","outputOptions","mimeType"],S);const T=c(i,["outputCompressionQuality"]);if(n!==void 0&&T!=null&&d(n,["parameters","outputOptions","compressionQuality"],T),c(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=c(i,["imageSize"]);if(n!==void 0&&b!=null&&d(n,["parameters","sampleImageSize"],b),c(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return a}function LC(i,n,o){const a={},r=c(i,["outputGcsUri"]);n!==void 0&&r!=null&&d(n,["parameters","storageUri"],r);const u=c(i,["negativePrompt"]);n!==void 0&&u!=null&&d(n,["parameters","negativePrompt"],u);const f=c(i,["numberOfImages"]);n!==void 0&&f!=null&&d(n,["parameters","sampleCount"],f);const h=c(i,["aspectRatio"]);n!==void 0&&h!=null&&d(n,["parameters","aspectRatio"],h);const g=c(i,["guidanceScale"]);n!==void 0&&g!=null&&d(n,["parameters","guidanceScale"],g);const m=c(i,["seed"]);n!==void 0&&m!=null&&d(n,["parameters","seed"],m);const v=c(i,["safetyFilterLevel"]);n!==void 0&&v!=null&&d(n,["parameters","safetySetting"],v);const _=c(i,["personGeneration"]);n!==void 0&&_!=null&&d(n,["parameters","personGeneration"],_);const S=c(i,["includeSafetyAttributes"]);n!==void 0&&S!=null&&d(n,["parameters","includeSafetyAttributes"],S);const T=c(i,["includeRaiReason"]);n!==void 0&&T!=null&&d(n,["parameters","includeRaiReason"],T);const b=c(i,["language"]);n!==void 0&&b!=null&&d(n,["parameters","language"],b);const C=c(i,["outputMimeType"]);n!==void 0&&C!=null&&d(n,["parameters","outputOptions","mimeType"],C);const R=c(i,["outputCompressionQuality"]);n!==void 0&&R!=null&&d(n,["parameters","outputOptions","compressionQuality"],R);const M=c(i,["addWatermark"]);n!==void 0&&M!=null&&d(n,["parameters","addWatermark"],M);const x=c(i,["labels"]);n!==void 0&&x!=null&&d(n,["labels"],x);const D=c(i,["imageSize"]);n!==void 0&&D!=null&&d(n,["parameters","sampleImageSize"],D);const G=c(i,["enhancePrompt"]);return n!==void 0&&G!=null&&d(n,["parameters","enhancePrompt"],G),a}function zC(i,n,o){const a={},r=c(n,["model"]);r!=null&&d(a,["_url","model"],Ft(i,r));const u=c(n,["prompt"]);u!=null&&d(a,["instances[0]","prompt"],u);const f=c(n,["config"]);return f!=null&&kC(f,a),a}function GC(i,n,o){const a={},r=c(n,["model"]);r!=null&&d(a,["_url","model"],Ft(i,r));const u=c(n,["prompt"]);u!=null&&d(a,["instances[0]","prompt"],u);const f=c(n,["config"]);return f!=null&&LC(f,a),a}function BC(i,n){const o={},a=c(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=c(i,["predictions"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>QC(h))),d(o,["generatedImages"],f)}const u=c(i,["positivePromptSafetyAttributes"]);return u!=null&&d(o,["positivePromptSafetyAttributes"],gg(u)),o}function HC(i,n){const o={},a=c(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=c(i,["predictions"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>rr(h))),d(o,["generatedImages"],f)}const u=c(i,["positivePromptSafetyAttributes"]);return u!=null&&d(o,["positivePromptSafetyAttributes"],yg(u)),o}function OC(i,n,o){const a={},r=c(i,["numberOfVideos"]);if(n!==void 0&&r!=null&&d(n,["parameters","sampleCount"],r),c(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=c(i,["durationSeconds"]);if(n!==void 0&&u!=null&&d(n,["parameters","durationSeconds"],u),c(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=c(i,["aspectRatio"]);n!==void 0&&f!=null&&d(n,["parameters","aspectRatio"],f);const h=c(i,["resolution"]);n!==void 0&&h!=null&&d(n,["parameters","resolution"],h);const g=c(i,["personGeneration"]);if(n!==void 0&&g!=null&&d(n,["parameters","personGeneration"],g),c(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const m=c(i,["negativePrompt"]);n!==void 0&&m!=null&&d(n,["parameters","negativePrompt"],m);const v=c(i,["enhancePrompt"]);if(n!==void 0&&v!=null&&d(n,["parameters","enhancePrompt"],v),c(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const _=c(i,["lastFrame"]);n!==void 0&&_!=null&&d(n,["instances[0]","lastFrame"],sr(_));const S=c(i,["referenceImages"]);if(n!==void 0&&S!=null){let T=S;Array.isArray(T)&&(T=T.map(b=>qA(b))),d(n,["instances[0]","referenceImages"],T)}if(c(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return a}function PC(i,n,o){const a={},r=c(i,["numberOfVideos"]);n!==void 0&&r!=null&&d(n,["parameters","sampleCount"],r);const u=c(i,["outputGcsUri"]);n!==void 0&&u!=null&&d(n,["parameters","storageUri"],u);const f=c(i,["fps"]);n!==void 0&&f!=null&&d(n,["parameters","fps"],f);const h=c(i,["durationSeconds"]);n!==void 0&&h!=null&&d(n,["parameters","durationSeconds"],h);const g=c(i,["seed"]);n!==void 0&&g!=null&&d(n,["parameters","seed"],g);const m=c(i,["aspectRatio"]);n!==void 0&&m!=null&&d(n,["parameters","aspectRatio"],m);const v=c(i,["resolution"]);n!==void 0&&v!=null&&d(n,["parameters","resolution"],v);const _=c(i,["personGeneration"]);n!==void 0&&_!=null&&d(n,["parameters","personGeneration"],_);const S=c(i,["pubsubTopic"]);n!==void 0&&S!=null&&d(n,["parameters","pubsubTopic"],S);const T=c(i,["negativePrompt"]);n!==void 0&&T!=null&&d(n,["parameters","negativePrompt"],T);const b=c(i,["enhancePrompt"]);n!==void 0&&b!=null&&d(n,["parameters","enhancePrompt"],b);const C=c(i,["generateAudio"]);n!==void 0&&C!=null&&d(n,["parameters","generateAudio"],C);const R=c(i,["lastFrame"]);n!==void 0&&R!=null&&d(n,["instances[0]","lastFrame"],vn(R));const M=c(i,["referenceImages"]);if(n!==void 0&&M!=null){let G=M;Array.isArray(G)&&(G=G.map(U=>VA(U))),d(n,["instances[0]","referenceImages"],G)}const x=c(i,["mask"]);n!==void 0&&x!=null&&d(n,["instances[0]","mask"],PA(x));const D=c(i,["compressionQuality"]);return n!==void 0&&D!=null&&d(n,["parameters","compressionQuality"],D),a}function qC(i,n){const o={},a=c(i,["name"]);a!=null&&d(o,["name"],a);const r=c(i,["metadata"]);r!=null&&d(o,["metadata"],r);const u=c(i,["done"]);u!=null&&d(o,["done"],u);const f=c(i,["error"]);f!=null&&d(o,["error"],f);const h=c(i,["response","generateVideoResponse"]);return h!=null&&d(o,["response"],JC(h)),o}function VC(i,n){const o={},a=c(i,["name"]);a!=null&&d(o,["name"],a);const r=c(i,["metadata"]);r!=null&&d(o,["metadata"],r);const u=c(i,["done"]);u!=null&&d(o,["done"],u);const f=c(i,["error"]);f!=null&&d(o,["error"],f);const h=c(i,["response"]);return h!=null&&d(o,["response"],KC(h)),o}function FC(i,n,o){const a={},r=c(n,["model"]);r!=null&&d(a,["_url","model"],Ft(i,r));const u=c(n,["prompt"]);u!=null&&d(a,["instances[0]","prompt"],u);const f=c(n,["image"]);f!=null&&d(a,["instances[0]","image"],sr(f));const h=c(n,["video"]);h!=null&&d(a,["instances[0]","video"],_g(h));const g=c(n,["source"]);g!=null&&XC(g,a);const m=c(n,["config"]);return m!=null&&OC(m,a),a}function YC(i,n,o){const a={},r=c(n,["model"]);r!=null&&d(a,["_url","model"],Ft(i,r));const u=c(n,["prompt"]);u!=null&&d(a,["instances[0]","prompt"],u);const f=c(n,["image"]);f!=null&&d(a,["instances[0]","image"],vn(f));const h=c(n,["video"]);h!=null&&d(a,["instances[0]","video"],Sg(h));const g=c(n,["source"]);g!=null&&ZC(g,a);const m=c(n,["config"]);return m!=null&&PC(m,a),a}function JC(i,n){const o={},a=c(i,["generatedSamples"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>WC(h))),d(o,["generatedVideos"],f)}const r=c(i,["raiMediaFilteredCount"]);r!=null&&d(o,["raiMediaFilteredCount"],r);const u=c(i,["raiMediaFilteredReasons"]);return u!=null&&d(o,["raiMediaFilteredReasons"],u),o}function KC(i,n){const o={},a=c(i,["videos"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>jC(h))),d(o,["generatedVideos"],f)}const r=c(i,["raiMediaFilteredCount"]);r!=null&&d(o,["raiMediaFilteredCount"],r);const u=c(i,["raiMediaFilteredReasons"]);return u!=null&&d(o,["raiMediaFilteredReasons"],u),o}function XC(i,n,o){const a={},r=c(i,["prompt"]);n!==void 0&&r!=null&&d(n,["instances[0]","prompt"],r);const u=c(i,["image"]);n!==void 0&&u!=null&&d(n,["instances[0]","image"],sr(u));const f=c(i,["video"]);return n!==void 0&&f!=null&&d(n,["instances[0]","video"],_g(f)),a}function ZC(i,n,o){const a={},r=c(i,["prompt"]);n!==void 0&&r!=null&&d(n,["instances[0]","prompt"],r);const u=c(i,["image"]);n!==void 0&&u!=null&&d(n,["instances[0]","image"],vn(u));const f=c(i,["video"]);return n!==void 0&&f!=null&&d(n,["instances[0]","video"],Sg(f)),a}function QC(i,n){const o={},a=c(i,["_self"]);a!=null&&d(o,["image"],rA(a));const r=c(i,["raiFilteredReason"]);r!=null&&d(o,["raiFilteredReason"],r);const u=c(i,["_self"]);return u!=null&&d(o,["safetyAttributes"],gg(u)),o}function rr(i,n){const o={},a=c(i,["_self"]);a!=null&&d(o,["image"],mg(a));const r=c(i,["raiFilteredReason"]);r!=null&&d(o,["raiFilteredReason"],r);const u=c(i,["_self"]);u!=null&&d(o,["safetyAttributes"],yg(u));const f=c(i,["prompt"]);return f!=null&&d(o,["enhancedPrompt"],f),o}function $C(i,n){const o={},a=c(i,["_self"]);a!=null&&d(o,["mask"],mg(a));const r=c(i,["labels"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),d(o,["labels"],u)}return o}function WC(i,n){const o={},a=c(i,["video"]);return a!=null&&d(o,["video"],HA(a)),o}function jC(i,n){const o={},a=c(i,["_self"]);return a!=null&&d(o,["video"],OA(a)),o}function tA(i,n){const o={},a=c(i,["modelSelectionConfig"]);a!=null&&d(o,["modelConfig"],a);const r=c(i,["responseJsonSchema"]);r!=null&&d(o,["responseJsonSchema"],r);const u=c(i,["audioTimestamp"]);u!=null&&d(o,["audioTimestamp"],u);const f=c(i,["candidateCount"]);f!=null&&d(o,["candidateCount"],f);const h=c(i,["enableAffectiveDialog"]);h!=null&&d(o,["enableAffectiveDialog"],h);const g=c(i,["frequencyPenalty"]);g!=null&&d(o,["frequencyPenalty"],g);const m=c(i,["logprobs"]);m!=null&&d(o,["logprobs"],m);const v=c(i,["maxOutputTokens"]);v!=null&&d(o,["maxOutputTokens"],v);const _=c(i,["mediaResolution"]);_!=null&&d(o,["mediaResolution"],_);const S=c(i,["presencePenalty"]);S!=null&&d(o,["presencePenalty"],S);const T=c(i,["responseLogprobs"]);T!=null&&d(o,["responseLogprobs"],T);const b=c(i,["responseMimeType"]);b!=null&&d(o,["responseMimeType"],b);const C=c(i,["responseModalities"]);C!=null&&d(o,["responseModalities"],C);const R=c(i,["responseSchema"]);R!=null&&d(o,["responseSchema"],R);const M=c(i,["routingConfig"]);M!=null&&d(o,["routingConfig"],M);const x=c(i,["seed"]);x!=null&&d(o,["seed"],x);const D=c(i,["speechConfig"]);D!=null&&d(o,["speechConfig"],D);const G=c(i,["stopSequences"]);G!=null&&d(o,["stopSequences"],G);const U=c(i,["temperature"]);U!=null&&d(o,["temperature"],U);const K=c(i,["thinkingConfig"]);K!=null&&d(o,["thinkingConfig"],K);const P=c(i,["topK"]);P!=null&&d(o,["topK"],P);const et=c(i,["topP"]);if(et!=null&&d(o,["topP"],et),c(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function eA(i,n,o){const a={},r=c(n,["model"]);return r!=null&&d(a,["_url","name"],Ft(i,r)),a}function nA(i,n,o){const a={},r=c(n,["model"]);return r!=null&&d(a,["_url","name"],Ft(i,r)),a}function iA(i,n){const o={};if(c(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const a=c(i,["enableWidget"]);return a!=null&&d(o,["enableWidget"],a),o}function oA(i,n){const o={};if(c(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const a=c(i,["timeRangeFilter"]);return a!=null&&d(o,["timeRangeFilter"],a),o}function lA(i,n){const o={},a=c(i,["aspectRatio"]);a!=null&&d(o,["aspectRatio"],a);const r=c(i,["imageSize"]);if(r!=null&&d(o,["imageSize"],r),c(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(c(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return o}function aA(i,n){const o={},a=c(i,["aspectRatio"]);a!=null&&d(o,["aspectRatio"],a);const r=c(i,["imageSize"]);r!=null&&d(o,["imageSize"],r);const u=c(i,["personGeneration"]);u!=null&&d(o,["personGeneration"],u);const f=c(i,["outputMimeType"]);f!=null&&d(o,["imageOutputOptions","mimeType"],f);const h=c(i,["outputCompressionQuality"]);return h!=null&&d(o,["imageOutputOptions","compressionQuality"],h),o}function rA(i,n){const o={},a=c(i,["bytesBase64Encoded"]);a!=null&&d(o,["imageBytes"],yi(a));const r=c(i,["mimeType"]);return r!=null&&d(o,["mimeType"],r),o}function mg(i,n){const o={},a=c(i,["gcsUri"]);a!=null&&d(o,["gcsUri"],a);const r=c(i,["bytesBase64Encoded"]);r!=null&&d(o,["imageBytes"],yi(r));const u=c(i,["mimeType"]);return u!=null&&d(o,["mimeType"],u),o}function sr(i,n){const o={};if(c(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const a=c(i,["imageBytes"]);a!=null&&d(o,["bytesBase64Encoded"],yi(a));const r=c(i,["mimeType"]);return r!=null&&d(o,["mimeType"],r),o}function vn(i,n){const o={},a=c(i,["gcsUri"]);a!=null&&d(o,["gcsUri"],a);const r=c(i,["imageBytes"]);r!=null&&d(o,["bytesBase64Encoded"],yi(r));const u=c(i,["mimeType"]);return u!=null&&d(o,["mimeType"],u),o}function sA(i,n,o,a){const r={},u=c(n,["pageSize"]);o!==void 0&&u!=null&&d(o,["_query","pageSize"],u);const f=c(n,["pageToken"]);o!==void 0&&f!=null&&d(o,["_query","pageToken"],f);const h=c(n,["filter"]);o!==void 0&&h!=null&&d(o,["_query","filter"],h);const g=c(n,["queryBase"]);return o!==void 0&&g!=null&&d(o,["_url","models_url"],sg(i,g)),r}function uA(i,n,o,a){const r={},u=c(n,["pageSize"]);o!==void 0&&u!=null&&d(o,["_query","pageSize"],u);const f=c(n,["pageToken"]);o!==void 0&&f!=null&&d(o,["_query","pageToken"],f);const h=c(n,["filter"]);o!==void 0&&h!=null&&d(o,["_query","filter"],h);const g=c(n,["queryBase"]);return o!==void 0&&g!=null&&d(o,["_url","models_url"],sg(i,g)),r}function cA(i,n,o){const a={},r=c(n,["config"]);return r!=null&&sA(i,r,a),a}function fA(i,n,o){const a={},r=c(n,["config"]);return r!=null&&uA(i,r,a),a}function dA(i,n){const o={},a=c(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=c(i,["nextPageToken"]);r!=null&&d(o,["nextPageToken"],r);const u=c(i,["_self"]);if(u!=null){let f=ug(u);Array.isArray(f)&&(f=f.map(h=>qu(h))),d(o,["models"],f)}return o}function hA(i,n){const o={},a=c(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=c(i,["nextPageToken"]);r!=null&&d(o,["nextPageToken"],r);const u=c(i,["_self"]);if(u!=null){let f=ug(u);Array.isArray(f)&&(f=f.map(h=>Vu(h))),d(o,["models"],f)}return o}function pA(i,n){const o={},a=c(i,["maskMode"]);a!=null&&d(o,["maskMode"],a);const r=c(i,["segmentationClasses"]);r!=null&&d(o,["maskClasses"],r);const u=c(i,["maskDilation"]);return u!=null&&d(o,["dilation"],u),o}function qu(i,n){const o={},a=c(i,["name"]);a!=null&&d(o,["name"],a);const r=c(i,["displayName"]);r!=null&&d(o,["displayName"],r);const u=c(i,["description"]);u!=null&&d(o,["description"],u);const f=c(i,["version"]);f!=null&&d(o,["version"],f);const h=c(i,["_self"]);h!=null&&d(o,["tunedModelInfo"],IA(h));const g=c(i,["inputTokenLimit"]);g!=null&&d(o,["inputTokenLimit"],g);const m=c(i,["outputTokenLimit"]);m!=null&&d(o,["outputTokenLimit"],m);const v=c(i,["supportedGenerationMethods"]);v!=null&&d(o,["supportedActions"],v);const _=c(i,["temperature"]);_!=null&&d(o,["temperature"],_);const S=c(i,["maxTemperature"]);S!=null&&d(o,["maxTemperature"],S);const T=c(i,["topP"]);T!=null&&d(o,["topP"],T);const b=c(i,["topK"]);b!=null&&d(o,["topK"],b);const C=c(i,["thinking"]);return C!=null&&d(o,["thinking"],C),o}function Vu(i,n){const o={},a=c(i,["name"]);a!=null&&d(o,["name"],a);const r=c(i,["displayName"]);r!=null&&d(o,["displayName"],r);const u=c(i,["description"]);u!=null&&d(o,["description"],u);const f=c(i,["versionId"]);f!=null&&d(o,["version"],f);const h=c(i,["deployedModels"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(T=>wC(T))),d(o,["endpoints"],S)}const g=c(i,["labels"]);g!=null&&d(o,["labels"],g);const m=c(i,["_self"]);m!=null&&d(o,["tunedModelInfo"],xA(m));const v=c(i,["defaultCheckpointId"]);v!=null&&d(o,["defaultCheckpointId"],v);const _=c(i,["checkpoints"]);if(_!=null){let S=_;Array.isArray(S)&&(S=S.map(T=>T)),d(o,["checkpoints"],S)}return o}function mA(i,n){const o={},a=c(i,["mediaResolution"]);a!=null&&d(o,["mediaResolution"],a);const r=c(i,["codeExecutionResult"]);r!=null&&d(o,["codeExecutionResult"],r);const u=c(i,["executableCode"]);u!=null&&d(o,["executableCode"],u);const f=c(i,["fileData"]);f!=null&&d(o,["fileData"],MC(f));const h=c(i,["functionCall"]);h!=null&&d(o,["functionCall"],NC(h));const g=c(i,["functionResponse"]);g!=null&&d(o,["functionResponse"],g);const m=c(i,["inlineData"]);m!=null&&d(o,["inlineData"],tC(m));const v=c(i,["text"]);v!=null&&d(o,["text"],v);const _=c(i,["thought"]);_!=null&&d(o,["thought"],_);const S=c(i,["thoughtSignature"]);S!=null&&d(o,["thoughtSignature"],S);const T=c(i,["videoMetadata"]);return T!=null&&d(o,["videoMetadata"],T),o}function gA(i,n){const o={},a=c(i,["productImage"]);return a!=null&&d(o,["image"],vn(a)),o}function yA(i,n,o){const a={},r=c(i,["numberOfImages"]);n!==void 0&&r!=null&&d(n,["parameters","sampleCount"],r);const u=c(i,["baseSteps"]);n!==void 0&&u!=null&&d(n,["parameters","baseSteps"],u);const f=c(i,["outputGcsUri"]);n!==void 0&&f!=null&&d(n,["parameters","storageUri"],f);const h=c(i,["seed"]);n!==void 0&&h!=null&&d(n,["parameters","seed"],h);const g=c(i,["safetyFilterLevel"]);n!==void 0&&g!=null&&d(n,["parameters","safetySetting"],g);const m=c(i,["personGeneration"]);n!==void 0&&m!=null&&d(n,["parameters","personGeneration"],m);const v=c(i,["addWatermark"]);n!==void 0&&v!=null&&d(n,["parameters","addWatermark"],v);const _=c(i,["outputMimeType"]);n!==void 0&&_!=null&&d(n,["parameters","outputOptions","mimeType"],_);const S=c(i,["outputCompressionQuality"]);n!==void 0&&S!=null&&d(n,["parameters","outputOptions","compressionQuality"],S);const T=c(i,["enhancePrompt"]);n!==void 0&&T!=null&&d(n,["parameters","enhancePrompt"],T);const b=c(i,["labels"]);return n!==void 0&&b!=null&&d(n,["labels"],b),a}function vA(i,n,o){const a={},r=c(n,["model"]);r!=null&&d(a,["_url","model"],Ft(i,r));const u=c(n,["source"]);u!=null&&SA(u,a);const f=c(n,["config"]);return f!=null&&yA(f,a),a}function _A(i,n){const o={},a=c(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(u=>rr(u))),d(o,["generatedImages"],r)}return o}function SA(i,n,o){const a={},r=c(i,["prompt"]);n!==void 0&&r!=null&&d(n,["instances[0]","prompt"],r);const u=c(i,["personImage"]);n!==void 0&&u!=null&&d(n,["instances[0]","personImage","image"],vn(u));const f=c(i,["productImages"]);if(n!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>gA(g))),d(n,["instances[0]","productImages"],h)}return a}function TA(i,n){const o={},a=c(i,["referenceImage"]);a!=null&&d(o,["referenceImage"],vn(a));const r=c(i,["referenceId"]);r!=null&&d(o,["referenceId"],r);const u=c(i,["referenceType"]);u!=null&&d(o,["referenceType"],u);const f=c(i,["maskImageConfig"]);f!=null&&d(o,["maskImageConfig"],pA(f));const h=c(i,["controlImageConfig"]);h!=null&&d(o,["controlImageConfig"],rC(h));const g=c(i,["styleImageConfig"]);g!=null&&d(o,["styleImageConfig"],g);const m=c(i,["subjectImageConfig"]);return m!=null&&d(o,["subjectImageConfig"],m),o}function gg(i,n){const o={},a=c(i,["safetyAttributes","categories"]);a!=null&&d(o,["categories"],a);const r=c(i,["safetyAttributes","scores"]);r!=null&&d(o,["scores"],r);const u=c(i,["contentType"]);return u!=null&&d(o,["contentType"],u),o}function yg(i,n){const o={},a=c(i,["safetyAttributes","categories"]);a!=null&&d(o,["categories"],a);const r=c(i,["safetyAttributes","scores"]);r!=null&&d(o,["scores"],r);const u=c(i,["contentType"]);return u!=null&&d(o,["contentType"],u),o}function EA(i,n){const o={},a=c(i,["category"]);if(a!=null&&d(o,["category"],a),c(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=c(i,["threshold"]);return r!=null&&d(o,["threshold"],r),o}function CA(i,n){const o={},a=c(i,["image"]);return a!=null&&d(o,["image"],vn(a)),o}function AA(i,n,o){const a={},r=c(i,["mode"]);n!==void 0&&r!=null&&d(n,["parameters","mode"],r);const u=c(i,["maxPredictions"]);n!==void 0&&u!=null&&d(n,["parameters","maxPredictions"],u);const f=c(i,["confidenceThreshold"]);n!==void 0&&f!=null&&d(n,["parameters","confidenceThreshold"],f);const h=c(i,["maskDilation"]);n!==void 0&&h!=null&&d(n,["parameters","maskDilation"],h);const g=c(i,["binaryColorThreshold"]);n!==void 0&&g!=null&&d(n,["parameters","binaryColorThreshold"],g);const m=c(i,["labels"]);return n!==void 0&&m!=null&&d(n,["labels"],m),a}function RA(i,n,o){const a={},r=c(n,["model"]);r!=null&&d(a,["_url","model"],Ft(i,r));const u=c(n,["source"]);u!=null&&wA(u,a);const f=c(n,["config"]);return f!=null&&AA(f,a),a}function bA(i,n){const o={},a=c(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(u=>$C(u))),d(o,["generatedMasks"],r)}return o}function wA(i,n,o){const a={},r=c(i,["prompt"]);n!==void 0&&r!=null&&d(n,["instances[0]","prompt"],r);const u=c(i,["image"]);n!==void 0&&u!=null&&d(n,["instances[0]","image"],vn(u));const f=c(i,["scribbleImage"]);return n!==void 0&&f!=null&&d(n,["instances[0]","scribble"],CA(f)),a}function MA(i,n){const o={},a=c(i,["retrievalConfig"]);a!=null&&d(o,["retrievalConfig"],a);const r=c(i,["functionCallingConfig"]);return r!=null&&d(o,["functionCallingConfig"],IC(r)),o}function NA(i,n){const o={};if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=c(i,["computerUse"]);a!=null&&d(o,["computerUse"],a);const r=c(i,["fileSearch"]);r!=null&&d(o,["fileSearch"],r);const u=c(i,["codeExecution"]);if(u!=null&&d(o,["codeExecution"],u),c(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=c(i,["functionDeclarations"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(S=>S)),d(o,["functionDeclarations"],_)}const h=c(i,["googleMaps"]);h!=null&&d(o,["googleMaps"],iA(h));const g=c(i,["googleSearch"]);g!=null&&d(o,["googleSearch"],oA(g));const m=c(i,["googleSearchRetrieval"]);m!=null&&d(o,["googleSearchRetrieval"],m);const v=c(i,["urlContext"]);return v!=null&&d(o,["urlContext"],v),o}function vg(i,n){const o={},a=c(i,["retrieval"]);a!=null&&d(o,["retrieval"],a);const r=c(i,["computerUse"]);if(r!=null&&d(o,["computerUse"],r),c(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=c(i,["codeExecution"]);u!=null&&d(o,["codeExecution"],u);const f=c(i,["enterpriseWebSearch"]);f!=null&&d(o,["enterpriseWebSearch"],f);const h=c(i,["functionDeclarations"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(T=>xC(T))),d(o,["functionDeclarations"],S)}const g=c(i,["googleMaps"]);g!=null&&d(o,["googleMaps"],g);const m=c(i,["googleSearch"]);m!=null&&d(o,["googleSearch"],m);const v=c(i,["googleSearchRetrieval"]);v!=null&&d(o,["googleSearchRetrieval"],v);const _=c(i,["urlContext"]);return _!=null&&d(o,["urlContext"],_),o}function IA(i,n){const o={},a=c(i,["baseModel"]);a!=null&&d(o,["baseModel"],a);const r=c(i,["createTime"]);r!=null&&d(o,["createTime"],r);const u=c(i,["updateTime"]);return u!=null&&d(o,["updateTime"],u),o}function xA(i,n){const o={},a=c(i,["labels","google-vertex-llm-tuning-base-model-id"]);a!=null&&d(o,["baseModel"],a);const r=c(i,["createTime"]);r!=null&&d(o,["createTime"],r);const u=c(i,["updateTime"]);return u!=null&&d(o,["updateTime"],u),o}function DA(i,n,o){const a={},r=c(i,["displayName"]);n!==void 0&&r!=null&&d(n,["displayName"],r);const u=c(i,["description"]);n!==void 0&&u!=null&&d(n,["description"],u);const f=c(i,["defaultCheckpointId"]);return n!==void 0&&f!=null&&d(n,["defaultCheckpointId"],f),a}function UA(i,n,o){const a={},r=c(i,["displayName"]);n!==void 0&&r!=null&&d(n,["displayName"],r);const u=c(i,["description"]);n!==void 0&&u!=null&&d(n,["description"],u);const f=c(i,["defaultCheckpointId"]);return n!==void 0&&f!=null&&d(n,["defaultCheckpointId"],f),a}function kA(i,n,o){const a={},r=c(n,["model"]);r!=null&&d(a,["_url","name"],Ft(i,r));const u=c(n,["config"]);return u!=null&&DA(u,a),a}function LA(i,n,o){const a={},r=c(n,["model"]);r!=null&&d(a,["_url","model"],Ft(i,r));const u=c(n,["config"]);return u!=null&&UA(u,a),a}function zA(i,n,o){const a={},r=c(i,["outputGcsUri"]);n!==void 0&&r!=null&&d(n,["parameters","storageUri"],r);const u=c(i,["safetyFilterLevel"]);n!==void 0&&u!=null&&d(n,["parameters","safetySetting"],u);const f=c(i,["personGeneration"]);n!==void 0&&f!=null&&d(n,["parameters","personGeneration"],f);const h=c(i,["includeRaiReason"]);n!==void 0&&h!=null&&d(n,["parameters","includeRaiReason"],h);const g=c(i,["outputMimeType"]);n!==void 0&&g!=null&&d(n,["parameters","outputOptions","mimeType"],g);const m=c(i,["outputCompressionQuality"]);n!==void 0&&m!=null&&d(n,["parameters","outputOptions","compressionQuality"],m);const v=c(i,["enhanceInputImage"]);n!==void 0&&v!=null&&d(n,["parameters","upscaleConfig","enhanceInputImage"],v);const _=c(i,["imagePreservationFactor"]);n!==void 0&&_!=null&&d(n,["parameters","upscaleConfig","imagePreservationFactor"],_);const S=c(i,["labels"]);n!==void 0&&S!=null&&d(n,["labels"],S);const T=c(i,["numberOfImages"]);n!==void 0&&T!=null&&d(n,["parameters","sampleCount"],T);const b=c(i,["mode"]);return n!==void 0&&b!=null&&d(n,["parameters","mode"],b),a}function GA(i,n,o){const a={},r=c(n,["model"]);r!=null&&d(a,["_url","model"],Ft(i,r));const u=c(n,["image"]);u!=null&&d(a,["instances[0]","image"],vn(u));const f=c(n,["upscaleFactor"]);f!=null&&d(a,["parameters","upscaleConfig","upscaleFactor"],f);const h=c(n,["config"]);return h!=null&&zA(h,a),a}function BA(i,n){const o={},a=c(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=c(i,["predictions"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>rr(f))),d(o,["generatedImages"],u)}return o}function HA(i,n){const o={},a=c(i,["uri"]);a!=null&&d(o,["uri"],a);const r=c(i,["encodedVideo"]);r!=null&&d(o,["videoBytes"],yi(r));const u=c(i,["encoding"]);return u!=null&&d(o,["mimeType"],u),o}function OA(i,n){const o={},a=c(i,["gcsUri"]);a!=null&&d(o,["uri"],a);const r=c(i,["bytesBase64Encoded"]);r!=null&&d(o,["videoBytes"],yi(r));const u=c(i,["mimeType"]);return u!=null&&d(o,["mimeType"],u),o}function PA(i,n){const o={},a=c(i,["image"]);a!=null&&d(o,["_self"],vn(a));const r=c(i,["maskMode"]);return r!=null&&d(o,["maskMode"],r),o}function qA(i,n){const o={},a=c(i,["image"]);a!=null&&d(o,["image"],sr(a));const r=c(i,["referenceType"]);return r!=null&&d(o,["referenceType"],r),o}function VA(i,n){const o={},a=c(i,["image"]);a!=null&&d(o,["image"],vn(a));const r=c(i,["referenceType"]);return r!=null&&d(o,["referenceType"],r),o}function _g(i,n){const o={},a=c(i,["uri"]);a!=null&&d(o,["uri"],a);const r=c(i,["videoBytes"]);r!=null&&d(o,["encodedVideo"],yi(r));const u=c(i,["mimeType"]);return u!=null&&d(o,["encoding"],u),o}function Sg(i,n){const o={},a=c(i,["uri"]);a!=null&&d(o,["gcsUri"],a);const r=c(i,["videoBytes"]);r!=null&&d(o,["bytesBase64Encoded"],yi(r));const u=c(i,["mimeType"]);return u!=null&&d(o,["mimeType"],u),o}function FA(i,n){const o={},a=c(i,["displayName"]);return n!==void 0&&a!=null&&d(n,["displayName"],a),o}function YA(i){const n={},o=c(i,["config"]);return o!=null&&FA(o,n),n}function JA(i,n){const o={},a=c(i,["force"]);return n!==void 0&&a!=null&&d(n,["_query","force"],a),o}function KA(i){const n={},o=c(i,["name"]);o!=null&&d(n,["_url","name"],o);const a=c(i,["config"]);return a!=null&&JA(a,n),n}function XA(i){const n={},o=c(i,["name"]);return o!=null&&d(n,["_url","name"],o),n}function ZA(i,n){const o={},a=c(i,["customMetadata"]);if(n!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),d(n,["customMetadata"],u)}const r=c(i,["chunkingConfig"]);return n!==void 0&&r!=null&&d(n,["chunkingConfig"],r),o}function QA(i){const n={},o=c(i,["name"]);o!=null&&d(n,["name"],o);const a=c(i,["metadata"]);a!=null&&d(n,["metadata"],a);const r=c(i,["done"]);r!=null&&d(n,["done"],r);const u=c(i,["error"]);u!=null&&d(n,["error"],u);const f=c(i,["response"]);return f!=null&&d(n,["response"],WA(f)),n}function $A(i){const n={},o=c(i,["fileSearchStoreName"]);o!=null&&d(n,["_url","file_search_store_name"],o);const a=c(i,["fileName"]);a!=null&&d(n,["fileName"],a);const r=c(i,["config"]);return r!=null&&ZA(r,n),n}function WA(i){const n={},o=c(i,["sdkHttpResponse"]);o!=null&&d(n,["sdkHttpResponse"],o);const a=c(i,["parent"]);a!=null&&d(n,["parent"],a);const r=c(i,["documentName"]);return r!=null&&d(n,["documentName"],r),n}function jA(i,n){const o={},a=c(i,["pageSize"]);n!==void 0&&a!=null&&d(n,["_query","pageSize"],a);const r=c(i,["pageToken"]);return n!==void 0&&r!=null&&d(n,["_query","pageToken"],r),o}function t1(i){const n={},o=c(i,["config"]);return o!=null&&jA(o,n),n}function e1(i){const n={},o=c(i,["sdkHttpResponse"]);o!=null&&d(n,["sdkHttpResponse"],o);const a=c(i,["nextPageToken"]);a!=null&&d(n,["nextPageToken"],a);const r=c(i,["fileSearchStores"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),d(n,["fileSearchStores"],u)}return n}function Tg(i,n){const o={},a=c(i,["mimeType"]);n!==void 0&&a!=null&&d(n,["mimeType"],a);const r=c(i,["displayName"]);n!==void 0&&r!=null&&d(n,["displayName"],r);const u=c(i,["customMetadata"]);if(n!==void 0&&u!=null){let h=u;Array.isArray(h)&&(h=h.map(g=>g)),d(n,["customMetadata"],h)}const f=c(i,["chunkingConfig"]);return n!==void 0&&f!=null&&d(n,["chunkingConfig"],f),o}function n1(i){const n={},o=c(i,["fileSearchStoreName"]);o!=null&&d(n,["_url","file_search_store_name"],o);const a=c(i,["config"]);return a!=null&&Tg(a,n),n}function i1(i){const n={},o=c(i,["sdkHttpResponse"]);return o!=null&&d(n,["sdkHttpResponse"],o),n}const o1="Content-Type",l1="X-Server-Timeout",a1="User-Agent",Fu="x-goog-api-client",r1="1.40.0",s1=`google-genai-sdk/${r1}`,u1="v1beta1",c1="v1beta";class f1{constructor(n){var o,a,r;this.clientOptions=Object.assign({},n),this.customBaseUrl=(o=n.httpOptions)===null||o===void 0?void 0:o.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const u={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const h=n.project&&n.location||!!n.apiKey;this.customBaseUrl&&!h?(u.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?u.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(u.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),u.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:u1}else{if(!this.clientOptions.apiKey)throw new Il({message:"API key must be set when using the Gemini API.",status:403});u.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:c1,u.baseUrl="https://generativelanguage.googleapis.com/"}u.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=u,n.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(u,n.httpOptions))}isVertexAI(){var n;return(n=this.clientOptions.vertexai)!==null&&n!==void 0?n:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const n=new Headers;return await this.clientOptions.auth.addAuthHeaders(n),n}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(n){if(!n||n.baseUrl===void 0||n.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[n.baseUrl.endsWith("/")?n.baseUrl.slice(0,-1):n.baseUrl];return n.apiVersion&&n.apiVersion!==""&&a.push(n.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const n=this.getBaseUrl(),o=new URL(n);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(n){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=n;else throw new Error("HTTP options are not correctly set.")}constructUrl(n,o,a){const r=[this.getRequestUrlInternal(o)];return a&&r.push(this.getBaseResourcePath()),n!==""&&r.push(n),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(n,o){return!(o.baseUrl&&o.baseUrlResourceScope===Bu.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||n.path.startsWith("projects/")||n.httpMethod==="GET"&&n.path.startsWith("publishers/google/models"))}async request(n){let o=this.clientOptions.httpOptions;n.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const a=this.shouldPrependVertexProjectPath(n,o),r=this.constructUrl(n.path,o,a);if(n.queryParams)for(const[f,h]of Object.entries(n.queryParams))r.searchParams.append(f,String(h));let u={};if(n.httpMethod==="GET"){if(n.body&&n.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=n.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,o,r.toString(),n.abortSignal),this.unaryApiCall(r,u,n.httpMethod)}patchHttpOptions(n,o){const a=JSON.parse(JSON.stringify(n));for(const[r,u]of Object.entries(o))typeof u=="object"?a[r]=Object.assign(Object.assign({},a[r]),u):u!==void 0&&(a[r]=u);return a}async requestStream(n){let o=this.clientOptions.httpOptions;n.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const a=this.shouldPrependVertexProjectPath(n,o),r=this.constructUrl(n.path,o,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let u={};return u.body=n.body,u=await this.includeExtraHttpOptionsToRequestInit(u,o,r.toString(),n.abortSignal),this.streamApiCall(r,u,n.httpMethod)}async includeExtraHttpOptionsToRequestInit(n,o,a,r){if(o&&o.timeout||r){const u=new AbortController,f=u.signal;if(o.timeout&&o?.timeout>0){const h=setTimeout(()=>u.abort(),o.timeout);h&&typeof h.unref=="function"&&h.unref()}r&&r.addEventListener("abort",()=>{u.abort()}),n.signal=f}return o&&o.extraBody!==null&&d1(n,o.extraBody),n.headers=await this.getHeadersInternal(o,a),n}async unaryApiCall(n,o,a){return this.apiCall(n.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await Hm(r),new Hu(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(n,o,a){return this.apiCall(n.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await Hm(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(n){return gn(this,arguments,function*(){var a;const r=(a=n?.body)===null||a===void 0?void 0:a.getReader(),u=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let f="";const h="data:",g=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:m,value:v}=yield xt(r.read());if(m){if(f.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const _=u.decode(v,{stream:!0});try{const b=JSON.parse(_);if("error"in b){const C=JSON.parse(JSON.stringify(b.error)),R=C.status,M=C.code,x=`got status: ${R}. ${JSON.stringify(b)}`;if(M>=400&&M<600)throw new Il({message:x,status:M})}}catch(b){if(b.name==="ApiError")throw b}f+=_;let S=-1,T=0;for(;;){S=-1,T=0;for(const R of g){const M=f.indexOf(R);M!==-1&&(S===-1||M<S)&&(S=M,T=R.length)}if(S===-1)break;const b=f.substring(0,S);f=f.substring(S+T);const C=b.trim();if(C.startsWith(h)){const R=C.substring(h.length).trim();try{const M=new Response(R,{headers:n?.headers,status:n?.status,statusText:n?.statusText});yield yield xt(new Hu(M))}catch(M){throw new Error(`exception parsing stream chunk ${R}. ${M}`)}}}}}finally{r.releaseLock()}})}async apiCall(n,o){return fetch(n,o).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const n={},o=s1+" "+this.clientOptions.userAgentExtra;return n[a1]=o,n[Fu]=o,n[o1]="application/json",n}async getHeadersInternal(n,o){const a=new Headers;if(n&&n.headers){for(const[r,u]of Object.entries(n.headers))a.append(r,u);n.timeout&&n.timeout>0&&a.append(l1,String(Math.ceil(n.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,o),a}getFileName(n){var o;let a="";return typeof n=="string"&&(a=n.replace(/[/\\]+$/,""),a=(o=a.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),a}async uploadFile(n,o){var a;const r={};o!=null&&(r.mimeType=o.mimeType,r.name=o.name,r.displayName=o.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const u=this.clientOptions.uploader,f=await u.stat(n);r.sizeBytes=String(f.size);const h=(a=o?.mimeType)!==null&&a!==void 0?a:f.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=h;const g={file:r},m=this.getFileName(n),v=Tt("upload/v1beta/files",g._url),_=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,m,g,o?.httpOptions);return u.upload(n,_,this)}async uploadFileToFileSearchStore(n,o,a){var r;const u=this.clientOptions.uploader,f=await u.stat(o),h=String(f.size),g=(r=a?.mimeType)!==null&&r!==void 0?r:f.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${n}:uploadToFileSearchStore`,v=this.getFileName(o),_={};a!=null&&Tg(a,_);const S=await this.fetchUploadUrl(m,h,g,v,_,a?.httpOptions);return u.uploadToFileSearchStore(o,S,this)}async downloadFile(n){await this.clientOptions.downloader.download(n,this)}async fetchUploadUrl(n,o,a,r,u,f){var h;let g={};f?g=f:g={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const m=await this.request({path:n,body:JSON.stringify(u),httpMethod:"POST",httpOptions:g});if(!m||!m?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(h=m?.headers)===null||h===void 0?void 0:h["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function Hm(i){var n;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let a;!((n=i.headers.get("content-type"))===null||n===void 0)&&n.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(a);throw o>=400&&o<600?new Il({message:r,status:o}):new Error(r)}}function d1(i,n){if(!n||Object.keys(n).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const u=JSON.parse(i.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))o=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(u,f){const h=Object.assign({},u);for(const g in f)if(Object.prototype.hasOwnProperty.call(f,g)){const m=f[g],v=h[g];m&&typeof m=="object"&&!Array.isArray(m)&&v&&typeof v=="object"&&!Array.isArray(v)?h[g]=a(v,m):(v&&m&&typeof v!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${g}". Original type: ${typeof v}, New type: ${typeof m}. Overwriting.`),h[g]=m)}return h}const r=a(o,n);i.body=JSON.stringify(r)}const h1="mcp_used/unknown";let p1=!1;function Eg(i){for(const n of i)if(m1(n)||typeof n=="object"&&"inputSchema"in n)return!0;return p1}function Cg(i){var n;const o=(n=i[Fu])!==null&&n!==void 0?n:"";i[Fu]=(o+` ${h1}`).trimStart()}function m1(i){return i!==null&&typeof i=="object"&&i instanceof lc}function g1(i){return gn(this,arguments,function*(o,a=100){let r,u=0;for(;u<a;){const f=yield xt(o.listTools({cursor:r}));for(const h of f.tools)yield yield xt(h),u++;if(!f.nextCursor)break;r=f.nextCursor}})}class lc{constructor(n=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=n,this.config=o}static create(n,o){return new lc(n,o)}async initialize(){var n,o,a,r;if(this.mcpTools.length>0)return;const u={},f=[];for(const v of this.mcpClients)try{for(var h=!0,g=(o=void 0,yn(g1(v))),m;m=await g.next(),n=m.done,!n;h=!0){r=m.value,h=!1;const _=r;f.push(_);const S=_.name;if(u[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);u[S]=v}}catch(_){o={error:_}}finally{try{!h&&!n&&(a=g.return)&&await a.call(g)}finally{if(o)throw o.error}}this.mcpTools=f,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),YS(this.mcpTools,this.config)}async callTool(n){await this.initialize();const o=[];for(const a of n)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const f=await r.callTool({name:a.name,arguments:a.args},void 0,u);o.push({functionResponse:{name:a.name,response:f.isError?{error:f}:f}})}return o}}async function y1(i,n,o){const a=new GS;let r;o.data instanceof Blob?r=JSON.parse(await o.data.text()):r=JSON.parse(o.data),Object.assign(a,r),n(a)}class v1{constructor(n,o,a){this.apiClient=n,this.auth=o,this.webSocketFactory=a}async connect(n){var o,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),f=T1(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),g=`${r}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${h}`;let m=()=>{};const v=new Promise(D=>{m=D}),_=n.callbacks,S=function(){m({})},T=this.apiClient,b={onopen:S,onmessage:D=>{y1(T,_.onmessage,D)},onerror:(o=_?.onerror)!==null&&o!==void 0?o:function(D){},onclose:(a=_?.onclose)!==null&&a!==void 0?a:function(D){}},C=this.webSocketFactory.create(g,S1(f),b);C.connect(),await v;const x={setup:{model:Ft(this.apiClient,n.model)}};return C.send(JSON.stringify(x)),new _1(C,this.apiClient)}}class _1{constructor(n,o){this.conn=n,this.apiClient=o}async setWeightedPrompts(n){if(!n.weightedPrompts||Object.keys(n.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=FE(n);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(n){n.musicGenerationConfig||(n.musicGenerationConfig={});const o=VE(n);this.conn.send(JSON.stringify(o))}sendPlaybackControl(n){const o={playbackControl:n};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(bo.PLAY)}pause(){this.sendPlaybackControl(bo.PAUSE)}stop(){this.sendPlaybackControl(bo.STOP)}resetContext(){this.sendPlaybackControl(bo.RESET_CONTEXT)}close(){this.conn.close()}}function S1(i){const n={};return i.forEach((o,a)=>{n[a]=o}),n}function T1(i){const n=new Headers;for(const[o,a]of Object.entries(i))n.append(o,a);return n}const E1="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function C1(i,n,o){const a=new zS;let r;o.data instanceof Blob?r=await o.data.text():o.data instanceof ArrayBuffer?r=new TextDecoder().decode(o.data):r=o.data;const u=JSON.parse(r);if(i.isVertexAI()){const f=KE(u);Object.assign(a,f)}else Object.assign(a,u);n(a)}class A1{constructor(n,o,a){this.apiClient=n,this.auth=o,this.webSocketFactory=a,this.music=new v1(this.apiClient,this.auth,this.webSocketFactory)}async connect(n){var o,a,r,u,f,h;if(n.config&&n.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const g=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let v;const _=this.apiClient.getHeaders();n.config&&n.config.tools&&Eg(n.config.tools)&&Cg(_);const S=M1(_);if(this.apiClient.isVertexAI()){const q=this.apiClient.getProject(),at=this.apiClient.getLocation(),vt=this.apiClient.getApiKey(),B=!!q&&!!at||!!vt;this.apiClient.getCustomBaseUrl()&&!B?v=g:(v=`${g}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,v))}else{const q=this.apiClient.getApiKey();let at="BidiGenerateContent",vt="key";q?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),at="BidiGenerateContentConstrained",vt="access_token"),v=`${g}/ws/google.ai.generativelanguage.${m}.GenerativeService.${at}?${vt}=${q}`}let T=()=>{};const b=new Promise(q=>{T=q}),C=n.callbacks,R=function(){var q;(q=C?.onopen)===null||q===void 0||q.call(C),T({})},M=this.apiClient,x={onopen:R,onmessage:q=>{C1(M,C.onmessage,q)},onerror:(o=C?.onerror)!==null&&o!==void 0?o:function(q){},onclose:(a=C?.onclose)!==null&&a!==void 0?a:function(q){}},D=this.webSocketFactory.create(v,w1(S),x);D.connect(),await b;let G=Ft(this.apiClient,n.model);if(this.apiClient.isVertexAI()&&G.startsWith("publishers/")){const q=this.apiClient.getProject(),at=this.apiClient.getLocation();q&&at&&(G=`projects/${q}/locations/${at}/`+G)}let U={};this.apiClient.isVertexAI()&&((r=n.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(n.config===void 0?n.config={responseModalities:[tr.AUDIO]}:n.config.responseModalities=[tr.AUDIO]),!((u=n.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const K=(h=(f=n.config)===null||f===void 0?void 0:f.tools)!==null&&h!==void 0?h:[],P=[];for(const q of K)if(this.isCallableTool(q)){const at=q;P.push(await at.tool())}else P.push(q);P.length>0&&(n.config.tools=P);const et={model:G,config:n.config,callbacks:n.callbacks};return this.apiClient.isVertexAI()?U=qE(this.apiClient,et):U=PE(this.apiClient,et),delete U.config,D.send(JSON.stringify(U)),new b1(D,this.apiClient)}isCallableTool(n){return"callTool"in n&&typeof n.callTool=="function"}}const R1={turnComplete:!0};class b1{constructor(n,o){this.conn=n,this.apiClient=o}tLiveClientContent(n,o){if(o.turns!==null&&o.turns!==void 0){let a=[];try{a=un(o.turns),n.isVertexAI()||(a=a.map(r=>ar(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:a,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(n,o){let a=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?a=o.functionResponses:a=[o.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const u of a){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!n.isVertexAI()&&!("id"in u))throw new Error(E1)}return{toolResponse:{functionResponses:a}}}sendClientContent(n){n=Object.assign(Object.assign({},R1),n);const o=this.tLiveClientContent(this.apiClient,n);this.conn.send(JSON.stringify(o))}sendRealtimeInput(n){let o={};this.apiClient.isVertexAI()?o={realtimeInput:JE(n)}:o={realtimeInput:YE(n)},this.conn.send(JSON.stringify(o))}sendToolResponse(n){if(n.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,n);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function w1(i){const n={};return i.forEach((o,a)=>{n[a]=o}),n}function M1(i){const n=new Headers;for(const[o,a]of Object.entries(i))n.append(o,a);return n}const Om=10;function Pm(i){var n,o,a;if(!((n=i?.automaticFunctionCalling)===null||n===void 0)&&n.disable)return!0;let r=!1;for(const f of(o=i?.tools)!==null&&o!==void 0?o:[])if(No(f)){r=!0;break}if(!r)return!0;const u=(a=i?.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function No(i){return"callTool"in i&&typeof i.callTool=="function"}function N1(i){var n,o,a;return(a=(o=(n=i.config)===null||n===void 0?void 0:n.tools)===null||o===void 0?void 0:o.some(r=>No(r)))!==null&&a!==void 0?a:!1}function qm(i){var n;const o=[];return!((n=i?.config)===null||n===void 0)&&n.tools&&i.config.tools.forEach((a,r)=>{if(No(a))return;const u=a;u.functionDeclarations&&u.functionDeclarations.length>0&&o.push(r)}),o}function Vm(i){var n;return!(!((n=i?.automaticFunctionCalling)===null||n===void 0)&&n.ignoreCallHistory)}class I1 extends Vn{constructor(n){super(),this.apiClient=n,this.generateContent=async o=>{var a,r,u,f,h;const g=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!N1(o)||Pm(o.config))return await this.generateContentInternal(g);const m=qm(o);if(m.length>0){const C=m.map(R=>`tools[${R}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${C}.`)}let v,_;const S=un(g.contents),T=(u=(r=(a=g.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&u!==void 0?u:Om;let b=0;for(;b<T&&(v=await this.generateContentInternal(g),!(!v.functionCalls||v.functionCalls.length===0));){const C=v.candidates[0].content,R=[];for(const M of(h=(f=o.config)===null||f===void 0?void 0:f.tools)!==null&&h!==void 0?h:[])if(No(M)){const D=await M.callTool(v.functionCalls);R.push(...D)}b++,_={role:"user",parts:R},g.contents=un(g.contents),g.contents.push(C),g.contents.push(_),Vm(g.config)&&(S.push(C),S.push(_))}return Vm(g.config)&&(v.automaticFunctionCallingHistory=S),v},this.generateContentStream=async o=>{var a,r,u,f,h;if(this.maybeMoveToResponseJsonSchem(o),Pm(o.config)){const _=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(_)}const g=qm(o);if(g.length>0){const _=g.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(u=(r=(a=o?.config)===null||a===void 0?void 0:a.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||u===void 0?void 0:u.streamFunctionCallArguments,v=(h=(f=o?.config)===null||f===void 0?void 0:f.automaticFunctionCalling)===null||h===void 0?void 0:h.disable;if(m&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(a=>{var r;let u;const f=[];if(a?.generatedImages)for(const g of a.generatedImages)g&&g?.safetyAttributes&&((r=g?.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?u=g?.safetyAttributes:f.push(g);let h;return u?h={generatedImages:f,positivePromptSafetyAttributes:u,sdkHttpResponse:a.sdkHttpResponse}:h={generatedImages:f,sdkHttpResponse:a.sdkHttpResponse},h}),this.list=async o=>{var a;const f={config:Object.assign(Object.assign({},{queryBase:!0}),o?.config)};if(this.apiClient.isVertexAI()&&!f.config.queryBase){if(!((a=f.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");f.config.filter="labels.tune-type:*"}return new Bi(qn.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(f),f)},this.editImage=async o=>{const a={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(a.referenceImages=o.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async o=>{let a={numberOfImages:1,mode:"upscale"};o.config&&(a=Object.assign(Object.assign({},a),o.config));const r={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async o=>{var a,r,u,f,h,g;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=o.video)===null||a===void 0)&&a.uri&&(!((r=o.video)===null||r===void 0)&&r.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((f=(u=o.source)===null||u===void 0?void 0:u.video)===null||f===void 0)&&f.uri&&(!((g=(h=o.source)===null||h===void 0?void 0:h.video)===null||g===void 0)&&g.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(n){n.config&&n.config.responseSchema&&(n.config.responseJsonSchema||Object.keys(n.config.responseSchema).includes("$schema")&&(n.config.responseJsonSchema=n.config.responseSchema,delete n.config.responseSchema))}async processParamsMaybeAddMcpUsage(n){var o,a,r;const u=(o=n.config)===null||o===void 0?void 0:o.tools;if(!u)return n;const f=await Promise.all(u.map(async g=>No(g)?await g.tool():g)),h={model:n.model,contents:n.contents,config:Object.assign(Object.assign({},n.config),{tools:f})};if(h.config.tools=f,n.config&&n.config.tools&&Eg(n.config.tools)){const g=(r=(a=n.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let m=Object.assign({},g);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),Cg(m),h.config.httpOptions=Object.assign(Object.assign({},n.config.httpOptions),{headers:m})}return h}async initAfcToolsMap(n){var o,a,r;const u=new Map;for(const f of(a=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(No(f)){const h=f,g=await h.tool();for(const m of(r=g.functionDeclarations)!==null&&r!==void 0?r:[]){if(!m.name)throw new Error("Function declaration name is required.");if(u.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);u.set(m.name,h)}}return u}async processAfcStream(n){var o,a,r;const u=(r=(a=(o=n.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:Om;let f=!1,h=0;const g=await this.initAfcToolsMap(n);return(function(m,v,_){return gn(this,arguments,function*(){for(var S,T,b,C,R,M;h<u;){f&&(h++,f=!1);const U=yield xt(m.processParamsMaybeAddMcpUsage(_)),K=yield xt(m.generateContentStreamInternal(U)),P=[],et=[];try{for(var x=!0,D=(T=void 0,yn(K)),G;G=yield xt(D.next()),S=G.done,!S;x=!0){C=G.value,x=!1;const q=C;if(yield yield xt(q),q.candidates&&(!((R=q.candidates[0])===null||R===void 0)&&R.content)){et.push(q.candidates[0].content);for(const at of(M=q.candidates[0].content.parts)!==null&&M!==void 0?M:[])if(h<u&&at.functionCall){if(!at.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(at.functionCall.name)){const vt=yield xt(v.get(at.functionCall.name).callTool([at.functionCall]));P.push(...vt)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${at.functionCall.name}`)}}}}catch(q){T={error:q}}finally{try{!x&&!S&&(b=D.return)&&(yield xt(b.call(D)))}finally{if(T)throw T.error}}if(P.length>0){f=!0;const q=new bl;q.candidates=[{content:{role:"user",parts:P}}],yield yield xt(q);const at=[];at.push(...et),at.push({role:"user",parts:P});const vt=un(_.contents).concat(at);_.contents=vt}else break}})})(this,g,n)}async generateContentInternal(n){var o,a,r,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=zm(this.apiClient,n);return h=Tt("{model}:generateContent",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=Bm(v),S=new bl;return Object.assign(S,_),S})}else{const m=Lm(this.apiClient,n);return h=Tt("{model}:generateContent",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=Gm(v),S=new bl;return Object.assign(S,_),S})}}async generateContentStreamInternal(n){var o,a,r,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=zm(this.apiClient,n);return h=Tt("{model}:streamGenerateContent?alt=sse",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.requestStream({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}),f.then(function(_){return gn(this,arguments,function*(){var S,T,b,C;try{for(var R=!0,M=yn(_),x;x=yield xt(M.next()),S=x.done,!S;R=!0){C=x.value,R=!1;const D=C,G=Bm(yield xt(D.json()),n);G.sdkHttpResponse={headers:D.headers};const U=new bl;Object.assign(U,G),yield yield xt(U)}}catch(D){T={error:D}}finally{try{!R&&!S&&(b=M.return)&&(yield xt(b.call(M)))}finally{if(T)throw T.error}}})})}else{const m=Lm(this.apiClient,n);return h=Tt("{model}:streamGenerateContent?alt=sse",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.requestStream({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}),f.then(function(_){return gn(this,arguments,function*(){var S,T,b,C;try{for(var R=!0,M=yn(_),x;x=yield xt(M.next()),S=x.done,!S;R=!0){C=x.value,R=!1;const D=C,G=Gm(yield xt(D.json()),n);G.sdkHttpResponse={headers:D.headers};const U=new bl;Object.assign(U,G),yield yield xt(U)}}catch(D){T={error:D}}finally{try{!R&&!S&&(b=M.return)&&(yield xt(b.call(M)))}finally{if(T)throw T.error}}})})}}async embedContent(n){var o,a,r,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=AC(this.apiClient,n);return h=Tt("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=bC(v),S=new vm;return Object.assign(S,_),S})}else{const m=CC(this.apiClient,n);return h=Tt("{model}:batchEmbedContents",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=RC(v),S=new vm;return Object.assign(S,_),S})}}async generateImagesInternal(n){var o,a,r,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=GC(this.apiClient,n);return h=Tt("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=HC(v),S=new _m;return Object.assign(S,_),S})}else{const m=zC(this.apiClient,n);return h=Tt("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=BC(v),S=new _m;return Object.assign(S,_),S})}}async editImageInternal(n){var o,a;let r,u="",f={};if(this.apiClient.isVertexAI()){const h=_C(this.apiClient,n);return u=Tt("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>{const m=SC(g),v=new AS;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(n){var o,a;let r,u="",f={};if(this.apiClient.isVertexAI()){const h=GA(this.apiClient,n);return u=Tt("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>{const m=BA(g),v=new RS;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(n){var o,a;let r,u="",f={};if(this.apiClient.isVertexAI()){const h=vA(this.apiClient,n);return u=Tt("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>{const m=_A(g),v=new bS;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(n){var o,a;let r,u="",f={};if(this.apiClient.isVertexAI()){const h=RA(this.apiClient,n);return u=Tt("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>{const m=bA(g),v=new wS;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(n){var o,a,r,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=nA(this.apiClient,n);return h=Tt("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),f.then(v=>Vu(v))}else{const m=eA(this.apiClient,n);return h=Tt("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>qu(v))}}async listInternal(n){var o,a,r,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=fA(this.apiClient,n);return h=Tt("{models_url}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=hA(v),S=new Sm;return Object.assign(S,_),S})}else{const m=cA(this.apiClient,n);return h=Tt("{models_url}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=dA(v),S=new Sm;return Object.assign(S,_),S})}}async update(n){var o,a,r,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=LA(this.apiClient,n);return h=Tt("{model}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),f.then(v=>Vu(v))}else{const m=kA(this.apiClient,n);return h=Tt("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>qu(v))}}async delete(n){var o,a,r,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=mC(this.apiClient,n);return h=Tt("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=yC(v),S=new Tm;return Object.assign(S,_),S})}else{const m=pC(this.apiClient,n);return h=Tt("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=gC(v),S=new Tm;return Object.assign(S,_),S})}}async countTokens(n){var o,a,r,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=fC(this.apiClient,n);return h=Tt("{model}:countTokens",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=hC(v),S=new Em;return Object.assign(S,_),S})}else{const m=cC(this.apiClient,n);return h=Tt("{model}:countTokens",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=dC(v),S=new Em;return Object.assign(S,_),S})}}async computeTokens(n){var o,a;let r,u="",f={};if(this.apiClient.isVertexAI()){const h=iC(this.apiClient,n);return u=Tt("{model}:computeTokens",h._url),f=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>{const m=oC(g),v=new MS;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(n){var o,a,r,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=YC(this.apiClient,n);return h=Tt("{model}:predictLongRunning",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),f.then(v=>{const _=VC(v),S=new er;return Object.assign(S,_),S})}else{const m=FC(this.apiClient,n);return h=Tt("{model}:predictLongRunning",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>{const _=qC(v),S=new er;return Object.assign(S,_),S})}}}class x1 extends Vn{constructor(n){super(),this.apiClient=n}async getVideosOperation(n){const o=n.operation,a=n.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let u;a&&"httpOptions"in a&&(u=a.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:u}});return o._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(n){const o=n.operation,a=n.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let u;a&&"httpOptions"in a&&(u=a.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:u}});return o._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(n){var o,a,r,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=vS(n);return h=Tt("{operationName}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),f}else{const m=yS(n);return h=Tt("{operationName}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f}}async fetchPredictVideosOperationInternal(n){var o,a;let r,u="",f={};if(this.apiClient.isVertexAI()){const h=cS(n);return u=Tt("{resourceName}:fetchPredictOperation",h._url),f=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}function D1(i){const n={},o=c(i,["data"]);if(o!=null&&d(n,["data"],o),c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=c(i,["mimeType"]);return a!=null&&d(n,["mimeType"],a),n}function U1(i){const n={},o=c(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>q1(u))),d(n,["parts"],r)}const a=c(i,["role"]);return a!=null&&d(n,["role"],a),n}function k1(i,n,o){const a={},r=c(n,["expireTime"]);o!==void 0&&r!=null&&d(o,["expireTime"],r);const u=c(n,["newSessionExpireTime"]);o!==void 0&&u!=null&&d(o,["newSessionExpireTime"],u);const f=c(n,["uses"]);o!==void 0&&f!=null&&d(o,["uses"],f);const h=c(n,["liveConnectConstraints"]);o!==void 0&&h!=null&&d(o,["bidiGenerateContentSetup"],P1(i,h));const g=c(n,["lockAdditionalFields"]);return o!==void 0&&g!=null&&d(o,["fieldMask"],g),a}function L1(i,n){const o={},a=c(n,["config"]);return a!=null&&d(o,["config"],k1(i,a,o)),o}function z1(i){const n={};if(c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(i,["fileUri"]);o!=null&&d(n,["fileUri"],o);const a=c(i,["mimeType"]);return a!=null&&d(n,["mimeType"],a),n}function G1(i){const n={},o=c(i,["id"]);o!=null&&d(n,["id"],o);const a=c(i,["args"]);a!=null&&d(n,["args"],a);const r=c(i,["name"]);if(r!=null&&d(n,["name"],r),c(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function B1(i){const n={};if(c(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(i,["enableWidget"]);return o!=null&&d(n,["enableWidget"],o),n}function H1(i){const n={};if(c(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(i,["timeRangeFilter"]);return o!=null&&d(n,["timeRangeFilter"],o),n}function O1(i,n){const o={},a=c(i,["generationConfig"]);n!==void 0&&a!=null&&d(n,["setup","generationConfig"],a);const r=c(i,["responseModalities"]);n!==void 0&&r!=null&&d(n,["setup","generationConfig","responseModalities"],r);const u=c(i,["temperature"]);n!==void 0&&u!=null&&d(n,["setup","generationConfig","temperature"],u);const f=c(i,["topP"]);n!==void 0&&f!=null&&d(n,["setup","generationConfig","topP"],f);const h=c(i,["topK"]);n!==void 0&&h!=null&&d(n,["setup","generationConfig","topK"],h);const g=c(i,["maxOutputTokens"]);n!==void 0&&g!=null&&d(n,["setup","generationConfig","maxOutputTokens"],g);const m=c(i,["mediaResolution"]);n!==void 0&&m!=null&&d(n,["setup","generationConfig","mediaResolution"],m);const v=c(i,["seed"]);n!==void 0&&v!=null&&d(n,["setup","generationConfig","seed"],v);const _=c(i,["speechConfig"]);n!==void 0&&_!=null&&d(n,["setup","generationConfig","speechConfig"],oc(_));const S=c(i,["thinkingConfig"]);n!==void 0&&S!=null&&d(n,["setup","generationConfig","thinkingConfig"],S);const T=c(i,["enableAffectiveDialog"]);n!==void 0&&T!=null&&d(n,["setup","generationConfig","enableAffectiveDialog"],T);const b=c(i,["systemInstruction"]);n!==void 0&&b!=null&&d(n,["setup","systemInstruction"],U1(be(b)));const C=c(i,["tools"]);if(n!==void 0&&C!=null){let K=xo(C);Array.isArray(K)&&(K=K.map(P=>F1(Io(P)))),d(n,["setup","tools"],K)}const R=c(i,["sessionResumption"]);n!==void 0&&R!=null&&d(n,["setup","sessionResumption"],V1(R));const M=c(i,["inputAudioTranscription"]);n!==void 0&&M!=null&&d(n,["setup","inputAudioTranscription"],M);const x=c(i,["outputAudioTranscription"]);n!==void 0&&x!=null&&d(n,["setup","outputAudioTranscription"],x);const D=c(i,["realtimeInputConfig"]);n!==void 0&&D!=null&&d(n,["setup","realtimeInputConfig"],D);const G=c(i,["contextWindowCompression"]);n!==void 0&&G!=null&&d(n,["setup","contextWindowCompression"],G);const U=c(i,["proactivity"]);if(n!==void 0&&U!=null&&d(n,["setup","proactivity"],U),c(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function P1(i,n){const o={},a=c(n,["model"]);a!=null&&d(o,["setup","model"],Ft(i,a));const r=c(n,["config"]);return r!=null&&d(o,["config"],O1(r,o)),o}function q1(i){const n={},o=c(i,["mediaResolution"]);o!=null&&d(n,["mediaResolution"],o);const a=c(i,["codeExecutionResult"]);a!=null&&d(n,["codeExecutionResult"],a);const r=c(i,["executableCode"]);r!=null&&d(n,["executableCode"],r);const u=c(i,["fileData"]);u!=null&&d(n,["fileData"],z1(u));const f=c(i,["functionCall"]);f!=null&&d(n,["functionCall"],G1(f));const h=c(i,["functionResponse"]);h!=null&&d(n,["functionResponse"],h);const g=c(i,["inlineData"]);g!=null&&d(n,["inlineData"],D1(g));const m=c(i,["text"]);m!=null&&d(n,["text"],m);const v=c(i,["thought"]);v!=null&&d(n,["thought"],v);const _=c(i,["thoughtSignature"]);_!=null&&d(n,["thoughtSignature"],_);const S=c(i,["videoMetadata"]);return S!=null&&d(n,["videoMetadata"],S),n}function V1(i){const n={},o=c(i,["handle"]);if(o!=null&&d(n,["handle"],o),c(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function F1(i){const n={};if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(i,["computerUse"]);o!=null&&d(n,["computerUse"],o);const a=c(i,["fileSearch"]);a!=null&&d(n,["fileSearch"],a);const r=c(i,["codeExecution"]);if(r!=null&&d(n,["codeExecution"],r),c(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(i,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(_=>_)),d(n,["functionDeclarations"],v)}const f=c(i,["googleMaps"]);f!=null&&d(n,["googleMaps"],B1(f));const h=c(i,["googleSearch"]);h!=null&&d(n,["googleSearch"],H1(h));const g=c(i,["googleSearchRetrieval"]);g!=null&&d(n,["googleSearchRetrieval"],g);const m=c(i,["urlContext"]);return m!=null&&d(n,["urlContext"],m),n}function Y1(i){const n=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const a=i[o];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(u=>`${o}.${u}`);n.push(...r)}else n.push(o)}return n.join(",")}function J1(i,n){let o=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const u=a.setup;typeof u=="object"&&u!==null?(i.bidiGenerateContentSetup=u,o=u):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(o){const u=Y1(o);if(Array.isArray(n?.lockAdditionalFields)&&n?.lockAdditionalFields.length===0)u?i.fieldMask=u:delete i.fieldMask;else if(n?.lockAdditionalFields&&n.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const f=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];r.length>0&&(h=r.map(m=>f.includes(m)?`generationConfig.${m}`:m));const g=[];u&&g.push(u),h.length>0&&g.push(...h),g.length>0?i.fieldMask=g.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class K1 extends Vn{constructor(n){super(),this.apiClient=n}async create(n){var o,a;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=L1(this.apiClient,n);u=Tt("auth_tokens",h._url),f=h._query,delete h.config,delete h._url,delete h._query;const g=J1(h,n.config);return r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),r.then(m=>m)}}}function X1(i,n){const o={},a=c(i,["force"]);return n!==void 0&&a!=null&&d(n,["_query","force"],a),o}function Z1(i){const n={},o=c(i,["name"]);o!=null&&d(n,["_url","name"],o);const a=c(i,["config"]);return a!=null&&X1(a,n),n}function Q1(i){const n={},o=c(i,["name"]);return o!=null&&d(n,["_url","name"],o),n}function $1(i,n){const o={},a=c(i,["pageSize"]);n!==void 0&&a!=null&&d(n,["_query","pageSize"],a);const r=c(i,["pageToken"]);return n!==void 0&&r!=null&&d(n,["_query","pageToken"],r),o}function W1(i){const n={},o=c(i,["parent"]);o!=null&&d(n,["_url","parent"],o);const a=c(i,["config"]);return a!=null&&$1(a,n),n}function j1(i){const n={},o=c(i,["sdkHttpResponse"]);o!=null&&d(n,["sdkHttpResponse"],o);const a=c(i,["nextPageToken"]);a!=null&&d(n,["nextPageToken"],a);const r=c(i,["documents"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),d(n,["documents"],u)}return n}class tR extends Vn{constructor(n){super(),this.apiClient=n,this.list=async o=>new Bi(qn.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:o.parent,config:a.config}),await this.listInternal(o),o)}async get(n){var o,a;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Q1(n);return u=Tt("{name}",h._url),f=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>g)}}async delete(n){var o,a;let r="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=Z1(n);r=Tt("{name}",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(n){var o,a;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=W1(n);return u=Tt("{parent}/documents",h._url),f=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>{const m=j1(g),v=new NS;return Object.assign(v,m),v})}}}class eR extends Vn{constructor(n,o=new tR(n)){super(),this.apiClient=n,this.documents=o,this.list=async(a={})=>new Bi(qn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(n.fileSearchStoreName,n.file,n.config)}async create(n){var o,a;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=YA(n);return u=Tt("fileSearchStores",h._url),f=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>g)}}async get(n){var o,a;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=XA(n);return u=Tt("{name}",h._url),f=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>g)}}async delete(n){var o,a;let r="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=KA(n);r=Tt("{name}",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(n){var o,a;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=t1(n);return u=Tt("fileSearchStores",h._url),f=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>{const m=e1(g),v=new IS;return Object.assign(v,m),v})}}async uploadToFileSearchStoreInternal(n){var o,a;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=n1(n);return u=Tt("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",h._url),f=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>{const m=i1(g),v=new xS;return Object.assign(v,m),v})}}async importFile(n){var o,a;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=$A(n);return u=Tt("{file_search_store_name}:importFile",h._url),f=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>{const m=QA(g),v=new ju;return Object.assign(v,m),v})}}}let Ag=function(){const{crypto:i}=globalThis;if(i?.randomUUID)return Ag=i.randomUUID.bind(i),i.randomUUID();const n=new Uint8Array(1),o=i?()=>i.getRandomValues(n)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^o()&15>>+a/4).toString(16))};const nR=()=>Ag();function Yu(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Ju=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const n=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(n.stack=i.stack),i.cause&&!n.cause&&(n.cause=i.cause),i.name&&(n.name=i.name),n}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};class cn extends Error{}class Ne extends cn{constructor(n,o,a,r){super(`${Ne.makeMessage(n,o,a)}`),this.status=n,this.headers=r,this.error=o}static makeMessage(n,o,a){const r=o?.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):a;return n&&r?`${n} ${r}`:n?`${n} status code (no body)`:r||"(no status code or body)"}static generate(n,o,a,r){if(!n||!r)return new ur({message:a,cause:Ju(o)});const u=o;return n===400?new bg(n,u,a,r):n===401?new wg(n,u,a,r):n===403?new Mg(n,u,a,r):n===404?new Ng(n,u,a,r):n===409?new Ig(n,u,a,r):n===422?new xg(n,u,a,r):n===429?new Dg(n,u,a,r):n>=500?new Ug(n,u,a,r):new Ne(n,u,a,r)}}class Ku extends Ne{constructor({message:n}={}){super(void 0,void 0,n||"Request was aborted.",void 0)}}class ur extends Ne{constructor({message:n,cause:o}){super(void 0,void 0,n||"Connection error.",void 0),o&&(this.cause=o)}}class Rg extends ur{constructor({message:n}={}){super({message:n??"Request timed out."})}}class bg extends Ne{}class wg extends Ne{}class Mg extends Ne{}class Ng extends Ne{}class Ig extends Ne{}class xg extends Ne{}class Dg extends Ne{}class Ug extends Ne{}const iR=/^[a-z][a-z0-9+.-]*:/i,oR=i=>iR.test(i);let Xu=i=>(Xu=Array.isArray,Xu(i));const lR=Xu;let aR=lR;const Fm=aR;function rR(i){if(!i)return!0;for(const n in i)return!1;return!0}function sR(i,n){return Object.prototype.hasOwnProperty.call(i,n)}const uR=(i,n)=>{if(typeof n!="number"||!Number.isInteger(n))throw new cn(`${i} must be an integer`);if(n<0)throw new cn(`${i} must be a positive integer`);return n},cR=i=>{try{return JSON.parse(i)}catch{return}};const fR=i=>new Promise(n=>setTimeout(n,i));const Ro="0.0.1";function dR(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const hR=()=>{var i,n,o,a,r;const u=dR();if(u==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ro,"X-Stainless-OS":Jm(Deno.build.os),"X-Stainless-Arch":Ym(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(n=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&n!==void 0?n:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ro,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(u==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ro,"X-Stainless-OS":Jm((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":Ym((a=globalThis.process.arch)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const f=pR();return f?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ro,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${f.browser}`,"X-Stainless-Runtime-Version":f.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ro,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function pR(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:n,pattern:o}of i){const a=o.exec(navigator.userAgent);if(a){const r=a[1]||0,u=a[2]||0,f=a[3]||0;return{browser:n,version:`${r}.${u}.${f}`}}}return null}const Ym=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",Jm=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let Ka;const mR=()=>Ka??(Ka=hR());function gR(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function kg(...i){const n=globalThis.ReadableStream;if(typeof n>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new n(...i)}function yR(i){let n=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return kg({start(){},async pull(o){const{done:a,value:r}=await n.next();a?o.close():o.enqueue(r)},async cancel(){var o;await((o=n.return)===null||o===void 0?void 0:o.call(n))}})}function Lg(i){if(i[Symbol.asyncIterator])return i;const n=i.getReader();return{async next(){try{const o=await n.read();return o?.done&&n.releaseLock(),o}catch(o){throw n.releaseLock(),o}},async return(){const o=n.cancel();return n.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function vR(i){var n,o;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((o=(n=i[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(n));return}const a=i.getReader(),r=a.cancel();a.releaseLock(),await r}const _R=({headers:i,body:n})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(n)});const zg=()=>{var i;if(typeof File>"u"){const{process:n}=globalThis,o=typeof((i=n?.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(n.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Uu(i,n,o){return zg(),new File(i,n??"unknown_file",o)}function SR(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const TR=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";const Gg=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",ER=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&Gg(i),CR=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function AR(i,n,o){if(zg(),i=await i,ER(i))return i instanceof File?i:Uu([await i.arrayBuffer()],i.name);if(CR(i)){const r=await i.blob();return n||(n=new URL(i.url).pathname.split(/[\\/]/).pop()),Uu(await Zu(r),n,o)}const a=await Zu(i);if(n||(n=SR(i)),!o?.type){const r=a.find(u=>typeof u=="object"&&"type"in u&&u.type);typeof r=="string"&&(o=Object.assign(Object.assign({},o),{type:r}))}return Uu(a,n,o)}async function Zu(i){var n,o,a,r,u;let f=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)f.push(i);else if(Gg(i))f.push(i instanceof Blob?i:await i.arrayBuffer());else if(TR(i))try{for(var h=!0,g=yn(i),m;m=await g.next(),n=m.done,!n;h=!0){r=m.value,h=!1;const v=r;f.push(...await Zu(v))}}catch(v){o={error:v}}finally{try{!h&&!n&&(a=g.return)&&await a.call(g)}finally{if(o)throw o.error}}else{const v=(u=i?.constructor)===null||u===void 0?void 0:u.name;throw new Error(`Unexpected data type: ${typeof i}${v?`; constructor: ${v}`:""}${RR(i)}`)}return f}function RR(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(o=>`"${o}"`).join(", ")}]`}class Bg{constructor(n){this._client=n}}Bg._key=[];function Hg(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Km=Object.freeze(Object.create(null)),bR=(i=Hg)=>(function(o,...a){if(o.length===1)return o[0];let r=!1;const u=[],f=o.reduce((v,_,S)=>{var T,b,C;/[?#]/.test(_)&&(r=!0);const R=a[S];let M=(r?encodeURIComponent:i)(""+R);return S!==a.length&&(R==null||typeof R=="object"&&R.toString===((C=Object.getPrototypeOf((b=Object.getPrototypeOf((T=R.hasOwnProperty)!==null&&T!==void 0?T:Km))!==null&&b!==void 0?b:Km))===null||C===void 0?void 0:C.toString))&&(M=R+"",u.push({start:v.length+_.length,length:M.length,error:`Value of type ${Object.prototype.toString.call(R).slice(8,-1)} is not a valid path parameter`})),v+_+(S===a.length?"":M)},""),h=f.split(/[?#]/,1)[0],g=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=g.exec(h))!==null;)u.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(u.sort((v,_)=>v.start-_.start),u.length>0){let v=0;const _=u.reduce((S,T)=>{const b=" ".repeat(T.start-v),C="^".repeat(T.length);return v=T.start+T.length,S+b+C},"");throw new cn(`Path parameters result in path with invalid segments:
${u.map(S=>S.error).join(`
`)}
${f}
${_}`)}return f}),Xa=bR(Hg);class Og extends Bg{create(n,o){var a;const{api_version:r=this._client.apiVersion}=n,u=ir(n,["api_version"]);if("model"in u&&"agent_config"in u)throw new cn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in u&&"generation_config"in u)throw new cn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Xa`/${r}/interactions`,Object.assign(Object.assign({body:u},o),{stream:(a=n.stream)!==null&&a!==void 0?a:!1}))}delete(n,o={},a){const{api_version:r=this._client.apiVersion}=o??{};return this._client.delete(Xa`/${r}/interactions/${n}`,a)}cancel(n,o={},a){const{api_version:r=this._client.apiVersion}=o??{};return this._client.post(Xa`/${r}/interactions/${n}/cancel`,a)}get(n,o={},a){var r;const u=o??{},{api_version:f=this._client.apiVersion}=u,h=ir(u,["api_version"]);return this._client.get(Xa`/${f}/interactions/${n}`,Object.assign(Object.assign({query:h},a),{stream:(r=o?.stream)!==null&&r!==void 0?r:!1}))}}Og._key=Object.freeze(["interactions"]);class Pg extends Og{}function wR(i){let n=0;for(const r of i)n+=r.length;const o=new Uint8Array(n);let a=0;for(const r of i)o.set(r,a),a+=r.length;return o}let Za;function ac(i){let n;return(Za??(n=new globalThis.TextEncoder,Za=n.encode.bind(n)))(i)}let Qa;function Xm(i){let n;return(Qa??(n=new globalThis.TextDecoder,Qa=n.decode.bind(n)))(i)}class cr{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(n){if(n==null)return[];const o=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?ac(n):n;this.buffer=wR([this.buffer,o]);const a=[];let r;for(;(r=MR(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){a.push(Xm(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const u=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,f=Xm(this.buffer.subarray(0,u));a.push(f),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode(`
`):[]}}cr.NEWLINE_CHARS=new Set([`
`,"\r"]);cr.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function MR(i,n){for(let r=n??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function NR(i){for(let a=0;a<i.length-1;a++){if(i[a]===10&&i[a+1]===10||i[a]===13&&i[a+1]===13)return a+2;if(i[a]===13&&i[a+1]===10&&a+3<i.length&&i[a+2]===13&&i[a+3]===10)return a+4}return-1}const or={off:0,error:200,warn:300,info:400,debug:500},Zm=(i,n,o)=>{if(i){if(sR(or,i))return i;Me(o).warn(`${n} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(or))}`)}};function Ml(){}function $a(i,n,o){return!n||or[i]>or[o]?Ml:n[i].bind(n)}const IR={error:Ml,warn:Ml,info:Ml,debug:Ml};let Qm=new WeakMap;function Me(i){var n;const o=i.logger,a=(n=i.logLevel)!==null&&n!==void 0?n:"off";if(!o)return IR;const r=Qm.get(o);if(r&&r[0]===a)return r[1];const u={error:$a("error",o,a),warn:$a("warn",o,a),info:$a("info",o,a),debug:$a("debug",o,a)};return Qm.set(o,[a,u]),u}const Gi=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([n,o])=>[n,n.toLowerCase()==="x-goog-api-key"||n.toLowerCase()==="authorization"||n.toLowerCase()==="cookie"||n.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);class wo{constructor(n,o,a){this.iterator=n,this.controller=o,this.client=a}static fromSSEResponse(n,o,a){let r=!1;const u=a?Me(a):console;function f(){return gn(this,arguments,function*(){var g,m,v,_;if(r)throw new cn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let S=!1;try{try{for(var T=!0,b=yn(xR(n,o)),C;C=yield xt(b.next()),g=C.done,!g;T=!0){_=C.value,T=!1;const R=_;if(!S)if(R.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield xt(JSON.parse(R.data))}catch(M){throw u.error("Could not parse message into JSON:",R.data),u.error("From chunk:",R.raw),M}}}catch(R){m={error:R}}finally{try{!T&&!g&&(v=b.return)&&(yield xt(v.call(b)))}finally{if(m)throw m.error}}S=!0}catch(R){if(Yu(R))return yield xt(void 0);throw R}finally{S||o.abort()}})}return new wo(f,o,a)}static fromReadableStream(n,o,a){let r=!1;function u(){return gn(this,arguments,function*(){var g,m,v,_;const S=new cr,T=Lg(n);try{for(var b=!0,C=yn(T),R;R=yield xt(C.next()),g=R.done,!g;b=!0){_=R.value,b=!1;const M=_;for(const x of S.decode(M))yield yield xt(x)}}catch(M){m={error:M}}finally{try{!b&&!g&&(v=C.return)&&(yield xt(v.call(C)))}finally{if(m)throw m.error}}for(const M of S.flush())yield yield xt(M)})}function f(){return gn(this,arguments,function*(){var g,m,v,_;if(r)throw new cn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let S=!1;try{try{for(var T=!0,b=yn(u()),C;C=yield xt(b.next()),g=C.done,!g;T=!0){_=C.value,T=!1;const R=_;S||R&&(yield yield xt(JSON.parse(R)))}}catch(R){m={error:R}}finally{try{!T&&!g&&(v=b.return)&&(yield xt(v.call(b)))}finally{if(m)throw m.error}}S=!0}catch(R){if(Yu(R))return yield xt(void 0);throw R}finally{S||o.abort()}})}return new wo(f,o,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const n=[],o=[],a=this.iterator(),r=u=>({next:()=>{if(u.length===0){const f=a.next();n.push(f),o.push(f)}return u.shift()}});return[new wo(()=>r(n),this.controller,this.client),new wo(()=>r(o),this.controller,this.client)]}toReadableStream(){const n=this;let o;return kg({async start(){o=n[Symbol.asyncIterator]()},async pull(a){try{const{value:r,done:u}=await o.next();if(u)return a.close();const f=ac(JSON.stringify(r)+`
`);a.enqueue(f)}catch(r){a.error(r)}},async cancel(){var a;await((a=o.return)===null||a===void 0?void 0:a.call(o))}})}}function xR(i,n){return gn(this,arguments,function*(){var a,r,u,f;if(!i.body)throw n.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new cn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new cn("Attempted to iterate over a response with no body");const h=new UR,g=new cr,m=Lg(i.body);try{for(var v=!0,_=yn(DR(m)),S;S=yield xt(_.next()),a=S.done,!a;v=!0){f=S.value,v=!1;const T=f;for(const b of g.decode(T)){const C=h.decode(b);C&&(yield yield xt(C))}}}catch(T){r={error:T}}finally{try{!v&&!a&&(u=_.return)&&(yield xt(u.call(_)))}finally{if(r)throw r.error}}for(const T of g.flush()){const b=h.decode(T);b&&(yield yield xt(b))}})}function DR(i){return gn(this,arguments,function*(){var o,a,r,u;let f=new Uint8Array;try{for(var h=!0,g=yn(i),m;m=yield xt(g.next()),o=m.done,!o;h=!0){u=m.value,h=!1;const v=u;if(v==null)continue;const _=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?ac(v):v;let S=new Uint8Array(f.length+_.length);S.set(f),S.set(_,f.length),f=S;let T;for(;(T=NR(f))!==-1;)yield yield xt(f.slice(0,T)),f=f.slice(T)}}catch(v){a={error:v}}finally{try{!h&&!o&&(r=g.return)&&(yield xt(r.call(g)))}finally{if(a)throw a.error}}f.length>0&&(yield yield xt(f))})}class UR{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(n){if(n.endsWith("\r")&&(n=n.substring(0,n.length-1)),!n){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(n),n.startsWith(":"))return null;let[o,a,r]=kR(n,":");return r.startsWith(" ")&&(r=r.substring(1)),o==="event"?this.event=r:o==="data"&&this.data.push(r),null}}function kR(i,n){const o=i.indexOf(n);return o!==-1?[i.substring(0,o),n,i.substring(o+n.length)]:[i,"",""]}async function LR(i,n){const{response:o,requestLogID:a,retryOfRequestLogID:r,startTime:u}=n,f=await(async()=>{var h;if(n.options.stream)return Me(i).debug("response",o.status,o.url,o.headers,o.body),n.options.__streamClass?n.options.__streamClass.fromSSEResponse(o,n.controller,i):wo.fromSSEResponse(o,n.controller,i);if(o.status===204)return null;if(n.options.__binaryResponse)return o;const g=o.headers.get("content-type"),m=(h=g?.split(";")[0])===null||h===void 0?void 0:h.trim();return m?.includes("application/json")||m?.endsWith("+json")?o.headers.get("content-length")==="0"?void 0:await o.json():await o.text()})();return Me(i).debug(`[${a}] response parsed`,Gi({retryOfRequestLogID:r,url:o.url,status:o.status,body:f,durationMs:Date.now()-u})),f}class rc extends Promise{constructor(n,o,a=LR){super(r=>{r(null)}),this.responsePromise=o,this.parseResponse=a,this.client=n}_thenUnwrap(n){return new rc(this.client,this.responsePromise,async(o,a)=>n(await this.parseResponse(o,a),a))}asResponse(){return this.responsePromise.then(n=>n.response)}async withResponse(){const[n,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:n,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(n=>this.parseResponse(this.client,n))),this.parsedPromise}then(n,o){return this.parse().then(n,o)}catch(n){return this.parse().catch(n)}finally(n){return this.parse().finally(n)}}const qg=Symbol("brand.privateNullableHeaders");function*zR(i){if(!i)return;if(qg in i){const{values:a,nulls:r}=i;yield*a.entries();for(const u of r)yield[u,null];return}let n=!1,o;i instanceof Headers?o=i.entries():Fm(i)?o=i:(n=!0,o=Object.entries(i??{}));for(let a of o){const r=a[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const u=Fm(a[1])?a[1]:[a[1]];let f=!1;for(const h of u)h!==void 0&&(n&&!f&&(f=!0,yield[r,null]),yield[r,h])}}const wl=i=>{const n=new Headers,o=new Set;for(const a of i){const r=new Set;for(const[u,f]of zR(a)){const h=u.toLowerCase();r.has(h)||(n.delete(u),r.add(h)),f===null?(n.delete(u),o.add(h)):(n.append(u,f),o.delete(h))}}return{[qg]:!0,values:n,nulls:o}};const ku=i=>{var n,o,a,r,u,f;if(typeof globalThis.process<"u")return(a=(o=(n=oS)===null||n===void 0?void 0:n[i])===null||o===void 0?void 0:o.trim())!==null&&a!==void 0?a:void 0;if(typeof globalThis.Deno<"u")return(f=(u=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||u===void 0?void 0:u.call(r,i))===null||f===void 0?void 0:f.trim()};var Vg;class fr{constructor(n){var o,a,r,u,f,h,g,{baseURL:m=ku("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(o=ku("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:_="v1beta"}=n,S=ir(n,["baseURL","apiKey","apiVersion"]);const T=Object.assign(Object.assign({apiKey:v,apiVersion:_},S),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=T.baseURL,this.timeout=(a=T.timeout)!==null&&a!==void 0?a:fr.DEFAULT_TIMEOUT,this.logger=(r=T.logger)!==null&&r!==void 0?r:console;const b="warn";this.logLevel=b,this.logLevel=(f=(u=Zm(T.logLevel,"ClientOptions.logLevel",this))!==null&&u!==void 0?u:Zm(ku("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&f!==void 0?f:b,this.fetchOptions=T.fetchOptions,this.maxRetries=(h=T.maxRetries)!==null&&h!==void 0?h:2,this.fetch=(g=T.fetch)!==null&&g!==void 0?g:gR(),this.encoder=_R,this._options=T,this.apiKey=v,this.apiVersion=_,this.clientAdapter=T.clientAdapter}withOptions(n){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),n))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:n,nulls:o}){if(!(n.has("authorization")||n.has("x-goog-api-key"))&&!(this.apiKey&&n.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(n){const o=wl([n.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return wl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return wl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(n){return Object.entries(n).filter(([o,a])=>typeof a<"u").map(([o,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(o)}=`;throw new cn(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ro}`}defaultIdempotencyKey(){return`stainless-node-retry-${nR()}`}makeStatusError(n,o,a,r){return Ne.generate(n,o,a,r)}buildURL(n,o,a){const r=!this.baseURLOverridden()&&a||this.baseURL,u=oR(n)?new URL(n):new URL(r+(r.endsWith("/")&&n.startsWith("/")?n.slice(1):n)),f=this.defaultQuery();return rR(f)||(o=Object.assign(Object.assign({},f),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(u.search=this.stringifyQuery(o)),u.toString()}async prepareOptions(n){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!n.path.startsWith(`/${this.apiVersion}/projects/`)){const o=n.path.slice(this.apiVersion.length+1);n.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(n,{url:o,options:a}){}get(n,o){return this.methodRequest("get",n,o)}post(n,o){return this.methodRequest("post",n,o)}patch(n,o){return this.methodRequest("patch",n,o)}put(n,o){return this.methodRequest("put",n,o)}delete(n,o){return this.methodRequest("delete",n,o)}methodRequest(n,o,a){return this.request(Promise.resolve(a).then(r=>Object.assign({method:n,path:o},r)))}request(n,o=null){return new rc(this,this.makeRequest(n,o,void 0))}async makeRequest(n,o,a){var r,u,f;const h=await n,g=(r=h.maxRetries)!==null&&r!==void 0?r:this.maxRetries;o==null&&(o=g),await this.prepareOptions(h);const{req:m,url:v,timeout:_}=await this.buildRequest(h,{retryCount:g-o});await this.prepareRequest(m,{url:v,options:h});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),T=a===void 0?"":`, retryOf: ${a}`,b=Date.now();if(Me(this).debug(`[${S}] sending request`,Gi({retryOfRequestLogID:a,method:h.method,url:v,options:h,headers:m.headers})),!((u=h.signal)===null||u===void 0)&&u.aborted)throw new Ku;const C=new AbortController,R=await this.fetchWithTimeout(v,m,_,C).catch(Ju),M=Date.now();if(R instanceof globalThis.Error){const D=`retrying, ${o} attempts remaining`;if(!((f=h.signal)===null||f===void 0)&&f.aborted)throw new Ku;const G=Yu(R)||/timed? ?out/i.test(String(R)+("cause"in R?String(R.cause):""));if(o)return Me(this).info(`[${S}] connection ${G?"timed out":"failed"} - ${D}`),Me(this).debug(`[${S}] connection ${G?"timed out":"failed"} (${D})`,Gi({retryOfRequestLogID:a,url:v,durationMs:M-b,message:R.message})),this.retryRequest(h,o,a??S);throw Me(this).info(`[${S}] connection ${G?"timed out":"failed"} - error; no more retries left`),Me(this).debug(`[${S}] connection ${G?"timed out":"failed"} (error; no more retries left)`,Gi({retryOfRequestLogID:a,url:v,durationMs:M-b,message:R.message})),G?new Rg:new ur({cause:R})}const x=`[${S}${T}] ${m.method} ${v} ${R.ok?"succeeded":"failed"} with status ${R.status} in ${M-b}ms`;if(!R.ok){const D=await this.shouldRetry(R);if(o&&D){const q=`retrying, ${o} attempts remaining`;return await vR(R.body),Me(this).info(`${x} - ${q}`),Me(this).debug(`[${S}] response error (${q})`,Gi({retryOfRequestLogID:a,url:R.url,status:R.status,headers:R.headers,durationMs:M-b})),this.retryRequest(h,o,a??S,R.headers)}const G=D?"error; no more retries left":"error; not retryable";Me(this).info(`${x} - ${G}`);const U=await R.text().catch(q=>Ju(q).message),K=cR(U),P=K?void 0:U;throw Me(this).debug(`[${S}] response error (${G})`,Gi({retryOfRequestLogID:a,url:R.url,status:R.status,headers:R.headers,message:P,durationMs:Date.now()-b})),this.makeStatusError(R.status,K,P,R.headers)}return Me(this).info(x),Me(this).debug(`[${S}] response start`,Gi({retryOfRequestLogID:a,url:R.url,status:R.status,headers:R.headers,durationMs:M-b})),{response:R,options:h,controller:C,requestLogID:S,retryOfRequestLogID:a,startTime:b}}async fetchWithTimeout(n,o,a,r){const u=o||{},{signal:f,method:h}=u,g=ir(u,["signal","method"]),m=r.abort.bind(r);f&&f.addEventListener("abort",m,{once:!0});const v=setTimeout(m,a),_=globalThis.ReadableStream&&g.body instanceof globalThis.ReadableStream||typeof g.body=="object"&&g.body!==null&&Symbol.asyncIterator in g.body,S=Object.assign(Object.assign(Object.assign({signal:r.signal},_?{duplex:"half"}:{}),{method:"GET"}),g);h&&(S.method=h.toUpperCase());try{return await this.fetch.call(void 0,n,S)}finally{clearTimeout(v)}}async shouldRetry(n){const o=n.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:n.status===408||n.status===409||n.status===429||n.status>=500}async retryRequest(n,o,a,r){var u;let f;const h=r?.get("retry-after-ms");if(h){const m=parseFloat(h);Number.isNaN(m)||(f=m)}const g=r?.get("retry-after");if(g&&!f){const m=parseFloat(g);Number.isNaN(m)?f=Date.parse(g)-Date.now():f=m*1e3}if(!(f&&0<=f&&f<60*1e3)){const m=(u=n.maxRetries)!==null&&u!==void 0?u:this.maxRetries;f=this.calculateDefaultRetryTimeoutMillis(o,m)}return await fR(f),this.makeRequest(n,o-1,a)}calculateDefaultRetryTimeoutMillis(n,o){const u=o-n,f=Math.min(.5*Math.pow(2,u),8),h=1-Math.random()*.25;return f*h*1e3}async buildRequest(n,{retryCount:o=0}={}){var a,r,u;const f=Object.assign({},n),{method:h,path:g,query:m,defaultBaseURL:v}=f,_=this.buildURL(g,m,v);"timeout"in f&&uR("timeout",f.timeout),f.timeout=(a=f.timeout)!==null&&a!==void 0?a:this.timeout;const{bodyHeaders:S,body:T}=this.buildBody({options:f}),b=await this.buildHeaders({options:n,method:h,bodyHeaders:S,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:h,headers:b},f.signal&&{signal:f.signal}),globalThis.ReadableStream&&T instanceof globalThis.ReadableStream&&{duplex:"half"}),T&&{body:T}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(u=f.fetchOptions)!==null&&u!==void 0?u:{}),url:_,timeout:f.timeout}}async buildHeaders({options:n,method:o,bodyHeaders:a,retryCount:r}){let u={};this.idempotencyHeader&&o!=="get"&&(n.idempotencyKey||(n.idempotencyKey=this.defaultIdempotencyKey()),u[this.idempotencyHeader]=n.idempotencyKey);const f=await this.authHeaders(n);let h=wl([u,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},n.timeout?{"X-Stainless-Timeout":String(Math.trunc(n.timeout/1e3))}:{}),mR()),this._options.defaultHeaders,a,n.headers,f]);return this.validateHeaders(h),h.values}buildBody({options:{body:n,headers:o}}){if(!n)return{bodyHeaders:void 0,body:void 0};const a=wl([o]);return ArrayBuffer.isView(n)||n instanceof ArrayBuffer||n instanceof DataView||typeof n=="string"&&a.values.has("content-type")||globalThis.Blob&&n instanceof globalThis.Blob||n instanceof FormData||n instanceof URLSearchParams||globalThis.ReadableStream&&n instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:n}:typeof n=="object"&&(Symbol.asyncIterator in n||Symbol.iterator in n&&"next"in n&&typeof n.next=="function")?{bodyHeaders:void 0,body:yR(n)}:this.encoder({body:n,headers:a})}}fr.DEFAULT_TIMEOUT=6e4;class _e extends fr{constructor(){super(...arguments),this.interactions=new Pg(this)}}Vg=_e;_e.GeminiNextGenAPIClient=Vg;_e.GeminiNextGenAPIClientError=cn;_e.APIError=Ne;_e.APIConnectionError=ur;_e.APIConnectionTimeoutError=Rg;_e.APIUserAbortError=Ku;_e.NotFoundError=Ng;_e.ConflictError=Ig;_e.RateLimitError=Dg;_e.BadRequestError=bg;_e.AuthenticationError=wg;_e.InternalServerError=Ug;_e.PermissionDeniedError=Mg;_e.UnprocessableEntityError=xg;_e.toFile=AR;_e.Interactions=Pg;function GR(i,n){const o={},a=c(i,["name"]);return a!=null&&d(o,["_url","name"],a),o}function BR(i,n){const o={},a=c(i,["name"]);return a!=null&&d(o,["_url","name"],a),o}function HR(i,n){const o={},a=c(i,["sdkHttpResponse"]);return a!=null&&d(o,["sdkHttpResponse"],a),o}function OR(i,n){const o={},a=c(i,["sdkHttpResponse"]);return a!=null&&d(o,["sdkHttpResponse"],a),o}function PR(i,n,o){const a={};if(c(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=c(i,["tunedModelDisplayName"]);if(n!==void 0&&r!=null&&d(n,["displayName"],r),c(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=c(i,["epochCount"]);n!==void 0&&u!=null&&d(n,["tuningTask","hyperparameters","epochCount"],u);const f=c(i,["learningRateMultiplier"]);if(f!=null&&d(a,["tuningTask","hyperparameters","learningRateMultiplier"],f),c(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(c(i,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(c(i,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const h=c(i,["batchSize"]);n!==void 0&&h!=null&&d(n,["tuningTask","hyperparameters","batchSize"],h);const g=c(i,["learningRate"]);if(n!==void 0&&g!=null&&d(n,["tuningTask","hyperparameters","learningRate"],g),c(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(c(i,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(c(i,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(c(i,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(c(i,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return a}function qR(i,n,o){const a={};let r=c(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const U=c(i,["validationDataset"]);n!==void 0&&U!=null&&d(n,["supervisedTuningSpec"],Lu(U))}else if(r==="PREFERENCE_TUNING"){const U=c(i,["validationDataset"]);n!==void 0&&U!=null&&d(n,["preferenceOptimizationSpec"],Lu(U))}else if(r==="DISTILLATION"){const U=c(i,["validationDataset"]);n!==void 0&&U!=null&&d(n,["distillationSpec"],Lu(U))}const u=c(i,["tunedModelDisplayName"]);n!==void 0&&u!=null&&d(n,["tunedModelDisplayName"],u);const f=c(i,["description"]);n!==void 0&&f!=null&&d(n,["description"],f);let h=c(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const U=c(i,["epochCount"]);n!==void 0&&U!=null&&d(n,["supervisedTuningSpec","hyperParameters","epochCount"],U)}else if(h==="PREFERENCE_TUNING"){const U=c(i,["epochCount"]);n!==void 0&&U!=null&&d(n,["preferenceOptimizationSpec","hyperParameters","epochCount"],U)}else if(h==="DISTILLATION"){const U=c(i,["epochCount"]);n!==void 0&&U!=null&&d(n,["distillationSpec","hyperParameters","epochCount"],U)}let g=c(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const U=c(i,["learningRateMultiplier"]);n!==void 0&&U!=null&&d(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],U)}else if(g==="PREFERENCE_TUNING"){const U=c(i,["learningRateMultiplier"]);n!==void 0&&U!=null&&d(n,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],U)}else if(g==="DISTILLATION"){const U=c(i,["learningRateMultiplier"]);n!==void 0&&U!=null&&d(n,["distillationSpec","hyperParameters","learningRateMultiplier"],U)}let m=c(o,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const U=c(i,["exportLastCheckpointOnly"]);n!==void 0&&U!=null&&d(n,["supervisedTuningSpec","exportLastCheckpointOnly"],U)}else if(m==="PREFERENCE_TUNING"){const U=c(i,["exportLastCheckpointOnly"]);n!==void 0&&U!=null&&d(n,["preferenceOptimizationSpec","exportLastCheckpointOnly"],U)}else if(m==="DISTILLATION"){const U=c(i,["exportLastCheckpointOnly"]);n!==void 0&&U!=null&&d(n,["distillationSpec","exportLastCheckpointOnly"],U)}let v=c(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const U=c(i,["adapterSize"]);n!==void 0&&U!=null&&d(n,["supervisedTuningSpec","hyperParameters","adapterSize"],U)}else if(v==="PREFERENCE_TUNING"){const U=c(i,["adapterSize"]);n!==void 0&&U!=null&&d(n,["preferenceOptimizationSpec","hyperParameters","adapterSize"],U)}else if(v==="DISTILLATION"){const U=c(i,["adapterSize"]);n!==void 0&&U!=null&&d(n,["distillationSpec","hyperParameters","adapterSize"],U)}let _=c(o,["config","method"]);if(_===void 0&&(_="SUPERVISED_FINE_TUNING"),_==="SUPERVISED_FINE_TUNING"){const U=c(i,["tuningMode"]);n!==void 0&&U!=null&&d(n,["supervisedTuningSpec","tuningMode"],U)}const S=c(i,["customBaseModel"]);n!==void 0&&S!=null&&d(n,["customBaseModel"],S);let T=c(o,["config","method"]);if(T===void 0&&(T="SUPERVISED_FINE_TUNING"),T==="SUPERVISED_FINE_TUNING"){const U=c(i,["batchSize"]);n!==void 0&&U!=null&&d(n,["supervisedTuningSpec","hyperParameters","batchSize"],U)}let b=c(o,["config","method"]);if(b===void 0&&(b="SUPERVISED_FINE_TUNING"),b==="SUPERVISED_FINE_TUNING"){const U=c(i,["learningRate"]);n!==void 0&&U!=null&&d(n,["supervisedTuningSpec","hyperParameters","learningRate"],U)}const C=c(i,["labels"]);n!==void 0&&C!=null&&d(n,["labels"],C);const R=c(i,["beta"]);n!==void 0&&R!=null&&d(n,["preferenceOptimizationSpec","hyperParameters","beta"],R);const M=c(i,["baseTeacherModel"]);n!==void 0&&M!=null&&d(n,["distillationSpec","baseTeacherModel"],M);const x=c(i,["tunedTeacherModelSource"]);n!==void 0&&x!=null&&d(n,["distillationSpec","tunedTeacherModelSource"],x);const D=c(i,["sftLossWeightMultiplier"]);n!==void 0&&D!=null&&d(n,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],D);const G=c(i,["outputUri"]);return n!==void 0&&G!=null&&d(n,["outputUri"],G),a}function VR(i,n){const o={},a=c(i,["baseModel"]);a!=null&&d(o,["baseModel"],a);const r=c(i,["preTunedModel"]);r!=null&&d(o,["preTunedModel"],r);const u=c(i,["trainingDataset"]);u!=null&&tb(u);const f=c(i,["config"]);return f!=null&&PR(f,o),o}function FR(i,n){const o={},a=c(i,["baseModel"]);a!=null&&d(o,["baseModel"],a);const r=c(i,["preTunedModel"]);r!=null&&d(o,["preTunedModel"],r);const u=c(i,["trainingDataset"]);u!=null&&eb(u,o,n);const f=c(i,["config"]);return f!=null&&qR(f,o,n),o}function YR(i,n){const o={},a=c(i,["name"]);return a!=null&&d(o,["_url","name"],a),o}function JR(i,n){const o={},a=c(i,["name"]);return a!=null&&d(o,["_url","name"],a),o}function KR(i,n,o){const a={},r=c(i,["pageSize"]);n!==void 0&&r!=null&&d(n,["_query","pageSize"],r);const u=c(i,["pageToken"]);n!==void 0&&u!=null&&d(n,["_query","pageToken"],u);const f=c(i,["filter"]);return n!==void 0&&f!=null&&d(n,["_query","filter"],f),a}function XR(i,n,o){const a={},r=c(i,["pageSize"]);n!==void 0&&r!=null&&d(n,["_query","pageSize"],r);const u=c(i,["pageToken"]);n!==void 0&&u!=null&&d(n,["_query","pageToken"],u);const f=c(i,["filter"]);return n!==void 0&&f!=null&&d(n,["_query","filter"],f),a}function ZR(i,n){const o={},a=c(i,["config"]);return a!=null&&KR(a,o),o}function QR(i,n){const o={},a=c(i,["config"]);return a!=null&&XR(a,o),o}function $R(i,n){const o={},a=c(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=c(i,["nextPageToken"]);r!=null&&d(o,["nextPageToken"],r);const u=c(i,["tunedModels"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(h=>Fg(h))),d(o,["tuningJobs"],f)}return o}function WR(i,n){const o={},a=c(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=c(i,["nextPageToken"]);r!=null&&d(o,["nextPageToken"],r);const u=c(i,["tuningJobs"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(h=>Qu(h))),d(o,["tuningJobs"],f)}return o}function jR(i,n){const o={},a=c(i,["name"]);a!=null&&d(o,["model"],a);const r=c(i,["name"]);return r!=null&&d(o,["endpoint"],r),o}function tb(i,n){const o={};if(c(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=c(i,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(u=>u)),d(o,["examples","examples"],r)}return o}function eb(i,n,o){const a={};let r=c(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const f=c(i,["gcsUri"]);n!==void 0&&f!=null&&d(n,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(r==="PREFERENCE_TUNING"){const f=c(i,["gcsUri"]);n!==void 0&&f!=null&&d(n,["preferenceOptimizationSpec","trainingDatasetUri"],f)}else if(r==="DISTILLATION"){const f=c(i,["gcsUri"]);n!==void 0&&f!=null&&d(n,["distillationSpec","promptDatasetUri"],f)}let u=c(o,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const f=c(i,["vertexDatasetResource"]);n!==void 0&&f!=null&&d(n,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(u==="PREFERENCE_TUNING"){const f=c(i,["vertexDatasetResource"]);n!==void 0&&f!=null&&d(n,["preferenceOptimizationSpec","trainingDatasetUri"],f)}else if(u==="DISTILLATION"){const f=c(i,["vertexDatasetResource"]);n!==void 0&&f!=null&&d(n,["distillationSpec","promptDatasetUri"],f)}if(c(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function Fg(i,n){const o={},a=c(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=c(i,["name"]);r!=null&&d(o,["name"],r);const u=c(i,["state"]);u!=null&&d(o,["state"],ag(u));const f=c(i,["createTime"]);f!=null&&d(o,["createTime"],f);const h=c(i,["tuningTask","startTime"]);h!=null&&d(o,["startTime"],h);const g=c(i,["tuningTask","completeTime"]);g!=null&&d(o,["endTime"],g);const m=c(i,["updateTime"]);m!=null&&d(o,["updateTime"],m);const v=c(i,["description"]);v!=null&&d(o,["description"],v);const _=c(i,["baseModel"]);_!=null&&d(o,["baseModel"],_);const S=c(i,["_self"]);return S!=null&&d(o,["tunedModel"],jR(S)),o}function Qu(i,n){const o={},a=c(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=c(i,["name"]);r!=null&&d(o,["name"],r);const u=c(i,["state"]);u!=null&&d(o,["state"],ag(u));const f=c(i,["createTime"]);f!=null&&d(o,["createTime"],f);const h=c(i,["startTime"]);h!=null&&d(o,["startTime"],h);const g=c(i,["endTime"]);g!=null&&d(o,["endTime"],g);const m=c(i,["updateTime"]);m!=null&&d(o,["updateTime"],m);const v=c(i,["error"]);v!=null&&d(o,["error"],v);const _=c(i,["description"]);_!=null&&d(o,["description"],_);const S=c(i,["baseModel"]);S!=null&&d(o,["baseModel"],S);const T=c(i,["tunedModel"]);T!=null&&d(o,["tunedModel"],T);const b=c(i,["preTunedModel"]);b!=null&&d(o,["preTunedModel"],b);const C=c(i,["supervisedTuningSpec"]);C!=null&&d(o,["supervisedTuningSpec"],C);const R=c(i,["preferenceOptimizationSpec"]);R!=null&&d(o,["preferenceOptimizationSpec"],R);const M=c(i,["distillationSpec"]);M!=null&&d(o,["distillationSpec"],M);const x=c(i,["tuningDataStats"]);x!=null&&d(o,["tuningDataStats"],x);const D=c(i,["encryptionSpec"]);D!=null&&d(o,["encryptionSpec"],D);const G=c(i,["partnerModelTuningSpec"]);G!=null&&d(o,["partnerModelTuningSpec"],G);const U=c(i,["customBaseModel"]);U!=null&&d(o,["customBaseModel"],U);const K=c(i,["experiment"]);K!=null&&d(o,["experiment"],K);const P=c(i,["labels"]);P!=null&&d(o,["labels"],P);const et=c(i,["outputUri"]);et!=null&&d(o,["outputUri"],et);const q=c(i,["pipelineJob"]);q!=null&&d(o,["pipelineJob"],q);const at=c(i,["serviceAccount"]);at!=null&&d(o,["serviceAccount"],at);const vt=c(i,["tunedModelDisplayName"]);vt!=null&&d(o,["tunedModelDisplayName"],vt);const B=c(i,["veoTuningSpec"]);return B!=null&&d(o,["veoTuningSpec"],B),o}function nb(i,n){const o={},a=c(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=c(i,["name"]);r!=null&&d(o,["name"],r);const u=c(i,["metadata"]);u!=null&&d(o,["metadata"],u);const f=c(i,["done"]);f!=null&&d(o,["done"],f);const h=c(i,["error"]);return h!=null&&d(o,["error"],h),o}function Lu(i,n){const o={},a=c(i,["gcsUri"]);a!=null&&d(o,["validationDatasetUri"],a);const r=c(i,["vertexDatasetResource"]);return r!=null&&d(o,["validationDatasetUri"],r),o}class ib extends Vn{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new Bi(qn.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var a;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const r={tunedModelName:o.baseModel};!((a=o.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=o.config.preTunedModelCheckpointId);const u=Object.assign(Object.assign({},o),{preTunedModel:r});return u.baseModel=void 0,await this.tuneInternal(u)}else{const r=Object.assign({},o);return await this.tuneInternal(r)}else{const r=Object.assign({},o),u=await this.tuneMldevInternal(r);let f="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?f=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(f=u.name.split("/operations/")[0]),{name:f,state:Gu.JOB_STATE_QUEUED}}}}async getInternal(n){var o,a,r,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=JR(n);return h=Tt("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>Qu(v))}else{const m=YR(n);return h=Tt("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>Fg(v))}}async listInternal(n){var o,a,r,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=QR(n);return h=Tt("tuningJobs",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=WR(v),S=new Cm;return Object.assign(S,_),S})}else{const m=ZR(n);return h=Tt("tunedModels",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=$R(v),S=new Cm;return Object.assign(S,_),S})}}async cancel(n){var o,a,r,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=BR(n);return h=Tt("{name}:cancel",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=OR(v),S=new Am;return Object.assign(S,_),S})}else{const m=GR(n);return h=Tt("{name}:cancel",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=n.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=HR(v),S=new Am;return Object.assign(S,_),S})}}async tuneInternal(n){var o,a;let r,u="",f={};if(this.apiClient.isVertexAI()){const h=FR(n,n);return u=Tt("tuningJobs",h._url),f=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>Qu(g))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(n){var o,a;let r,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=VR(n);return u=Tt("tunedModels",h._url),f=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>nb(g))}}}class ob{async download(n,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const lb=1024*1024*8,ab=3,rb=1e3,sb=2,lr="x-goog-upload-status";async function ub(i,n,o){var a;const r=await Yg(i,n,o),u=await r?.json();if(((a=r?.headers)===null||a===void 0?void 0:a[lr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function cb(i,n,o){var a;const r=await Yg(i,n,o),u=await r?.json();if(((a=r?.headers)===null||a===void 0?void 0:a[lr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const f=tg(u),h=new tc;return Object.assign(h,f),h}async function Yg(i,n,o){var a,r;let u=0,f=0,h=new Hu(new Response),g="upload";for(u=i.size;f<u;){const m=Math.min(lb,u-f),v=i.slice(f,f+m);f+m>=u&&(g+=", finalize");let _=0,S=rb;for(;_<ab&&(h=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:n,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(f),"Content-Length":String(m)}}}),!(!((a=h?.headers)===null||a===void 0)&&a[lr]));)_++,await db(S),S=S*sb;if(f+=m,((r=h?.headers)===null||r===void 0?void 0:r[lr])!=="active")break;if(u<=f)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return h}async function fb(i){return{size:i.size,type:i.type}}function db(i){return new Promise(n=>setTimeout(n,i))}class hb{async upload(n,o,a){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await ub(n,o,a)}async uploadToFileSearchStore(n,o,a){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await cb(n,o,a)}async stat(n){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await fb(n)}}class pb{create(n,o,a){return new mb(n,o,a)}}class mb{constructor(n,o,a){this.url=n,this.headers=o,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(n){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(n)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const $m="x-goog-api-key";class gb{constructor(n){this.apiKey=n}async addAuthHeaders(n,o){if(n.get($m)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");n.append($m,this.apiKey)}}}const yb="gl-node/";class Jg{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const n=this.httpOptions;n?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new _e({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:n?.timeout});return this._interactions=o.interactions,this._interactions}constructor(n){var o;if(n.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(n.project||n.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=n.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=n.apiKey;const a=sS(n.httpOptions,n.vertexai,void 0,void 0);a&&(n.httpOptions?n.httpOptions.baseUrl=a:n.httpOptions={baseUrl:a}),this.apiVersion=n.apiVersion,this.httpOptions=n.httpOptions;const r=new gb(this.apiKey);this.apiClient=new f1({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:yb+"web",uploader:new hb,downloader:new ob}),this.models=new I1(this.apiClient),this.live=new A1(this.apiClient,r,new pb),this.batches=new BT(this.apiClient),this.chats=new _E(this.models,this.apiClient),this.caches=new gE(this.apiClient),this.files=new xE(this.apiClient),this.operations=new x1(this.apiClient),this.authTokens=new K1(this.apiClient),this.tunings=new ib(this.apiClient),this.fileSearchStores=new eR(this.apiClient)}}const vb="gemini-3-flash-preview",_b="gemini-3-pro-image-preview";async function sc(i,n=3,o=1e3){try{return await i()}catch(a){if(n>0&&(a.status===503||a.message?.includes("503")||a.message?.includes("overloaded")))return await new Promise(r=>setTimeout(r,o)),sc(i,n-1,o*2);throw a}}async function Sb(i,n){const o=new Jg({apiKey:i});return sc(async()=>{try{const r=(await o.models.generateContent({model:vb,contents:{role:"user",parts:[{text:n}]},config:{thinkingConfig:{thinkingLevel:"low"},responseMimeType:"application/json"}})).text;if(!r)throw new Error("No text generated");return JSON.parse(r)}catch(a){throw console.error("Story Generation Error:",a),a}})}async function Tb(i,n,o){const a=new Jg({apiKey:i});return sc(async()=>{try{const r=a.chats.create({model:_b,config:{responseModalities:["TEXT","IMAGE"]}}),u=[{text:n}];if(o){const g=o.match(/^data:(.*);base64,(.*)$/);g&&u.push({inlineData:{mimeType:g[1],data:g[2]}})}const f=await r.sendMessage({message:u});let h=null;if(f.candidates?.[0]?.content?.parts){for(const g of f.candidates[0].content.parts)if(g.inlineData&&g.inlineData.data){h=`data:${g.inlineData.mimeType||"image/png"};base64,${g.inlineData.data}`;break}}if(!h)throw new Error("No image returned from the model");return h}catch(r){throw console.error("Image Generation Error:",r),new Error(r.message||"Failed to generate image")}})}const Eb=`
Instagram
8

# 
: {salonName}
: {strengths}
: {features}

# 
1. 
2. 
3. 8
   - 1-2:  ()
   - 3-4:  ()
   - 5:  ()
   - 6:  ()
   - 7:  ()
   - 8:  ()

# 
TypeScriptJSONMarkdown

interface StoryData {
  target: { age: string; persona: string; mainConcern: string; }; // 
  protagonist: { name: string; age: string; job: string; appearance: string; hairProblem: string; }; // 
  slides: Array<{
    id: number; // 1 to 8
    title: string; // 
    composition: string; // 
    characters: string; // 
    dialogue: string; // 20
    narration: string; // 
    emotion: string; //  (: , , )
    imagePrompt: string; //  ()
  }>;
}

# Image Prompt (imagePrompt) 
- 
- : "Japanese Shoujo Manga style, pastel colors, soft lighting, 1:1 aspect ratio, high quality illustration".
- 
`;function Cb(i){return Eb.replace("{salonName}",i.name).replace("{strengths}",i.strengths.join(", ")).replace("{features}",i.features.join(", "))}function Ab(i,n){const o="Japanese Shoujo Manga style, pastel colors, soft watercolor touch, high quality, 1:1 square ratio.",a=`Character: ${n.appearance}, ${n.age} years old female, ${n.job} style.`,r=`Scene: ${i.imagePrompt}. Composition: ${i.composition}. Emotion: ${i.emotion}.`,u=`
    Integrate a speech bubble with the following Japanese text exactly: "${i.dialogue}".
    Ensure the text is legible, dark color on white bubble.
  `;return`${o}
${a}
${r}
${u}`}function Rb(){const[i,n]=ae.useState("input"),[o,a]=ae.useState(""),[r,u]=ae.useState(null),[f,h]=ae.useState({}),[g,m]=ae.useState({}),[v,_]=ae.useState(null),S=async(R,M)=>{a(M),_(null),n("generating");try{const x=Cb(R),D=await Sb(M,x);if(!D.slides||D.slides.length!==8)throw new Error("8");u(D),n("result")}catch(x){_(x.message||""),n("input")}},T=async(R,M)=>{if(!r||!o)return;const x=r.slides.find(D=>D.id===R);if(x){m(D=>({...D,[R]:!0})),_(null);try{let D=M;!D&&R>1&&(D=f[R-1]);const G=Ab(x,r.protagonist)+(D?` 
(IMPORTANT: Maintain consistency with the character and style in the provided reference image.)`:""),U=await Tb(o,G,D);return h(K=>({...K,[R]:U})),U}catch(D){throw _(` ${R} : ${D.message}`),D}finally{m(D=>({...D,[R]:!1}))}}},b=async()=>{if(!r)return;let R;for(const M of r.slides){if(f[M.id]){R=f[M.id];continue}try{R=await T(M.id,R)}catch{console.error(`Stopped generation at slide ${M.id} due to error`);break}}},C=()=>{n("input"),u(null),h({}),_(null)};return dt.jsxs("div",{className:"app-container",children:[dt.jsxs("header",{style:{textAlign:"center",padding:"40px 20px"},children:[dt.jsx("h1",{className:"text-gradient",style:{fontSize:"2.5em",marginBottom:"10px"},children:"Instagram "}),dt.jsx("p",{style:{color:"var(--color-text-secondary)"},children:"AI"})]}),v&&dt.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto 20px",padding:"12px",background:"#FDEDEC",color:"#C0392B",borderRadius:"12px",display:"flex",alignItems:"center",gap:"8px"},children:[dt.jsx(w0,{size:20}),v]}),dt.jsxs("main",{children:[i==="input"&&dt.jsx(C_,{onSubmit:S,initialApiKey:o}),i==="generating"&&dt.jsxs("div",{className:"glass-card",style:{maxWidth:"400px",margin:"40px auto",padding:"40px",textAlign:"center",display:"flex",flexDirection:"column",gap:"20px",alignItems:"center"},children:[dt.jsx(Nl,{size:48,className:"spin",style:{color:"var(--color-accent)"}}),dt.jsx("h2",{style:{fontSize:"1.5em"},children:"..."}),dt.jsx("p",{children:""})]}),i==="result"&&r&&dt.jsx(iS,{story:r,images:f,loadingImages:g,onGenerateImage:T,onGenerateAll:b,onReset:C})]})]})}g0.createRoot(document.getElementById("root")).render(dt.jsx(ae.StrictMode,{children:dt.jsx(Rb,{})}));
